function gR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ow={exports:{}},fc={},aw={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),yR=Symbol.for("react.portal"),vR=Symbol.for("react.fragment"),_R=Symbol.for("react.strict_mode"),wR=Symbol.for("react.profiler"),ER=Symbol.for("react.provider"),xR=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),IR=Symbol.for("react.suspense"),SR=Symbol.for("react.memo"),RR=Symbol.for("react.lazy"),Sy=Symbol.iterator;function CR(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uw=Object.assign,cw={};function Vs(t,e,n){this.props=t,this.context=e,this.refs=cw,this.updater=n||lw}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dw(){}dw.prototype=Vs.prototype;function jp(t,e,n){this.props=t,this.context=e,this.refs=cw,this.updater=n||lw}var Op=jp.prototype=new dw;Op.constructor=jp;uw(Op,Vs.prototype);Op.isPureReactComponent=!0;var Ry=Array.isArray,hw=Object.prototype.hasOwnProperty,Lp={current:null},fw={key:!0,ref:!0,__self:!0,__source:!0};function pw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hw.call(e,r)&&!fw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pa,type:t,key:s,ref:o,props:i,_owner:Lp.current}}function AR(t,e){return{$$typeof:Pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pa}function kR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cy=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kR(""+t.key):e.toString(36)}function Ml(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pa:case yR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vd(o,0):r,Ry(i)?(n="",t!=null&&(n=t.replace(Cy,"$&/")+"/"),Ml(i,e,n,"",function(u){return u})):i!=null&&(Mp(i)&&(i=AR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ry(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vd(s,a);o+=Ml(s,e,n,l,i)}else if(l=CR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vd(s,a++),o+=Ml(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ol(t,e,n){if(t==null)return t;var r=[],i=0;return Ml(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},Vl={transition:null},NR={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:Lp};G.Children={map:ol,forEach:function(t,e,n){ol(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ol(t,function(){e++}),e},toArray:function(t){return ol(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Vs;G.Fragment=vR;G.Profiler=wR;G.PureComponent=jp;G.StrictMode=_R;G.Suspense=IR;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hw.call(e,l)&&!fw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pa,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:xR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ER,_context:t},t.Consumer=t};G.createElement=pw;G.createFactory=function(t){var e=pw.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:TR,render:t}};G.isValidElement=Mp;G.lazy=function(t){return{$$typeof:RR,_payload:{_status:-1,_result:t},_init:PR}};G.memo=function(t,e){return{$$typeof:SR,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Vl.transition;Vl.transition={};try{t()}finally{Vl.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return _t.current.useCallback(t,e)};G.useContext=function(t){return _t.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};G.useEffect=function(t,e){return _t.current.useEffect(t,e)};G.useId=function(){return _t.current.useId()};G.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return _t.current.useMemo(t,e)};G.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};G.useRef=function(t){return _t.current.useRef(t)};G.useState=function(t){return _t.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return _t.current.useTransition()};G.version="18.2.0";aw.exports=G;var x=aw.exports;const Q=Dp(x),bR=gR({__proto__:null,default:Q},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=x,jR=Symbol.for("react.element"),OR=Symbol.for("react.fragment"),LR=Object.prototype.hasOwnProperty,MR=DR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LR.call(e,r)&&!VR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jR,type:t,key:s,ref:o,props:i,_owner:MR.current}}fc.Fragment=OR;fc.jsx=mw;fc.jsxs=mw;ow.exports=fc;var c=ow.exports,Kh={},gw={exports:{}},Lt={},yw={exports:{}},vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,V){var W=P.length;P.push(V);e:for(;0<W;){var ie=W-1>>>1,fe=P[ie];if(0<i(fe,V))P[ie]=V,P[W]=fe,W=ie;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var V=P[0],W=P.pop();if(W!==V){P[0]=W;e:for(var ie=0,fe=P.length,F=fe>>>1;ie<F;){var oe=2*(ie+1)-1,Qr=P[oe],dn=oe+1,Ce=P[dn];if(0>i(Qr,W))dn<fe&&0>i(Ce,Qr)?(P[ie]=Ce,P[dn]=W,ie=dn):(P[ie]=Qr,P[oe]=W,ie=oe);else if(dn<fe&&0>i(Ce,W))P[ie]=Ce,P[dn]=W,ie=dn;else break e}}return V}function i(P,V){var W=P.sortIndex-V.sortIndex;return W!==0?W:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,_=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=P)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(P){if(v=!1,w(P),!_)if(n(l)!==null)_=!0,we(T);else{var V=n(u);V!==null&&cn(E,V.startTime-P)}}function T(P,V){_=!1,v&&(v=!1,p(b),b=-1),g=!0;var W=f;try{for(w(V),h=n(l);h!==null&&(!(h.expirationTime>V)||P&&!Re());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var fe=ie(h.expirationTime<=V);V=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),w(V)}else r(l);h=n(l)}if(h!==null)var F=!0;else{var oe=n(u);oe!==null&&cn(E,oe.startTime-V),F=!1}return F}finally{h=null,f=W,g=!1}}var S=!1,k=null,b=-1,q=5,L=-1;function Re(){return!(t.unstable_now()-L<q)}function Nn(){if(k!==null){var P=t.unstable_now();L=P;var V=!0;try{V=k(!0,P)}finally{V?Xt():(S=!1,k=null)}}else S=!1}var Xt;if(typeof m=="function")Xt=function(){m(Nn)};else if(typeof MessageChannel<"u"){var Gr=new MessageChannel,Mi=Gr.port2;Gr.port1.onmessage=Nn,Xt=function(){Mi.postMessage(null)}}else Xt=function(){y(Nn,0)};function we(P){k=P,S||(S=!0,Xt())}function cn(P,V){b=y(function(){P(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,we(T))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var W=f;f=V;try{return P()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=f;f=P;try{return V()}finally{f=W}},t.unstable_scheduleCallback=function(P,V,W){var ie=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,P){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=W+fe,P={id:d++,callback:V,priorityLevel:P,startTime:W,expirationTime:fe,sortIndex:-1},W>ie?(P.sortIndex=W,e(u,P),n(l)===null&&P===n(u)&&(v?(p(b),b=-1):v=!0,cn(E,W-ie))):(P.sortIndex=fe,e(l,P),_||g||(_=!0,we(T))),P},t.unstable_shouldYield=Re,t.unstable_wrapCallback=function(P){var V=f;return function(){var W=f;f=V;try{return P.apply(this,arguments)}finally{f=W}}}})(vw);yw.exports=vw;var FR=yw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=x,Dt=FR;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ww=new Set,zo={};function Ri(t,e){vs(t,e),vs(t+"Capture",e)}function vs(t,e){for(zo[t]=e,t=0;t<e.length;t++)ww.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=Object.prototype.hasOwnProperty,$R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ay={},ky={};function UR(t){return Gh.call(ky,t)?!0:Gh.call(Ay,t)?!1:$R.test(t)?ky[t]=!0:(Ay[t]=!0,!1)}function BR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zR(t,e,n,r){if(e===null||typeof e>"u"||BR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vp=/[\-:]([a-z])/g;function Fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vp,Fp);Ye[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vp,Fp);Ye[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vp,Fp);Ye[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $p(t,e,n,r){var i=Ye.hasOwnProperty(e)?Ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zR(e,n,i,r)&&(n=null),r||i===null?UR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jn=_w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,al=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),Ew=Symbol.for("react.provider"),xw=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Tw=Symbol.for("react.offscreen"),Py=Symbol.iterator;function to(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,Fd;function po(t){if(Fd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fd=e&&e[1]||""}return`
`+Fd+t}var $d=!1;function Ud(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?po(t):""}function WR(t){switch(t.tag){case 5:return po(t.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function Jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Bi:return"Portal";case Qh:return"Profiler";case Up:return"StrictMode";case Xh:return"Suspense";case Yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xw:return(t.displayName||"Context")+".Consumer";case Ew:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zp:return e=t.displayName||null,e!==null?e:Jh(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return Jh(t(e))}catch{}}return null}function HR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(e);case 8:return e===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qR(t){var e=Iw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ll(t){t._valueTracker||(t._valueTracker=qR(t))}function Sw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Iw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zh(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ny(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rw(t,e){e=e.checked,e!=null&&$p(t,"checked",e,!1)}function ef(t,e){Rw(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&tf(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function by(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tf(t,e,n){(e!=="number"||ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mo=Array.isArray;function rs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(mo(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function Cw(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Aw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Aw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ul,kw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KR=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(t){KR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ro[e]=Ro[t]})});function Pw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ro.hasOwnProperty(t)&&Ro[t]?(""+e).trim():e+"px"}function Nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Pw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GR=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sf(t,e){if(e){if(GR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function Wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lf=null,is=null,ss=null;function Oy(t){if(t=Da(t)){if(typeof lf!="function")throw Error(R(280));var e=t.stateNode;e&&(e=vc(e),lf(t.stateNode,t.type,e))}}function bw(t){is?ss?ss.push(t):ss=[t]:is=t}function Dw(){if(is){var t=is,e=ss;if(ss=is=null,Oy(t),e)for(t=0;t<e.length;t++)Oy(e[t])}}function jw(t,e){return t(e)}function Ow(){}var Bd=!1;function Lw(t,e,n){if(Bd)return t(e,n);Bd=!0;try{return jw(t,e,n)}finally{Bd=!1,(is!==null||ss!==null)&&(Ow(),Dw())}}function Ho(t,e){var n=t.stateNode;if(n===null)return null;var r=vc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var uf=!1;if(Bn)try{var no={};Object.defineProperty(no,"passive",{get:function(){uf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{uf=!1}function QR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Co=!1,au=null,lu=!1,cf=null,XR={onError:function(t){Co=!0,au=t}};function YR(t,e,n,r,i,s,o,a,l){Co=!1,au=null,QR.apply(XR,arguments)}function JR(t,e,n,r,i,s,o,a,l){if(YR.apply(this,arguments),Co){if(Co){var u=au;Co=!1,au=null}else throw Error(R(198));lu||(lu=!0,cf=u)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ly(t){if(Ci(t)!==t)throw Error(R(188))}function ZR(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ly(i),t;if(s===r)return Ly(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Vw(t){return t=ZR(t),t!==null?Fw(t):null}function Fw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fw(t);if(e!==null)return e;t=t.sibling}return null}var $w=Dt.unstable_scheduleCallback,My=Dt.unstable_cancelCallback,eC=Dt.unstable_shouldYield,tC=Dt.unstable_requestPaint,ke=Dt.unstable_now,nC=Dt.unstable_getCurrentPriorityLevel,Hp=Dt.unstable_ImmediatePriority,Uw=Dt.unstable_UserBlockingPriority,uu=Dt.unstable_NormalPriority,rC=Dt.unstable_LowPriority,Bw=Dt.unstable_IdlePriority,pc=null,_n=null;function iC(t){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(pc,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:aC,sC=Math.log,oC=Math.LN2;function aC(t){return t>>>=0,t===0?32:31-(sC(t)/oC|0)|0}var cl=64,dl=4194304;function go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=go(a):(s&=o,s!==0&&(r=go(s)))}else o=n&~i,o!==0?r=go(o):s!==0&&(r=go(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),i=1<<n,r|=t[n],e&=~i;return r}function lC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zw(){var t=cl;return cl<<=1,!(cl&4194240)&&(cl=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Na(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function cC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function Ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hw,Kp,qw,Kw,Gw,hf=!1,hl=[],gr=null,yr=null,vr=null,qo=new Map,Ko=new Map,sr=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vy(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function ro(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Da(e),e!==null&&Kp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hC(t,e,n,r,i){switch(e){case"focusin":return gr=ro(gr,t,e,n,r,i),!0;case"dragenter":return yr=ro(yr,t,e,n,r,i),!0;case"mouseover":return vr=ro(vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qo.set(s,ro(qo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ko.set(s,ro(Ko.get(s)||null,t,e,n,r,i)),!0}return!1}function Qw(t){var e=ei(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=Mw(n),e!==null){t.blockedOn=e,Gw(t.priority,function(){qw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return e=Da(n),e!==null&&Kp(e),t.blockedOn=n,!1;e.shift()}return!0}function Fy(t,e,n){Fl(t)&&n.delete(e)}function fC(){hf=!1,gr!==null&&Fl(gr)&&(gr=null),yr!==null&&Fl(yr)&&(yr=null),vr!==null&&Fl(vr)&&(vr=null),qo.forEach(Fy),Ko.forEach(Fy)}function io(t,e){t.blockedOn===e&&(t.blockedOn=null,hf||(hf=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,fC)))}function Go(t){function e(i){return io(i,t)}if(0<hl.length){io(hl[0],t);for(var n=1;n<hl.length;n++){var r=hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&io(gr,t),yr!==null&&io(yr,t),vr!==null&&io(vr,t),qo.forEach(e),Ko.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)Qw(n),n.blockedOn===null&&sr.shift()}var os=Jn.ReactCurrentBatchConfig,du=!0;function pC(t,e,n,r){var i=ee,s=os.transition;os.transition=null;try{ee=1,Gp(t,e,n,r)}finally{ee=i,os.transition=s}}function mC(t,e,n,r){var i=ee,s=os.transition;os.transition=null;try{ee=4,Gp(t,e,n,r)}finally{ee=i,os.transition=s}}function Gp(t,e,n,r){if(du){var i=ff(t,e,n,r);if(i===null)Zd(t,e,r,hu,n),Vy(t,r);else if(hC(i,t,e,n,r))r.stopPropagation();else if(Vy(t,r),e&4&&-1<dC.indexOf(t)){for(;i!==null;){var s=Da(i);if(s!==null&&Hw(s),s=ff(t,e,n,r),s===null&&Zd(t,e,r,hu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zd(t,e,r,null,n)}}var hu=null;function ff(t,e,n,r){if(hu=null,t=Wp(r),t=ei(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hu=t,null}function Xw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nC()){case Hp:return 1;case Uw:return 4;case uu:case rC:return 16;case Bw:return 536870912;default:return 16}default:return 16}}var hr=null,Qp=null,$l=null;function Yw(){if($l)return $l;var t,e=Qp,n=e.length,r,i="value"in hr?hr.value:hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $l=i.slice(t,1<r?1-r:void 0)}function Ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fl(){return!0}function $y(){return!1}function Mt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fl:$y,this.isPropagationStopped=$y,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),e}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=Mt(Fs),ba=ve({},Fs,{view:0,detail:0}),gC=Mt(ba),Wd,Hd,so,mc=ve({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==so&&(so&&t.type==="mousemove"?(Wd=t.screenX-so.screenX,Hd=t.screenY-so.screenY):Hd=Wd=0,so=t),Wd)},movementY:function(t){return"movementY"in t?t.movementY:Hd}}),Uy=Mt(mc),yC=ve({},mc,{dataTransfer:0}),vC=Mt(yC),_C=ve({},ba,{relatedTarget:0}),qd=Mt(_C),wC=ve({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),EC=Mt(wC),xC=ve({},Fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TC=Mt(xC),IC=ve({},Fs,{data:0}),By=Mt(IC),SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CC[t])?!!e[t]:!1}function Yp(){return AC}var kC=ve({},ba,{key:function(t){if(t.key){var e=SC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PC=Mt(kC),NC=ve({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=Mt(NC),bC=ve({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),DC=Mt(bC),jC=ve({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),OC=Mt(jC),LC=ve({},mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MC=Mt(LC),VC=[9,13,27,32],Jp=Bn&&"CompositionEvent"in window,Ao=null;Bn&&"documentMode"in document&&(Ao=document.documentMode);var FC=Bn&&"TextEvent"in window&&!Ao,Jw=Bn&&(!Jp||Ao&&8<Ao&&11>=Ao),Wy=String.fromCharCode(32),Hy=!1;function Zw(t,e){switch(t){case"keyup":return VC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function $C(t,e){switch(t){case"compositionend":return eE(e);case"keypress":return e.which!==32?null:(Hy=!0,Wy);case"textInput":return t=e.data,t===Wy&&Hy?null:t;default:return null}}function UC(t,e){if(Wi)return t==="compositionend"||!Jp&&Zw(t,e)?(t=Yw(),$l=Qp=hr=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jw&&e.locale!=="ko"?null:e.data;default:return null}}var BC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BC[t.type]:e==="textarea"}function tE(t,e,n,r){bw(r),e=fu(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ko=null,Qo=null;function zC(t){hE(t,0)}function gc(t){var e=Ki(t);if(Sw(e))return t}function WC(t,e){if(t==="change")return e}var nE=!1;if(Bn){var Kd;if(Bn){var Gd="oninput"in document;if(!Gd){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Gd=typeof Ky.oninput=="function"}Kd=Gd}else Kd=!1;nE=Kd&&(!document.documentMode||9<document.documentMode)}function Gy(){ko&&(ko.detachEvent("onpropertychange",rE),Qo=ko=null)}function rE(t){if(t.propertyName==="value"&&gc(Qo)){var e=[];tE(e,Qo,t,Wp(t)),Lw(zC,e)}}function HC(t,e,n){t==="focusin"?(Gy(),ko=e,Qo=n,ko.attachEvent("onpropertychange",rE)):t==="focusout"&&Gy()}function qC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(Qo)}function KC(t,e){if(t==="click")return gc(e)}function GC(t,e){if(t==="input"||t==="change")return gc(e)}function QC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:QC;function Xo(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gh.call(e,i)||!sn(t[i],e[i]))return!1}return!0}function Qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,e){var n=Qy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qy(n)}}function iE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sE(){for(var t=window,e=ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ou(t.document)}return e}function Zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XC(t){var e=sE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iE(n.ownerDocument.documentElement,n)){if(r!==null&&Zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xy(n,s);var o=Xy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YC=Bn&&"documentMode"in document&&11>=document.documentMode,Hi=null,pf=null,Po=null,mf=!1;function Yy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Hi==null||Hi!==ou(r)||(r=Hi,"selectionStart"in r&&Zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&Xo(Po,r)||(Po=r,r=fu(pf,"onSelect"),0<r.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hi)))}function pl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qi={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},Qd={},oE={};Bn&&(oE=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function yc(t){if(Qd[t])return Qd[t];if(!qi[t])return t;var e=qi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oE)return Qd[t]=e[n];return t}var aE=yc("animationend"),lE=yc("animationiteration"),uE=yc("animationstart"),cE=yc("transitionend"),dE=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){dE.set(t,e),Ri(e,[t])}for(var Xd=0;Xd<Jy.length;Xd++){var Yd=Jy[Xd],JC=Yd.toLowerCase(),ZC=Yd[0].toUpperCase()+Yd.slice(1);Fr(JC,"on"+ZC)}Fr(aE,"onAnimationEnd");Fr(lE,"onAnimationIteration");Fr(uE,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(cE,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eA=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Zy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JR(r,e,void 0,t),t.currentTarget=null}function hE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Zy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Zy(i,a,u),s=l}}}if(lu)throw t=cf,lu=!1,cf=null,t}function le(t,e){var n=e[wf];n===void 0&&(n=e[wf]=new Set);var r=t+"__bubble";n.has(r)||(fE(e,t,2,!1),n.add(r))}function Jd(t,e,n){var r=0;e&&(r|=4),fE(n,t,r,e)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[ml]){t[ml]=!0,ww.forEach(function(n){n!=="selectionchange"&&(eA.has(n)||Jd(n,!1,t),Jd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ml]||(e[ml]=!0,Jd("selectionchange",!1,e))}}function fE(t,e,n,r){switch(Xw(e)){case 1:var i=pC;break;case 4:i=mC;break;default:i=Gp}n=i.bind(null,e,n,t),i=void 0,!uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Lw(function(){var u=s,d=Wp(n),h=[];e:{var f=dE.get(t);if(f!==void 0){var g=Xp,_=t;switch(t){case"keypress":if(Ul(n)===0)break e;case"keydown":case"keyup":g=PC;break;case"focusin":_="focus",g=qd;break;case"focusout":_="blur",g=qd;break;case"beforeblur":case"afterblur":g=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DC;break;case aE:case lE:case uE:g=EC;break;case cE:g=OC;break;case"scroll":g=gC;break;case"wheel":g=MC;break;case"copy":case"cut":case"paste":g=TC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zy}var v=(e&4)!==0,y=!v&&t==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,w;m!==null;){w=m;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,p!==null&&(E=Ho(m,p),E!=null&&v.push(Jo(m,E,w)))),y)break;m=m.return}0<v.length&&(f=new g(f,_,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==af&&(_=n.relatedTarget||n.fromElement)&&(ei(_)||_[zn]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?ei(_):null,_!==null&&(y=Ci(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=Uy,E="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=zy,E="onPointerLeave",p="onPointerEnter",m="pointer"),y=g==null?f:Ki(g),w=_==null?f:Ki(_),f=new v(E,m+"leave",g,n,d),f.target=y,f.relatedTarget=w,E=null,ei(d)===u&&(v=new v(p,m+"enter",_,n,d),v.target=w,v.relatedTarget=y,E=v),y=E,g&&_)t:{for(v=g,p=_,m=0,w=v;w;w=Vi(w))m++;for(w=0,E=p;E;E=Vi(E))w++;for(;0<m-w;)v=Vi(v),m--;for(;0<w-m;)p=Vi(p),w--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=Vi(v),p=Vi(p)}v=null}else v=null;g!==null&&ev(h,f,g,v,!1),_!==null&&y!==null&&ev(h,y,_,v,!0)}}e:{if(f=u?Ki(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=WC;else if(qy(f))if(nE)T=GC;else{T=qC;var S=HC}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=KC);if(T&&(T=T(t,u))){tE(h,T,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&tf(f,"number",f.value)}switch(S=u?Ki(u):window,t){case"focusin":(qy(S)||S.contentEditable==="true")&&(Hi=S,pf=u,Po=null);break;case"focusout":Po=pf=Hi=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Yy(h,n,d);break;case"selectionchange":if(YC)break;case"keydown":case"keyup":Yy(h,n,d)}var k;if(Jp)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wi?Zw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Jw&&n.locale!=="ko"&&(Wi||b!=="onCompositionStart"?b==="onCompositionEnd"&&Wi&&(k=Yw()):(hr=d,Qp="value"in hr?hr.value:hr.textContent,Wi=!0)),S=fu(u,b),0<S.length&&(b=new By(b,t,null,n,d),h.push({event:b,listeners:S}),k?b.data=k:(k=eE(n),k!==null&&(b.data=k)))),(k=FC?$C(t,n):UC(t,n))&&(u=fu(u,"onBeforeInput"),0<u.length&&(d=new By("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}hE(h,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ho(t,n),s!=null&&r.unshift(Jo(t,s,i)),s=Ho(t,e),s!=null&&r.push(Jo(t,s,i))),t=t.return}return r}function Vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ev(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ho(n,s),l!=null&&o.unshift(Jo(n,l,a))):i||(l=Ho(n,s),l!=null&&o.push(Jo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(tA,`
`).replace(nA,"")}function gl(t,e,n){if(e=tv(e),tv(t)!==e&&n)throw Error(R(425))}function pu(){}var gf=null,yf=null;function vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(t){return nv.resolve(null).then(t).catch(sA)}:_f;function sA(t){setTimeout(function(){throw t})}function eh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Go(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Go(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $s=Math.random().toString(36).slice(2),pn="__reactFiber$"+$s,Zo="__reactProps$"+$s,zn="__reactContainer$"+$s,wf="__reactEvents$"+$s,oA="__reactListeners$"+$s,aA="__reactHandles$"+$s;function ei(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zn]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rv(t);t!==null;){if(n=t[pn])return n;t=rv(t)}return e}t=n,n=t.parentNode}return null}function Da(t){return t=t[pn]||t[zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ki(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function vc(t){return t[Zo]||null}var Ef=[],Gi=-1;function $r(t){return{current:t}}function de(t){0>Gi||(t.current=Ef[Gi],Ef[Gi]=null,Gi--)}function ae(t,e){Gi++,Ef[Gi]=t.current,t.current=e}var br={},ct=$r(br),It=$r(!1),di=br;function _s(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function St(t){return t=t.childContextTypes,t!=null}function mu(){de(It),de(ct)}function iv(t,e,n){if(ct.current!==br)throw Error(R(168));ae(ct,e),ae(It,n)}function pE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,HR(t)||"Unknown",i));return ve({},n,r)}function gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,di=ct.current,ae(ct,t),ae(It,It.current),!0}function sv(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=pE(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,de(It),de(ct),ae(ct,t)):de(It),ae(It,n)}var Dn=null,_c=!1,th=!1;function mE(t){Dn===null?Dn=[t]:Dn.push(t)}function lA(t){_c=!0,mE(t)}function Ur(){if(!th&&Dn!==null){th=!0;var t=0,e=ee;try{var n=Dn;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,_c=!1}catch(i){throw Dn!==null&&(Dn=Dn.slice(t+1)),$w(Hp,Ur),i}finally{ee=e,th=!1}}return null}var Qi=[],Xi=0,yu=null,vu=0,Ft=[],$t=0,hi=null,On=1,Ln="";function Xr(t,e){Qi[Xi++]=vu,Qi[Xi++]=yu,yu=t,vu=e}function gE(t,e,n){Ft[$t++]=On,Ft[$t++]=Ln,Ft[$t++]=hi,hi=t;var r=On;t=Ln;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var s=32-nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,On=1<<32-nn(e)+i|n<<i|r,Ln=s+t}else On=1<<s|n<<i|r,Ln=t}function em(t){t.return!==null&&(Xr(t,1),gE(t,1,0))}function tm(t){for(;t===yu;)yu=Qi[--Xi],Qi[Xi]=null,vu=Qi[--Xi],Qi[Xi]=null;for(;t===hi;)hi=Ft[--$t],Ft[$t]=null,Ln=Ft[--$t],Ft[$t]=null,On=Ft[--$t],Ft[$t]=null}var bt=null,kt=null,me=!1,en=null;function yE(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ov(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bt=t,kt=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bt=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hi!==null?{id:On,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bt=t,kt=null,!0):!1;default:return!1}}function xf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(me){var e=kt;if(e){var n=e;if(!ov(t,e)){if(xf(t))throw Error(R(418));e=_r(n.nextSibling);var r=bt;e&&ov(t,e)?yE(r,n):(t.flags=t.flags&-4097|2,me=!1,bt=t)}}else{if(xf(t))throw Error(R(418));t.flags=t.flags&-4097|2,me=!1,bt=t}}}function av(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function yl(t){if(t!==bt)return!1;if(!me)return av(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vf(t.type,t.memoizedProps)),e&&(e=kt)){if(xf(t))throw vE(),Error(R(418));for(;e;)yE(t,e),e=_r(e.nextSibling)}if(av(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=bt?_r(t.stateNode.nextSibling):null;return!0}function vE(){for(var t=kt;t;)t=_r(t.nextSibling)}function ws(){kt=bt=null,me=!1}function nm(t){en===null?en=[t]:en.push(t)}var uA=Jn.ReactCurrentBatchConfig;function Jt(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _u=$r(null),wu=null,Yi=null,rm=null;function im(){rm=Yi=wu=null}function sm(t){var e=_u.current;de(_u),t._currentValue=e}function If(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function as(t,e){wu=t,rm=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(rm!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(wu===null)throw Error(R(308));Yi=t,wu.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var ti=null;function om(t){ti===null?ti=[t]:ti.push(t)}function _E(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,om(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wn(t,r)}function Wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wn(t,n)}return i=r.interleaved,i===null?(e.next=e,om(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wn(t,n)}function Bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function lv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eu(t,e,n,r){var i=t.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=ve({},h,f);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pi|=o,t.lanes=o,t.memoizedState=h}}function uv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var EE=new _w.Component().refs;function Sf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wc={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yt(),i=xr(t),s=$n(r,i);s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(rn(e,t,i,r),Bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yt(),i=xr(t),s=$n(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(rn(e,t,i,r),Bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yt(),r=xr(t),i=$n(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(rn(e,t,r,n),Bl(e,t,r))}};function cv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xo(n,r)||!Xo(i,s):!0}function xE(t,e,n){var r=!1,i=br,s=e.contextType;return typeof s=="object"&&s!==null?s=qt(s):(i=St(e)?di:ct.current,r=e.contextTypes,s=(r=r!=null)?_s(t,i):br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wc.enqueueReplaceState(e,e.state,null)}function Rf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=EE,am(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qt(s):(s=St(e)?di:ct.current,i.context=_s(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wc.enqueueReplaceState(i,i.state,null),Eu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===EE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function vl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hv(t){var e=t._init;return e(t._payload)}function TE(t){function e(p,m){if(t){var w=p.deletions;w===null?(p.deletions=[m],p.flags|=16):w.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Tr(p,m),p.index=0,p.sibling=null,p}function s(p,m,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<m?(p.flags|=2,m):w):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,w,E){return m===null||m.tag!==6?(m=lh(w,p.mode,E),m.return=p,m):(m=i(m,w),m.return=p,m)}function l(p,m,w,E){var T=w.type;return T===zi?d(p,m,w.props.children,E,w.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rr&&hv(T)===m.type)?(E=i(m,w.props),E.ref=oo(p,m,w),E.return=p,E):(E=Gl(w.type,w.key,w.props,null,p.mode,E),E.ref=oo(p,m,w),E.return=p,E)}function u(p,m,w,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=uh(w,p.mode,E),m.return=p,m):(m=i(m,w.children||[]),m.return=p,m)}function d(p,m,w,E,T){return m===null||m.tag!==7?(m=ai(w,p.mode,E,T),m.return=p,m):(m=i(m,w),m.return=p,m)}function h(p,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=lh(""+m,p.mode,w),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case al:return w=Gl(m.type,m.key,m.props,null,p.mode,w),w.ref=oo(p,null,m),w.return=p,w;case Bi:return m=uh(m,p.mode,w),m.return=p,m;case rr:var E=m._init;return h(p,E(m._payload),w)}if(mo(m)||to(m))return m=ai(m,p.mode,w,null),m.return=p,m;vl(p,m)}return null}function f(p,m,w,E){var T=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(p,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case al:return w.key===T?l(p,m,w,E):null;case Bi:return w.key===T?u(p,m,w,E):null;case rr:return T=w._init,f(p,m,T(w._payload),E)}if(mo(w)||to(w))return T!==null?null:d(p,m,w,E,null);vl(p,w)}return null}function g(p,m,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(w)||null,a(m,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case al:return p=p.get(E.key===null?w:E.key)||null,l(m,p,E,T);case Bi:return p=p.get(E.key===null?w:E.key)||null,u(m,p,E,T);case rr:var S=E._init;return g(p,m,w,S(E._payload),T)}if(mo(E)||to(E))return p=p.get(w)||null,d(m,p,E,T,null);vl(m,E)}return null}function _(p,m,w,E){for(var T=null,S=null,k=m,b=m=0,q=null;k!==null&&b<w.length;b++){k.index>b?(q=k,k=null):q=k.sibling;var L=f(p,k,w[b],E);if(L===null){k===null&&(k=q);break}t&&k&&L.alternate===null&&e(p,k),m=s(L,m,b),S===null?T=L:S.sibling=L,S=L,k=q}if(b===w.length)return n(p,k),me&&Xr(p,b),T;if(k===null){for(;b<w.length;b++)k=h(p,w[b],E),k!==null&&(m=s(k,m,b),S===null?T=k:S.sibling=k,S=k);return me&&Xr(p,b),T}for(k=r(p,k);b<w.length;b++)q=g(k,p,b,w[b],E),q!==null&&(t&&q.alternate!==null&&k.delete(q.key===null?b:q.key),m=s(q,m,b),S===null?T=q:S.sibling=q,S=q);return t&&k.forEach(function(Re){return e(p,Re)}),me&&Xr(p,b),T}function v(p,m,w,E){var T=to(w);if(typeof T!="function")throw Error(R(150));if(w=T.call(w),w==null)throw Error(R(151));for(var S=T=null,k=m,b=m=0,q=null,L=w.next();k!==null&&!L.done;b++,L=w.next()){k.index>b?(q=k,k=null):q=k.sibling;var Re=f(p,k,L.value,E);if(Re===null){k===null&&(k=q);break}t&&k&&Re.alternate===null&&e(p,k),m=s(Re,m,b),S===null?T=Re:S.sibling=Re,S=Re,k=q}if(L.done)return n(p,k),me&&Xr(p,b),T;if(k===null){for(;!L.done;b++,L=w.next())L=h(p,L.value,E),L!==null&&(m=s(L,m,b),S===null?T=L:S.sibling=L,S=L);return me&&Xr(p,b),T}for(k=r(p,k);!L.done;b++,L=w.next())L=g(k,p,b,L.value,E),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?b:L.key),m=s(L,m,b),S===null?T=L:S.sibling=L,S=L);return t&&k.forEach(function(Nn){return e(p,Nn)}),me&&Xr(p,b),T}function y(p,m,w,E){if(typeof w=="object"&&w!==null&&w.type===zi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case al:e:{for(var T=w.key,S=m;S!==null;){if(S.key===T){if(T=w.type,T===zi){if(S.tag===7){n(p,S.sibling),m=i(S,w.props.children),m.return=p,p=m;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rr&&hv(T)===S.type){n(p,S.sibling),m=i(S,w.props),m.ref=oo(p,S,w),m.return=p,p=m;break e}n(p,S);break}else e(p,S);S=S.sibling}w.type===zi?(m=ai(w.props.children,p.mode,E,w.key),m.return=p,p=m):(E=Gl(w.type,w.key,w.props,null,p.mode,E),E.ref=oo(p,m,w),E.return=p,p=E)}return o(p);case Bi:e:{for(S=w.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(p,m.sibling),m=i(m,w.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=uh(w,p.mode,E),m.return=p,p=m}return o(p);case rr:return S=w._init,y(p,m,S(w._payload),E)}if(mo(w))return _(p,m,w,E);if(to(w))return v(p,m,w,E);vl(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,w),m.return=p,p=m):(n(p,m),m=lh(w,p.mode,E),m.return=p,p=m),o(p)):n(p,m)}return y}var Es=TE(!0),IE=TE(!1),ja={},wn=$r(ja),ea=$r(ja),ta=$r(ja);function ni(t){if(t===ja)throw Error(R(174));return t}function lm(t,e){switch(ae(ta,e),ae(ea,t),ae(wn,ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rf(e,t)}de(wn),ae(wn,e)}function xs(){de(wn),de(ea),de(ta)}function SE(t){ni(ta.current);var e=ni(wn.current),n=rf(e,t.type);e!==n&&(ae(ea,t),ae(wn,n))}function um(t){ea.current===t&&(de(wn),de(ea))}var ge=$r(0);function xu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nh=[];function cm(){for(var t=0;t<nh.length;t++)nh[t]._workInProgressVersionPrimary=null;nh.length=0}var zl=Jn.ReactCurrentDispatcher,rh=Jn.ReactCurrentBatchConfig,fi=0,ye=null,Me=null,Ue=null,Tu=!1,No=!1,na=0,cA=0;function Je(){throw Error(R(321))}function dm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function hm(t,e,n,r,i,s){if(fi=s,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zl.current=t===null||t.memoizedState===null?pA:mA,t=n(r,i),No){s=0;do{if(No=!1,na=0,25<=s)throw Error(R(301));s+=1,Ue=Me=null,e.updateQueue=null,zl.current=gA,t=n(r,i)}while(No)}if(zl.current=Iu,e=Me!==null&&Me.next!==null,fi=0,Ue=Me=ye=null,Tu=!1,e)throw Error(R(300));return t}function fm(){var t=na!==0;return na=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ye.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Kt(){if(Me===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Ue===null?ye.memoizedState:Ue.next;if(e!==null)Ue=e,Me=t;else{if(t===null)throw Error(R(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ue===null?ye.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function ra(t,e){return typeof e=="function"?e(t):e}function ih(t){var e=Kt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((fi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ye.lanes|=d,pi|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,sn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ye.lanes|=s,pi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sh(t){var e=Kt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sn(s,e.memoizedState)||(Tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RE(){}function CE(t,e){var n=ye,r=Kt(),i=e(),s=!sn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,pm(PE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ia(9,kE.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(R(349));fi&30||AE(n,e,i)}return i}function AE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kE(t,e,n,r){e.value=n,e.getSnapshot=r,NE(e)&&bE(t)}function PE(t,e,n){return n(function(){NE(e)&&bE(t)})}function NE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function bE(t){var e=Wn(t,1);e!==null&&rn(e,t,1,-1)}function fv(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=fA.bind(null,ye,t),[e.memoizedState,t]}function ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DE(){return Kt().memoizedState}function Wl(t,e,n,r){var i=fn();ye.flags|=t,i.memoizedState=ia(1|e,n,void 0,r===void 0?null:r)}function Ec(t,e,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&dm(r,o.deps)){i.memoizedState=ia(e,n,s,r);return}}ye.flags|=t,i.memoizedState=ia(1|e,n,s,r)}function pv(t,e){return Wl(8390656,8,t,e)}function pm(t,e){return Ec(2048,8,t,e)}function jE(t,e){return Ec(4,2,t,e)}function OE(t,e){return Ec(4,4,t,e)}function LE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ME(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4,4,LE.bind(null,e,t),n)}function mm(){}function VE(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FE(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $E(t,e,n){return fi&21?(sn(n,e)||(n=zw(),ye.lanes|=n,pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function dA(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=rh.transition;rh.transition={};try{t(!1),e()}finally{ee=n,rh.transition=r}}function UE(){return Kt().memoizedState}function hA(t,e,n){var r=xr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BE(t))zE(e,n);else if(n=_E(t,e,n,r),n!==null){var i=yt();rn(n,t,r,i),WE(n,e,r)}}function fA(t,e,n){var r=xr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BE(t))zE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sn(a,o)){var l=e.interleaved;l===null?(i.next=i,om(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_E(t,e,i,r),n!==null&&(i=yt(),rn(n,t,r,i),WE(n,e,r))}}function BE(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function zE(t,e){No=Tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var Iu={readContext:qt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},pA={readContext:qt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:pv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4194308,4,LE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wl(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hA.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:fv,useDebugValue:mm,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=fv(!1),e=t[0];return t=dA.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,i=fn();if(me){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Be===null)throw Error(R(349));fi&30||AE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,pv(PE.bind(null,r,s,t),[t]),r.flags|=2048,ia(9,kE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fn(),e=Be.identifierPrefix;if(me){var n=Ln,r=On;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mA={readContext:qt,useCallback:VE,useContext:qt,useEffect:pm,useImperativeHandle:ME,useInsertionEffect:jE,useLayoutEffect:OE,useMemo:FE,useReducer:ih,useRef:DE,useState:function(){return ih(ra)},useDebugValue:mm,useDeferredValue:function(t){var e=Kt();return $E(e,Me.memoizedState,t)},useTransition:function(){var t=ih(ra)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:CE,useId:UE,unstable_isNewReconciler:!1},gA={readContext:qt,useCallback:VE,useContext:qt,useEffect:pm,useImperativeHandle:ME,useInsertionEffect:jE,useLayoutEffect:OE,useMemo:FE,useReducer:sh,useRef:DE,useState:function(){return sh(ra)},useDebugValue:mm,useDeferredValue:function(t){var e=Kt();return Me===null?e.memoizedState=t:$E(e,Me.memoizedState,t)},useTransition:function(){var t=sh(ra)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:CE,useId:UE,unstable_isNewReconciler:!1};function Ts(t,e){try{var n="",r=e;do n+=WR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function oh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yA=typeof WeakMap=="function"?WeakMap:Map;function HE(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ru||(Ru=!0,Mf=r),Cf(t,e)},n}function qE(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cf(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NA.bind(null,t,e,n),e.then(t,t))}function gv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var vA=Jn.ReactCurrentOwner,Tt=!1;function mt(t,e,n,r){e.child=t===null?IE(e,null,n,r):Es(e,t.child,n,r)}function vv(t,e,n,r,i){n=n.render;var s=e.ref;return as(e,i),r=hm(t,e,n,r,s,i),n=fm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(me&&n&&em(e),e.flags|=1,mt(t,e,r,i),e.child)}function _v(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Tm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KE(t,e,s,r,i)):(t=Gl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(o,r)&&t.ref===e.ref)return Hn(t,e,i)}return e.flags|=1,t=Tr(s,r),t.ref=e.ref,t.return=e,e.child=t}function KE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xo(s,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Hn(t,e,i)}return Af(t,e,n,r,i)}function GE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Zi,At),At|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Zi,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(Zi,At),At|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ae(Zi,At),At|=r;return mt(t,e,i,n),e.child}function QE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Af(t,e,n,r,i){var s=St(n)?di:ct.current;return s=_s(e,s),as(e,i),n=hm(t,e,n,r,s,i),r=fm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(me&&r&&em(e),e.flags|=1,mt(t,e,n,i),e.child)}function wv(t,e,n,r,i){if(St(n)){var s=!0;gu(e)}else s=!1;if(as(e,i),e.stateNode===null)Hl(t,e),xE(e,n,r),Rf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=St(n)?di:ct.current,u=_s(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&dv(e,o,r,u),ir=!1;var f=e.memoizedState;o.state=f,Eu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||It.current||ir?(typeof d=="function"&&(Sf(e,n,d,r),l=e.memoizedState),(a=ir||cv(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=St(n)?di:ct.current,l=_s(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dv(e,o,r,l),ir=!1,f=e.memoizedState,o.state=f,Eu(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||It.current||ir?(typeof g=="function"&&(Sf(e,n,g,r),_=e.memoizedState),(u=ir||cv(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kf(t,e,n,r,s,i)}function kf(t,e,n,r,i,s){QE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sv(e,n,!1),Hn(t,e,s);r=e.stateNode,vA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Es(e,t.child,null,s),e.child=Es(e,null,a,s)):mt(t,e,a,s),e.memoizedState=r.state,i&&sv(e,n,!0),e.child}function XE(t){var e=t.stateNode;e.pendingContext?iv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iv(t,e.context,!1),lm(t,e.containerInfo)}function Ev(t,e,n,r,i){return ws(),nm(i),e.flags|=256,mt(t,e,n,r),e.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function YE(t,e,n){var r=e.pendingProps,i=ge.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(ge,i&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ic(o,r,0,null),t=ai(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nf(n),e.memoizedState=Pf,t):gm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _A(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Tr(a,s):(s=ai(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Nf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pf,r}return s=t.child,t=s.sibling,r=Tr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gm(t,e){return e=Ic({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _l(t,e,n,r){return r!==null&&nm(r),Es(e,t.child,null,n),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _A(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=oh(Error(R(422))),_l(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ic({mode:"visible",children:r.children},i,0,null),s=ai(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Es(e,t.child,null,o),e.child.memoizedState=Nf(o),e.memoizedState=Pf,s);if(!(e.mode&1))return _l(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=oh(s,r,void 0),_l(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tt||a){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wn(t,i),rn(r,t,i,-1))}return xm(),r=oh(Error(R(421))),_l(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kt=_r(i.nextSibling),bt=e,me=!0,en=null,t!==null&&(Ft[$t++]=On,Ft[$t++]=Ln,Ft[$t++]=hi,On=t.id,Ln=t.overflow,hi=e),e=gm(e,r.children),e.flags|=4096,e)}function xv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),If(t.return,e,n)}function ah(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mt(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,n,e);else if(t.tag===19)xv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ah(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ah(e,!0,n,null,s);break;case"together":ah(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wA(t,e,n){switch(e.tag){case 3:XE(e),ws();break;case 5:SE(e);break;case 1:St(e.type)&&gu(e);break;case 4:lm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(_u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?YE(t,e,n):(ae(ge,ge.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);ae(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,GE(t,e,n)}return Hn(t,e,n)}var ZE,bf,e1,t1;ZE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bf=function(){};e1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ni(wn.current);var s=null;switch(n){case"input":i=Zh(t,i),r=Zh(t,r),s=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":i=nf(t,i),r=nf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pu)}sf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};t1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ao(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EA(t,e,n){var r=e.pendingProps;switch(tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return St(e.type)&&mu(),Ze(e),null;case 3:return r=e.stateNode,xs(),de(It),de(ct),cm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&($f(en),en=null))),bf(t,e),Ze(e),null;case 5:um(e);var i=ni(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)e1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Ze(e),null}if(t=ni(wn.current),yl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pn]=e,r[Zo]=s,t=(e.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)le(yo[i],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Ny(r,s),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},le("invalid",r);break;case"textarea":Dy(r,s),le("invalid",r)}sf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gl(r.textContent,a,t),i=["children",""+a]):zo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":ll(r),by(r,s,!0);break;case"textarea":ll(r),jy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Aw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[Zo]=r,ZE(t,e,!1,!1),e.stateNode=t;e:{switch(o=of(n,r),n){case"dialog":le("cancel",t),le("close",t),i=r;break;case"iframe":case"object":case"embed":le("load",t),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)le(yo[i],t);i=r;break;case"source":le("error",t),i=r;break;case"img":case"image":case"link":le("error",t),le("load",t),i=r;break;case"details":le("toggle",t),i=r;break;case"input":Ny(t,r),i=Zh(t,r),le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),le("invalid",t);break;case"textarea":Dy(t,r),i=nf(t,r),le("invalid",t);break;default:i=r}sf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wo(t,l):typeof l=="number"&&Wo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&le("scroll",t):l!=null&&$p(t,s,l,o))}switch(n){case"input":ll(t),by(t,r,!1);break;case"textarea":ll(t),jy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?rs(t,!!r.multiple,s,!1):r.defaultValue!=null&&rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)t1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=ni(ta.current),ni(wn.current),yl(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(s=r.nodeValue!==n)&&(t=bt,t!==null))switch(t.tag){case 3:gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return Ze(e),null;case 13:if(de(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&kt!==null&&e.mode&1&&!(e.flags&128))vE(),ws(),e.flags|=98560,s=!1;else if(s=yl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[pn]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),s=!1}else en!==null&&($f(en),en=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Ve===0&&(Ve=3):xm())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return xs(),bf(t,e),t===null&&Yo(e.stateNode.containerInfo),Ze(e),null;case 10:return sm(e.type._context),Ze(e),null;case 17:return St(e.type)&&mu(),Ze(e),null;case 19:if(de(ge),s=e.memoizedState,s===null)return Ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ao(s,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xu(t),o!==null){for(e.flags|=128,ao(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(ge,ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&ke()>Is&&(e.flags|=128,r=!0,ao(s,!1),e.lanes=4194304)}else{if(!r)if(t=xu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return Ze(e),null}else 2*ke()-s.renderingStartTime>Is&&n!==1073741824&&(e.flags|=128,r=!0,ao(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,n=ge.current,ae(ge,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return Em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function xA(t,e){switch(tm(e),e.tag){case 1:return St(e.type)&&mu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xs(),de(It),de(ct),cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return um(e),null;case 13:if(de(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ge),null;case 4:return xs(),null;case 10:return sm(e.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var wl=!1,rt=!1,TA=typeof WeakSet=="function"?WeakSet:Set,j=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function Df(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var Tv=!1;function IA(t,e){if(gf=du,t=sE(),Zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:t,selectionRange:n},du=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,y=_.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Jt(e.type,v),y);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Ee(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return _=Tv,Tv=!1,_}function bo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Df(e,n,s)}i=i.next}while(i!==r)}}function xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function n1(t){var e=t.alternate;e!==null&&(t.alternate=null,n1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[Zo],delete e[wf],delete e[oA],delete e[aA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r1(t){return t.tag===5||t.tag===3||t.tag===4}function Iv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pu));else if(r!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}function Lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}var qe=null,Zt=!1;function tr(t,e,n){for(n=n.child;n!==null;)i1(t,e,n),n=n.sibling}function i1(t,e,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(pc,n)}catch{}switch(n.tag){case 5:rt||Ji(n,e);case 6:var r=qe,i=Zt;qe=null,tr(t,e,n),qe=r,Zt=i,qe!==null&&(Zt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Zt?(t=qe,n=n.stateNode,t.nodeType===8?eh(t.parentNode,n):t.nodeType===1&&eh(t,n),Go(t)):eh(qe,n.stateNode));break;case 4:r=qe,i=Zt,qe=n.stateNode.containerInfo,Zt=!0,tr(t,e,n),qe=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Df(n,e,o),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!rt&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ee(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,tr(t,e,n),rt=r):tr(t,e,n);break;default:tr(t,e,n)}}function Sv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TA),e.forEach(function(r){var i=DA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,Zt=!1;break e;case 3:qe=a.stateNode.containerInfo,Zt=!0;break e;case 4:qe=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(qe===null)throw Error(R(160));i1(s,o,i),qe=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s1(e,t),e=e.sibling}function s1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),hn(t),r&4){try{bo(3,t,t.return),xc(3,t)}catch(v){Ee(t,t.return,v)}try{bo(5,t,t.return)}catch(v){Ee(t,t.return,v)}}break;case 1:Yt(e,t),hn(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(Yt(e,t),hn(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var i=t.stateNode;try{Wo(i,"")}catch(v){Ee(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Rw(i,s),of(a,o);var u=of(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Nw(i,h):d==="dangerouslySetInnerHTML"?kw(i,h):d==="children"?Wo(i,h):$p(i,d,h,u)}switch(a){case"input":ef(i,s);break;case"textarea":Cw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?rs(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?rs(i,!!s.multiple,s.defaultValue,!0):rs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zo]=s}catch(v){Ee(t,t.return,v)}}break;case 6:if(Yt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ee(t,t.return,v)}}break;case 3:if(Yt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Go(e.containerInfo)}catch(v){Ee(t,t.return,v)}break;case 4:Yt(e,t),hn(t);break;case 13:Yt(e,t),hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_m=ke())),r&4&&Sv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(u=rt)||d,Yt(e,t),rt=u):Yt(e,t),hn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(j=t,d=t.child;d!==null;){for(h=j=d;j!==null;){switch(f=j,g=f.child,f.tag){case 0:case 11:case 14:case 15:bo(4,f,f.return);break;case 1:Ji(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Ee(r,n,v)}}break;case 5:Ji(f,f.return);break;case 22:if(f.memoizedState!==null){Cv(h);continue}}g!==null?(g.return=f,j=g):Cv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pw("display",o))}catch(v){Ee(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ee(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yt(e,t),hn(t),r&4&&Sv(t);break;case 21:break;default:Yt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r1(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wo(i,""),r.flags&=-33);var s=Iv(t);Lf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Iv(t);Of(t,a,o);break;default:throw Error(R(161))}}catch(l){Ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SA(t,e,n){j=t,o1(t)}function o1(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rt;a=wl;var u=rt;if(wl=o,(rt=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Av(i):l!==null?(l.return=o,j=l):Av(i);for(;s!==null;)j=s,o1(s),s=s.sibling;j=i,wl=a,rt=u}Rv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):Rv(t)}}function Rv(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||xc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Go(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}rt||e.flags&512&&jf(e)}catch(f){Ee(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Cv(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Av(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xc(4,e)}catch(l){Ee(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ee(e,i,l)}}var s=e.return;try{jf(e)}catch(l){Ee(e,s,l)}break;case 5:var o=e.return;try{jf(e)}catch(l){Ee(e,o,l)}}}catch(l){Ee(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var RA=Math.ceil,Su=Jn.ReactCurrentDispatcher,ym=Jn.ReactCurrentOwner,Wt=Jn.ReactCurrentBatchConfig,Y=0,Be=null,be=null,Qe=0,At=0,Zi=$r(0),Ve=0,sa=null,pi=0,Tc=0,vm=0,Do=null,Et=null,_m=0,Is=1/0,bn=null,Ru=!1,Mf=null,Er=null,El=!1,fr=null,Cu=0,jo=0,Vf=null,ql=-1,Kl=0;function yt(){return Y&6?ke():ql!==-1?ql:ql=ke()}function xr(t){return t.mode&1?Y&2&&Qe!==0?Qe&-Qe:uA.transition!==null?(Kl===0&&(Kl=zw()),Kl):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Xw(t.type)),t):1}function rn(t,e,n,r){if(50<jo)throw jo=0,Vf=null,Error(R(185));Na(t,n,r),(!(Y&2)||t!==Be)&&(t===Be&&(!(Y&2)&&(Tc|=n),Ve===4&&or(t,Qe)),Rt(t,r),n===1&&Y===0&&!(e.mode&1)&&(Is=ke()+500,_c&&Ur()))}function Rt(t,e){var n=t.callbackNode;uC(t,e);var r=cu(t,t===Be?Qe:0);if(r===0)n!==null&&My(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&My(n),e===1)t.tag===0?lA(kv.bind(null,t)):mE(kv.bind(null,t)),iA(function(){!(Y&6)&&Ur()}),n=null;else{switch(Ww(r)){case 1:n=Hp;break;case 4:n=Uw;break;case 16:n=uu;break;case 536870912:n=Bw;break;default:n=uu}n=p1(n,a1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function a1(t,e){if(ql=-1,Kl=0,Y&6)throw Error(R(327));var n=t.callbackNode;if(ls()&&t.callbackNode!==n)return null;var r=cu(t,t===Be?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Au(t,r);else{e=r;var i=Y;Y|=2;var s=u1();(Be!==t||Qe!==e)&&(bn=null,Is=ke()+500,oi(t,e));do try{kA();break}catch(a){l1(t,a)}while(1);im(),Su.current=s,Y=i,be!==null?e=0:(Be=null,Qe=0,e=Ve)}if(e!==0){if(e===2&&(i=df(t),i!==0&&(r=i,e=Ff(t,i))),e===1)throw n=sa,oi(t,0),or(t,r),Rt(t,ke()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!CA(i)&&(e=Au(t,r),e===2&&(s=df(t),s!==0&&(r=s,e=Ff(t,s))),e===1))throw n=sa,oi(t,0),or(t,r),Rt(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Yr(t,Et,bn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=_m+500-ke(),10<e)){if(cu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(Yr.bind(null,t,Et,bn),e);break}Yr(t,Et,bn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RA(r/1960))-r,10<r){t.timeoutHandle=_f(Yr.bind(null,t,Et,bn),r);break}Yr(t,Et,bn);break;case 5:Yr(t,Et,bn);break;default:throw Error(R(329))}}}return Rt(t,ke()),t.callbackNode===n?a1.bind(null,t):null}function Ff(t,e){var n=Do;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=Au(t,e),t!==2&&(e=Et,Et=n,e!==null&&$f(e)),t}function $f(t){Et===null?Et=t:Et.push.apply(Et,t)}function CA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~vm,e&=~Tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function kv(t){if(Y&6)throw Error(R(327));ls();var e=cu(t,0);if(!(e&1))return Rt(t,ke()),null;var n=Au(t,e);if(t.tag!==0&&n===2){var r=df(t);r!==0&&(e=r,n=Ff(t,r))}if(n===1)throw n=sa,oi(t,0),or(t,e),Rt(t,ke()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Et,bn),Rt(t,ke()),null}function wm(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(Is=ke()+500,_c&&Ur())}}function mi(t){fr!==null&&fr.tag===0&&!(Y&6)&&ls();var e=Y;Y|=1;var n=Wt.transition,r=ee;try{if(Wt.transition=null,ee=1,t)return t()}finally{ee=r,Wt.transition=n,Y=e,!(Y&6)&&Ur()}}function Em(){At=Zi.current,de(Zi)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rA(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mu();break;case 3:xs(),de(It),de(ct),cm();break;case 5:um(r);break;case 4:xs();break;case 13:de(ge);break;case 19:de(ge);break;case 10:sm(r.type._context);break;case 22:case 23:Em()}n=n.return}if(Be=t,be=t=Tr(t.current,null),Qe=At=e,Ve=0,sa=null,vm=Tc=pi=0,Et=Do=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ti=null}return t}function l1(t,e){do{var n=be;try{if(im(),zl.current=Iu,Tu){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tu=!1}if(fi=0,Ue=Me=ye=null,No=!1,na=0,ym.current=null,n===null||n.return===null){Ve=1,sa=e,be=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=gv(o);if(g!==null){g.flags&=-257,yv(g,o,a,s,e),g.mode&1&&mv(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){mv(s,u,e),xm();break e}l=Error(R(426))}}else if(me&&a.mode&1){var y=gv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),yv(y,o,a,s,e),nm(Ts(l,a));break e}}s=l=Ts(l,a),Ve!==4&&(Ve=2),Do===null?Do=[s]:Do.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=HE(s,l,e);lv(s,p);break e;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Er===null||!Er.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=qE(s,a,e);lv(s,E);break e}}s=s.return}while(s!==null)}d1(n)}catch(T){e=T,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function u1(){var t=Su.current;return Su.current=Iu,t===null?Iu:t}function xm(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Be===null||!(pi&268435455)&&!(Tc&268435455)||or(Be,Qe)}function Au(t,e){var n=Y;Y|=2;var r=u1();(Be!==t||Qe!==e)&&(bn=null,oi(t,e));do try{AA();break}catch(i){l1(t,i)}while(1);if(im(),Y=n,Su.current=r,be!==null)throw Error(R(261));return Be=null,Qe=0,Ve}function AA(){for(;be!==null;)c1(be)}function kA(){for(;be!==null&&!eC();)c1(be)}function c1(t){var e=f1(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?d1(t):be=e,ym.current=null}function d1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xA(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,be=null;return}}else if(n=EA(n,e,At),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Ve===0&&(Ve=5)}function Yr(t,e,n){var r=ee,i=Wt.transition;try{Wt.transition=null,ee=1,PA(t,e,n,r)}finally{Wt.transition=i,ee=r}return null}function PA(t,e,n,r){do ls();while(fr!==null);if(Y&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cC(t,s),t===Be&&(be=Be=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||El||(El=!0,p1(uu,function(){return ls(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=ee;ee=1;var a=Y;Y|=4,ym.current=null,IA(t,n),s1(n,t),XC(yf),du=!!gf,yf=gf=null,t.current=n,SA(n),tC(),Y=a,ee=o,Wt.transition=s}else t.current=n;if(El&&(El=!1,fr=t,Cu=i),s=t.pendingLanes,s===0&&(Er=null),iC(n.stateNode),Rt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ru)throw Ru=!1,t=Mf,Mf=null,t;return Cu&1&&t.tag!==0&&ls(),s=t.pendingLanes,s&1?t===Vf?jo++:(jo=0,Vf=t):jo=0,Ur(),null}function ls(){if(fr!==null){var t=Ww(Cu),e=Wt.transition,n=ee;try{if(Wt.transition=null,ee=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,Cu=0,Y&6)throw Error(R(331));var i=Y;for(Y|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var d=j;switch(d.tag){case 0:case 11:case 15:bo(8,d,s)}var h=d.child;if(h!==null)h.return=d,j=h;else for(;j!==null;){d=j;var f=d.sibling,g=d.return;if(n1(d),d===u){j=null;break}if(f!==null){f.return=g,j=f;break}j=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,j=p;break e}j=s.return}}var m=t.current;for(j=m;j!==null;){o=j;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,j=w;else e:for(o=m;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xc(9,a)}}catch(T){Ee(a,a.return,T)}if(a===o){j=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,j=E;break e}j=a.return}}if(Y=i,Ur(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(pc,t)}catch{}r=!0}return r}finally{ee=n,Wt.transition=e}}return!1}function Pv(t,e,n){e=Ts(n,e),e=HE(t,e,1),t=wr(t,e,1),e=yt(),t!==null&&(Na(t,1,e),Rt(t,e))}function Ee(t,e,n){if(t.tag===3)Pv(t,t,n);else for(;e!==null;){if(e.tag===3){Pv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=Ts(n,t),t=qE(e,t,1),e=wr(e,t,1),t=yt(),e!==null&&(Na(e,1,t),Rt(e,t));break}}e=e.return}}function NA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Qe&n)===n&&(Ve===4||Ve===3&&(Qe&130023424)===Qe&&500>ke()-_m?oi(t,0):vm|=n),Rt(t,e)}function h1(t,e){e===0&&(t.mode&1?(e=dl,dl<<=1,!(dl&130023424)&&(dl=4194304)):e=1);var n=yt();t=Wn(t,e),t!==null&&(Na(t,e,n),Rt(t,n))}function bA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h1(t,n)}function DA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),h1(t,n)}var f1;f1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,wA(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,me&&e.flags&1048576&&gE(e,vu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hl(t,e),t=e.pendingProps;var i=_s(e,ct.current);as(e,n),i=hm(null,e,r,t,i,n);var s=fm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(s=!0,gu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,am(e),i.updater=wc,e.stateNode=i,i._reactInternals=e,Rf(e,r,t,n),e=kf(null,e,r,!0,s,n)):(e.tag=0,me&&s&&em(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OA(r),t=Jt(r,t),i){case 0:e=Af(null,e,r,t,n);break e;case 1:e=wv(null,e,r,t,n);break e;case 11:e=vv(null,e,r,t,n);break e;case 14:e=_v(null,e,r,Jt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Af(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),wv(t,e,r,i,n);case 3:e:{if(XE(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wE(t,e),Eu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ts(Error(R(423)),e),e=Ev(t,e,r,n,i);break e}else if(r!==i){i=Ts(Error(R(424)),e),e=Ev(t,e,r,n,i);break e}else for(kt=_r(e.stateNode.containerInfo.firstChild),bt=e,me=!0,en=null,n=IE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){e=Hn(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return SE(e),t===null&&Tf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vf(r,i)?o=null:s!==null&&vf(r,s)&&(e.flags|=32),QE(t,e),mt(t,e,o,n),e.child;case 6:return t===null&&Tf(e),null;case 13:return YE(t,e,n);case 4:return lm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Es(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),vv(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ae(_u,r._currentValue),r._currentValue=o,s!==null)if(sn(s.value,o)){if(s.children===i.children&&!It.current){e=Hn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$n(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),If(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),If(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,as(e,n),i=qt(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),_v(t,e,r,i,n);case 15:return KE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Hl(t,e),e.tag=1,St(r)?(t=!0,gu(e)):t=!1,as(e,n),xE(e,r,i),Rf(e,r,i,n),kf(null,e,r,!0,t,n);case 19:return JE(t,e,n);case 22:return GE(t,e,n)}throw Error(R(156,e.tag))};function p1(t,e){return $w(t,e)}function jA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new jA(t,e,n,r)}function Tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OA(t){if(typeof t=="function")return Tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===zp)return 14}return 2}function Tr(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Tm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return ai(n.children,i,s,e);case Up:o=8,i|=8;break;case Qh:return t=Bt(12,n,e,i|2),t.elementType=Qh,t.lanes=s,t;case Xh:return t=Bt(13,n,e,i),t.elementType=Xh,t.lanes=s,t;case Yh:return t=Bt(19,n,e,i),t.elementType=Yh,t.lanes=s,t;case Tw:return Ic(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ew:o=10;break e;case xw:o=9;break e;case Bp:o=11;break e;case zp:o=14;break e;case rr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Bt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ai(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function Ic(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=Tw,t.lanes=n,t.stateNode={isHidden:!1},t}function lh(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function uh(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Im(t,e,n,r,i,s,o,a,l){return t=new LA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},am(s),t}function MA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function m1(t){if(!t)return br;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(St(n))return pE(t,n,e)}return e}function g1(t,e,n,r,i,s,o,a,l){return t=Im(n,r,!0,t,i,s,o,a,l),t.context=m1(null),n=t.current,r=yt(),i=xr(n),s=$n(r,i),s.callback=e??null,wr(n,s,i),t.current.lanes=i,Na(t,i,r),Rt(t,r),t}function Sc(t,e,n,r){var i=e.current,s=yt(),o=xr(i);return n=m1(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,o),t!==null&&(rn(t,i,o,s),Bl(t,i,o)),o}function ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sm(t,e){Nv(t,e),(t=t.alternate)&&Nv(t,e)}function VA(){return null}var y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rm(t){this._internalRoot=t}Rc.prototype.render=Rm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Sc(t,e,null,null)};Rc.prototype.unmount=Rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){Sc(null,t,null,null)}),e[zn]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&Qw(t)}};function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bv(){}function FA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ku(o);s.call(u)}}var o=g1(e,r,t,0,null,!1,!1,"",bv);return t._reactRootContainer=o,t[zn]=o.current,Yo(t.nodeType===8?t.parentNode:t),mi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ku(l);a.call(u)}}var l=Im(t,0,!1,null,null,!1,!1,"",bv);return t._reactRootContainer=l,t[zn]=l.current,Yo(t.nodeType===8?t.parentNode:t),mi(function(){Sc(e,l,n,r)}),l}function Ac(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ku(o);a.call(l)}}Sc(e,o,t,i)}else o=FA(n,e,t,i,r);return ku(o)}Hw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=go(e.pendingLanes);n!==0&&(qp(e,n|1),Rt(e,ke()),!(Y&6)&&(Is=ke()+500,Ur()))}break;case 13:mi(function(){var r=Wn(t,1);if(r!==null){var i=yt();rn(r,t,1,i)}}),Sm(t,1)}};Kp=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var n=yt();rn(e,t,134217728,n)}Sm(t,134217728)}};qw=function(t){if(t.tag===13){var e=xr(t),n=Wn(t,e);if(n!==null){var r=yt();rn(n,t,e,r)}Sm(t,e)}};Kw=function(){return ee};Gw=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};lf=function(t,e,n){switch(e){case"input":if(ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vc(r);if(!i)throw Error(R(90));Sw(r),ef(r,i)}}}break;case"textarea":Cw(t,n);break;case"select":e=n.value,e!=null&&rs(t,!!n.multiple,e,!1)}};jw=wm;Ow=mi;var $A={usingClientEntryPoint:!1,Events:[Da,Ki,vc,bw,Dw,wm]},lo={findFiberByHostInstance:ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UA={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||VA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{pc=xl.inject(UA),_n=xl}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$A;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(e))throw Error(R(200));return MA(t,e,null,n)};Lt.createRoot=function(t,e){if(!Cm(t))throw Error(R(299));var n=!1,r="",i=y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Im(t,1,!1,null,null,n,!1,r,i),t[zn]=e.current,Yo(t.nodeType===8?t.parentNode:t),new Rm(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Vw(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return mi(t)};Lt.hydrate=function(t,e,n){if(!Cc(e))throw Error(R(200));return Ac(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!Cm(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=y1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=g1(e,null,t,1,n??null,i,!1,s,o),t[zn]=e.current,Yo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rc(e)};Lt.render=function(t,e,n){if(!Cc(e))throw Error(R(200));return Ac(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!Cc(t))throw Error(R(40));return t._reactRootContainer?(mi(function(){Ac(null,null,t,!1,function(){t._reactRootContainer=null,t[zn]=null})}),!0):!1};Lt.unstable_batchedUpdates=wm;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cc(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Ac(t,e,n,!1,r)};Lt.version="18.2.0-next-9e3b772b8-20220608";function v1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1)}catch(t){console.error(t)}}v1(),gw.exports=Lt;var _1=gw.exports,Dv=_1;Kh.createRoot=Dv.createRoot,Kh.hydrateRoot=Dv.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}var pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pr||(pr={}));const jv="popstate";function BA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Uf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Pu(i)}return WA(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Am(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zA(){return Math.random().toString(36).substr(2,8)}function Ov(t,e){return{usr:t.state,key:t.key,idx:e}}function Uf(t,e,n,r){return n===void 0&&(n=null),oa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Us(e):e,{state:n,key:e&&e.key||r||zA()})}function Pu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Us(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(oa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=pr.Pop;let y=d(),p=y==null?null:y-u;u=y,l&&l({action:a,location:v.location,delta:p})}function f(y,p){a=pr.Push;let m=Uf(v.location,y,p);n&&n(m,y),u=d()+1;let w=Ov(m,u),E=v.createHref(m);try{o.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function g(y,p){a=pr.Replace;let m=Uf(v.location,y,p);n&&n(m,y),u=d();let w=Ov(m,u),E=v.createHref(m);o.replaceState(w,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function _(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof y=="string"?y:Pu(y);return je(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jv,h),l=y,()=>{i.removeEventListener(jv,h),l=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let p=_(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(y){return o.go(y)}};return v}var Lv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lv||(Lv={}));function HA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Us(e):e,i=km(r.pathname||"/",n);if(i==null)return null;let s=w1(t);qA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=tk(s[a],ik(i));return o}function w1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ir([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),w1(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ZA(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of E1(s.path))i(s,o,l)}),e}function E1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=E1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KA=/^:\w+$/,GA=3,QA=2,XA=1,YA=10,JA=-2,Mv=t=>t==="*";function ZA(t,e){let n=t.split("/"),r=n.length;return n.some(Mv)&&(r+=JA),e&&(r+=QA),n.filter(i=>!Mv(i)).reduce((i,s)=>i+(KA.test(s)?GA:s===""?XA:YA),r)}function ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tk(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=nk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:Ir([i,d.pathname]),pathnameBase:lk(Ir([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ir([i,d.pathnameBase]))}return s}function nk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{if(d==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[d]=sk(a[h]||"",d),u},{}),pathname:s,pathnameBase:o,pattern:t}}function rk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Am(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ik(t){try{return decodeURI(t)}catch(e){return Am(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sk(t,e){try{return decodeURIComponent(t)}catch(n){return Am(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function km(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ok(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Us(t):t;return{pathname:n?n.startsWith("/")?n:ak(n,e):e,search:uk(r),hash:ck(i)}}function ak(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ch(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Us(t):(i=oa({},t),je(!i.pathname||!i.pathname.includes("?"),ch("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),ch("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),ch("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=ok(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ck=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I1=["post","put","patch","delete"];new Set(I1);const hk=["get",...I1];new Set(hk);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}const Pm=x.createContext(null),S1=x.createContext(null),Ai=x.createContext(null),kc=x.createContext(null),ki=x.createContext({outlet:null,matches:[],isDataRoute:!1}),R1=x.createContext(null);function fk(t,e){let{relative:n}=e===void 0?{}:e;Oa()||je(!1);let{basename:r,navigator:i}=x.useContext(Ai),{hash:s,pathname:o,search:a}=Nm(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ir([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Oa(){return x.useContext(kc)!=null}function Br(){return Oa()||je(!1),x.useContext(kc).location}function C1(t){x.useContext(Ai).static||x.useLayoutEffect(t)}function Bs(){let{isDataRoute:t}=x.useContext(ki);return t?Rk():pk()}function pk(){Oa()||je(!1);let t=x.useContext(Pm),{basename:e,navigator:n}=x.useContext(Ai),{matches:r}=x.useContext(ki),{pathname:i}=Br(),s=JSON.stringify(x1(r).map(l=>l.pathnameBase)),o=x.useRef(!1);return C1(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=T1(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ir([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}function Nm(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(ki),{pathname:i}=Br(),s=JSON.stringify(x1(r).map(o=>o.pathnameBase));return x.useMemo(()=>T1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function mk(t,e){return gk(t,e)}function gk(t,e,n){Oa()||je(!1);let{navigator:r}=x.useContext(Ai),{matches:i}=x.useContext(ki),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Br(),u;if(e){var d;let v=typeof e=="string"?Us(e):e;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||je(!1),u=v}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",g=HA(t,{pathname:f}),_=Ek(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ir([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Ir([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&_?x.createElement(kc.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pr.Pop}},_):_}function yk(){let t=Sk(),e=dk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const vk=x.createElement(yk,null);class _k extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(ki.Provider,{value:this.props.routeContext},x.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wk(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Pm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ki.Provider,{value:e},r)}function Ek(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||je(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||vk);let f=e.concat(s.slice(0,u+1)),g=()=>{let _;return d?_=h:l.route.Component?_=x.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,x.createElement(wk,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?x.createElement(_k,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var Bf;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Bf||(Bf={}));var aa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(aa||(aa={}));function xk(t){let e=x.useContext(Pm);return e||je(!1),e}function Tk(t){let e=x.useContext(S1);return e||je(!1),e}function Ik(t){let e=x.useContext(ki);return e||je(!1),e}function A1(t){let e=Ik(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function Sk(){var t;let e=x.useContext(R1),n=Tk(aa.UseRouteError),r=A1(aa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Rk(){let{router:t}=xk(Bf.UseNavigateStable),e=A1(aa.UseNavigateStable),n=x.useRef(!1);return C1(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nu({fromRouteId:e},s)))},[t,e])}function Ct(t){je(!1)}function Ck(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pr.Pop,navigator:s,static:o=!1}=t;Oa()&&je(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Us(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,_=x.useMemo(()=>{let v=km(u,a);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:g},navigationType:i}},[a,u,d,h,f,g,i]);return _==null?null:x.createElement(Ai.Provider,{value:l},x.createElement(kc.Provider,{children:n,value:_}))}function Ak(t){let{children:e,location:n}=t;return mk(zf(e),n)}var Vv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Vv||(Vv={}));new Promise(()=>{});function zf(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,zf(r.props.children,s));return}r.type!==Ct&&je(!1),!r.props.index||!r.props.children||je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}function k1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pk(t,e){return t.button===0&&(!e||e==="_self")&&!kk(t)}const Nk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],bk=["aria-current","caseSensitive","className","end","style","to","children"],Dk="startTransition",Fv=bR[Dk];function jk(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=BA({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=x.useCallback(h=>{u&&Fv?Fv(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.createElement(Ck,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const Ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,h=k1(e,Nk),{basename:f}=x.useContext(Ai),g,_=!1;if(typeof u=="string"&&Lk.test(u)&&(g=u,Ok))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=km(w.pathname,f);w.origin===m.origin&&E!=null?u=E+w.search+w.hash:_=!0}catch{}let v=fk(u,{relative:i}),y=Mk(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function p(m){r&&r(m),m.defaultPrevented||y(m)}return x.createElement("a",bu({},h,{href:g||v,onClick:_||s?r:p,ref:n,target:l}))}),P1=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,d=k1(e,bk),h=Nm(l,{relative:d.relative}),f=Br(),g=x.useContext(S1),{navigator:_}=x.useContext(Ai),v=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,y=f.pathname,p=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(y=y.toLowerCase(),p=p?p.toLowerCase():null,v=v.toLowerCase());let m=y===v||!o&&y.startsWith(v)&&y.charAt(v.length)==="/",w=p!=null&&(p===v||!o&&p.startsWith(v)&&p.charAt(v.length)==="/"),E=m?r:void 0,T;typeof s=="function"?T=s({isActive:m,isPending:w}):T=[s,m?"active":null,w?"pending":null].filter(Boolean).join(" ");let S=typeof a=="function"?a({isActive:m,isPending:w}):a;return x.createElement(se,bu({},d,{"aria-current":E,className:T,ref:n,style:S,to:l}),typeof u=="function"?u({isActive:m,isPending:w}):u)});var $v;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})($v||($v={}));var Uv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uv||(Uv={}));function Mk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Bs(),l=Br(),u=Nm(t,{relative:o});return x.useCallback(d=>{if(Pk(d,n)){d.preventDefault();let h=r!==void 0?r:Pu(l)===Pu(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var N1={exports:{}},b1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=x;function Vk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fk=typeof Object.is=="function"?Object.is:Vk,$k=Ss.useState,Uk=Ss.useEffect,Bk=Ss.useLayoutEffect,zk=Ss.useDebugValue;function Wk(t,e){var n=e(),r=$k({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Bk(function(){i.value=n,i.getSnapshot=e,dh(i)&&s({inst:i})},[t,n,e]),Uk(function(){return dh(i)&&s({inst:i}),t(function(){dh(i)&&s({inst:i})})},[t]),zk(n),n}function dh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fk(t,n)}catch{return!0}}function Hk(t,e){return e()}var qk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hk:Wk;b1.useSyncExternalStore=Ss.useSyncExternalStore!==void 0?Ss.useSyncExternalStore:qk;N1.exports=b1;var Kk=N1.exports,D1={exports:{}},j1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=x,Gk=Kk;function Qk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xk=typeof Object.is=="function"?Object.is:Qk,Yk=Gk.useSyncExternalStore,Jk=Pc.useRef,Zk=Pc.useEffect,eP=Pc.useMemo,tP=Pc.useDebugValue;j1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Jk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=eP(function(){function l(g){if(!u){if(u=!0,d=g,g=r(g),i!==void 0&&o.hasValue){var _=o.value;if(i(_,g))return h=_}return h=g}if(_=h,Xk(d,g))return _;var v=r(g);return i!==void 0&&i(_,v)?_:(d=g,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Yk(t,s[0],s[1]);return Zk(function(){o.hasValue=!0,o.value=a},[a]),tP(a),a};D1.exports=j1;var nP=D1.exports;function rP(t){t()}let O1=rP;const iP=t=>O1=t,sP=()=>O1,Bv=Symbol.for(`react-redux-context-${x.version}`),zv=globalThis;function oP(){let t=zv[Bv];return t||(t=x.createContext(null),zv[Bv]=t),t}const Dr=new Proxy({},new Proxy({},{get(t,e){const n=oP();return(r,...i)=>Reflect[e](n,...i)}}));function bm(t=Dr){return function(){return x.useContext(t)}}const L1=bm(),aP=()=>{throw new Error("uSES not initialized!")};let M1=aP;const lP=t=>{M1=t},uP=(t,e)=>t===e;function cP(t=Dr){const e=t===Dr?L1:bm(t);return function(r,i={}){const{equalityFn:s=uP,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:d,stabilityCheck:h,noopCheck:f}=e();x.useRef(!0);const g=x.useCallback({[r.name](v){return r(v)}}[r.name],[r,h,o]),_=M1(u.addNestedSub,l.getState,d||l.getState,g,s);return x.useDebugValue(_),_}}const Cn=cP();function Sr(){return Sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sr.apply(this,arguments)}var V1={exports:{}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,Dm=We?Symbol.for("react.element"):60103,jm=We?Symbol.for("react.portal"):60106,Nc=We?Symbol.for("react.fragment"):60107,bc=We?Symbol.for("react.strict_mode"):60108,Dc=We?Symbol.for("react.profiler"):60114,jc=We?Symbol.for("react.provider"):60109,Oc=We?Symbol.for("react.context"):60110,Om=We?Symbol.for("react.async_mode"):60111,Lc=We?Symbol.for("react.concurrent_mode"):60111,Mc=We?Symbol.for("react.forward_ref"):60112,Vc=We?Symbol.for("react.suspense"):60113,dP=We?Symbol.for("react.suspense_list"):60120,Fc=We?Symbol.for("react.memo"):60115,$c=We?Symbol.for("react.lazy"):60116,hP=We?Symbol.for("react.block"):60121,fP=We?Symbol.for("react.fundamental"):60117,pP=We?Symbol.for("react.responder"):60118,mP=We?Symbol.for("react.scope"):60119;function Vt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dm:switch(t=t.type,t){case Om:case Lc:case Nc:case Dc:case bc:case Vc:return t;default:switch(t=t&&t.$$typeof,t){case Oc:case Mc:case $c:case Fc:case jc:return t;default:return e}}case jm:return e}}}function F1(t){return Vt(t)===Lc}ne.AsyncMode=Om;ne.ConcurrentMode=Lc;ne.ContextConsumer=Oc;ne.ContextProvider=jc;ne.Element=Dm;ne.ForwardRef=Mc;ne.Fragment=Nc;ne.Lazy=$c;ne.Memo=Fc;ne.Portal=jm;ne.Profiler=Dc;ne.StrictMode=bc;ne.Suspense=Vc;ne.isAsyncMode=function(t){return F1(t)||Vt(t)===Om};ne.isConcurrentMode=F1;ne.isContextConsumer=function(t){return Vt(t)===Oc};ne.isContextProvider=function(t){return Vt(t)===jc};ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dm};ne.isForwardRef=function(t){return Vt(t)===Mc};ne.isFragment=function(t){return Vt(t)===Nc};ne.isLazy=function(t){return Vt(t)===$c};ne.isMemo=function(t){return Vt(t)===Fc};ne.isPortal=function(t){return Vt(t)===jm};ne.isProfiler=function(t){return Vt(t)===Dc};ne.isStrictMode=function(t){return Vt(t)===bc};ne.isSuspense=function(t){return Vt(t)===Vc};ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nc||t===Lc||t===Dc||t===bc||t===Vc||t===dP||typeof t=="object"&&t!==null&&(t.$$typeof===$c||t.$$typeof===Fc||t.$$typeof===jc||t.$$typeof===Oc||t.$$typeof===Mc||t.$$typeof===fP||t.$$typeof===pP||t.$$typeof===mP||t.$$typeof===hP)};ne.typeOf=Vt;V1.exports=ne;var gP=V1.exports,$1=gP,yP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},U1={};U1[$1.ForwardRef]=yP;U1[$1.Memo]=vP;var re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=Symbol.for("react.element"),Mm=Symbol.for("react.portal"),Uc=Symbol.for("react.fragment"),Bc=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),Wc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),_P=Symbol.for("react.server_context"),qc=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),Xc=Symbol.for("react.lazy"),wP=Symbol.for("react.offscreen"),B1;B1=Symbol.for("react.module.reference");function Qt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lm:switch(t=t.type,t){case Uc:case zc:case Bc:case Kc:case Gc:return t;default:switch(t=t&&t.$$typeof,t){case _P:case Hc:case qc:case Xc:case Qc:case Wc:return t;default:return e}}case Mm:return e}}}re.ContextConsumer=Hc;re.ContextProvider=Wc;re.Element=Lm;re.ForwardRef=qc;re.Fragment=Uc;re.Lazy=Xc;re.Memo=Qc;re.Portal=Mm;re.Profiler=zc;re.StrictMode=Bc;re.Suspense=Kc;re.SuspenseList=Gc;re.isAsyncMode=function(){return!1};re.isConcurrentMode=function(){return!1};re.isContextConsumer=function(t){return Qt(t)===Hc};re.isContextProvider=function(t){return Qt(t)===Wc};re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lm};re.isForwardRef=function(t){return Qt(t)===qc};re.isFragment=function(t){return Qt(t)===Uc};re.isLazy=function(t){return Qt(t)===Xc};re.isMemo=function(t){return Qt(t)===Qc};re.isPortal=function(t){return Qt(t)===Mm};re.isProfiler=function(t){return Qt(t)===zc};re.isStrictMode=function(t){return Qt(t)===Bc};re.isSuspense=function(t){return Qt(t)===Kc};re.isSuspenseList=function(t){return Qt(t)===Gc};re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Uc||t===zc||t===Bc||t===Kc||t===Gc||t===wP||typeof t=="object"&&t!==null&&(t.$$typeof===Xc||t.$$typeof===Qc||t.$$typeof===Wc||t.$$typeof===Hc||t.$$typeof===qc||t.$$typeof===B1||t.getModuleId!==void 0)};re.typeOf=Qt;function EP(){const t=sP();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Wv={notify(){},get:()=>[]};function xP(t,e){let n,r=Wv;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=EP())}function u(){n&&(n(),n=void 0,r.clear(),r=Wv)}const d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return d}const TP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IP=TP?x.useLayoutEffect:x.useEffect;function SP({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=x.useMemo(()=>{const u=xP(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=x.useMemo(()=>t.getState(),[t]);IP(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Dr;return Q.createElement(l.Provider,{value:o},n)}function z1(t=Dr){const e=t===Dr?L1:bm(t);return function(){const{store:r}=e();return r}}const RP=z1();function CP(t=Dr){const e=t===Dr?RP:z1(t);return function(){return e().dispatch}}const zs=CP();lP(nP.useSyncExternalStoreWithSelector);iP(_1.unstable_batchedUpdates);const AP="/swiftshop/cart-shopping-solid-83f207b0.svg";function tn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function jr(t){return!!t&&!!t[pe]}function qn(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===MP}(t)||Array.isArray(t)||!!t[Yv]||!!(!((e=t.constructor)===null||e===void 0)&&e[Yv])||Vm(t)||Fm(t))}function gi(t,e,n){n===void 0&&(n=!1),Ws(t)===0?(n?Object.keys:cs)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Ws(t){var e=t[pe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Vm(t)?2:Fm(t)?3:0}function us(t,e){return Ws(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kP(t,e){return Ws(t)===2?t.get(e):t[e]}function W1(t,e,n){var r=Ws(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function H1(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Vm(t){return OP&&t instanceof Map}function Fm(t){return LP&&t instanceof Set}function Jr(t){return t.o||t.t}function $m(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=K1(t);delete e[pe];for(var n=cs(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Um(t,e){return e===void 0&&(e=!1),Bm(t)||jr(t)||!qn(t)||(Ws(t)>1&&(t.set=t.add=t.clear=t.delete=PP),Object.freeze(t),e&&gi(t,function(n,r){return Um(r,!0)},!0)),t}function PP(){tn(2)}function Bm(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function En(t){var e=Kf[t];return e||tn(18,t),e}function NP(t,e){Kf[t]||(Kf[t]=e)}function Wf(){return la}function hh(t,e){e&&(En("Patches"),t.u=[],t.s=[],t.v=e)}function Du(t){Hf(t),t.p.forEach(bP),t.p=null}function Hf(t){t===la&&(la=t.l)}function Hv(t){return la={p:[],l:la,h:t,m:!0,_:0}}function bP(t){var e=t[pe];e.i===0||e.i===1?e.j():e.g=!0}function fh(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||En("ES5").S(e,t,r),r?(n[pe].P&&(Du(e),tn(4)),qn(t)&&(t=ju(e,t),e.l||Ou(e,t)),e.u&&En("Patches").M(n[pe].t,t,e.u,e.s)):t=ju(e,n,[]),Du(e),e.u&&e.v(e.u,e.s),t!==q1?t:void 0}function ju(t,e,n){if(Bm(e))return e;var r=e[pe];if(!r)return gi(e,function(a,l){return qv(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ou(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=$m(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),gi(s,function(a,l){return qv(t,r,i,a,l,n,o)}),Ou(t,i,!1),n&&t.u&&En("Patches").N(r,n,t.u,t.s)}return r.o}function qv(t,e,n,r,i,s,o){if(jr(i)){var a=ju(t,i,s&&e&&e.i!==3&&!us(e.R,r)?s.concat(r):void 0);if(W1(n,r,a),!jr(a))return;t.m=!1}else o&&n.add(i);if(qn(i)&&!Bm(i)){if(!t.h.D&&t._<1)return;ju(t,i),e&&e.A.l||Ou(t,i)}}function Ou(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Um(e,n)}function ph(t,e){var n=t[pe];return(n?Jr(n):t)[e]}function Kv(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ar(t){t.P||(t.P=!0,t.l&&ar(t.l))}function mh(t){t.o||(t.o=$m(t.t))}function qf(t,e,n){var r=Vm(e)?En("MapSet").F(e,n):Fm(e)?En("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Wf(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=ua;o&&(l=[a],u=vo);var d=Proxy.revocable(l,u),h=d.revoke,f=d.proxy;return a.k=f,a.j=h,f}(e,n):En("ES5").J(e,n);return(n?n.A:Wf()).p.push(r),r}function DP(t){return jr(t)||tn(22,t),function e(n){if(!qn(n))return n;var r,i=n[pe],s=Ws(n);if(i){if(!i.P&&(i.i<4||!En("ES5").K(i)))return i.t;i.I=!0,r=Gv(n,s),i.I=!1}else r=Gv(n,s);return gi(r,function(o,a){i&&kP(i.t,o)===a||W1(r,o,e(a))}),s===3?new Set(r):r}(t)}function Gv(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return $m(t)}function jP(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[pe];return ua.get(l,s)},set:function(l){var u=this[pe];ua.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][pe];if(!a.P)switch(a.i){case 5:r(a)&&ar(a);break;case 4:n(a)&&ar(a)}}}function n(s){for(var o=s.t,a=s.k,l=cs(a),u=l.length-1;u>=0;u--){var d=l[u];if(d!==pe){var h=o[d];if(h===void 0&&!us(o,d))return!0;var f=a[d],g=f&&f[pe];if(g?g.t!==h:!H1(f,h))return!0}}var _=!!o[pe];return l.length!==cs(o).length+(_?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};NP("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(d,h){if(d){for(var f=Array(h.length),g=0;g<h.length;g++)Object.defineProperty(f,""+g,t(g,!0));return f}var _=K1(h);delete _[pe];for(var v=cs(_),y=0;y<v.length;y++){var p=v[y];_[p]=t(p,d||!!_[p].enumerable)}return Object.create(Object.getPrototypeOf(h),_)}(a,s),u={i:a?5:4,A:o?o.A:Wf(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,pe,{value:u,writable:!0}),l},S:function(s,o,a){a?jr(o)&&o[pe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var d=u[pe];if(d){var h=d.t,f=d.k,g=d.R,_=d.i;if(_===4)gi(f,function(w){w!==pe&&(h[w]!==void 0||us(h,w)?g[w]||l(f[w]):(g[w]=!0,ar(d)))}),gi(h,function(w){f[w]!==void 0||us(f,w)||(g[w]=!1,ar(d))});else if(_===5){if(r(d)&&(ar(d),g.length=!0),f.length<h.length)for(var v=f.length;v<h.length;v++)g[v]=!1;else for(var y=h.length;y<f.length;y++)g[y]=!0;for(var p=Math.min(f.length,h.length),m=0;m<p;m++)f.hasOwnProperty(m)||(g[m]=!0),g[m]===void 0&&l(f[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Qv,la,zm=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",OP=typeof Map<"u",LP=typeof Set<"u",Xv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",q1=zm?Symbol.for("immer-nothing"):((Qv={})["immer-nothing"]=!0,Qv),Yv=zm?Symbol.for("immer-draftable"):"__$immer_draftable",pe=zm?Symbol.for("immer-state"):"__$immer_state",MP=""+Object.prototype.constructor,cs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,K1=Object.getOwnPropertyDescriptors||function(t){var e={};return cs(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Kf={},ua={get:function(t,e){if(e===pe)return t;var n=Jr(t);if(!us(n,e))return function(i,s,o){var a,l=Kv(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!qn(r)?r:r===ph(t.t,e)?(mh(t),t.o[e]=qf(t.A.h,r,t)):r},has:function(t,e){return e in Jr(t)},ownKeys:function(t){return Reflect.ownKeys(Jr(t))},set:function(t,e,n){var r=Kv(Jr(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ph(Jr(t),e),s=i==null?void 0:i[pe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(H1(n,i)&&(n!==void 0||us(t.t,e)))return!0;mh(t),ar(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return ph(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,mh(t),ar(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Jr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){tn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){tn(12)}},vo={};gi(ua,function(t,e){vo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),vo.deleteProperty=function(t,e){return vo.set.call(this,t,e,void 0)},vo.set=function(t,e,n){return ua.set.call(this,t[0],e,n,t[0])};var VP=function(){function t(n){var r=this;this.O=Xv,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(v){var y=this;v===void 0&&(v=a);for(var p=arguments.length,m=Array(p>1?p-1:0),w=1;w<p;w++)m[w-1]=arguments[w];return l.produce(v,function(E){var T;return(T=s).call.apply(T,[y,E].concat(m))})}}var u;if(typeof s!="function"&&tn(6),o!==void 0&&typeof o!="function"&&tn(7),qn(i)){var d=Hv(r),h=qf(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?Du(d):Hf(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return hh(d,o),fh(v,d)},function(v){throw Du(d),v}):(hh(d,o),fh(u,d))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===q1&&(u=void 0),r.D&&Um(u,!0),o){var g=[],_=[];En("Patches").M(i,u,g,_),o(g,_)}return u}tn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(g){return i.apply(void 0,[g].concat(h))})};var o,a,l=r.produce(i,s,function(u,d){o=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){qn(n)||tn(8),jr(n)&&(n=DP(n));var r=Hv(this),i=qf(this,n,void 0);return i[pe].C=!0,Hf(r),i},e.finishDraft=function(n,r){var i=n&&n[pe],s=i.A;return hh(s,r),fh(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Xv&&tn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=En("Patches").$;return jr(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),jt=new VP,G1=jt.produce;jt.produceWithPatches.bind(jt);jt.setAutoFreeze.bind(jt);jt.setUseProxies.bind(jt);jt.applyPatches.bind(jt);jt.createDraft.bind(jt);jt.finishDraft.bind(jt);function ca(t){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(t)}function FP(t,e){if(ca(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ca(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $P(t){var e=FP(t,"string");return ca(e)==="symbol"?e:String(e)}function UP(t,e,n){return e=$P(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(n),!0).forEach(function(r){UP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var e_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),gh=function(){return Math.random().toString(36).substring(7).split("").join(".")},Lu={INIT:"@@redux/INIT"+gh(),REPLACE:"@@redux/REPLACE"+gh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gh()}};function BP(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Q1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tt(1));return n(Q1)(t,e)}if(typeof t!="function")throw new Error(tt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(tt(3));return s}function h(v){if(typeof v!="function")throw new Error(tt(4));if(l)throw new Error(tt(5));var y=!0;return u(),a.push(v),function(){if(y){if(l)throw new Error(tt(6));y=!1,u();var m=a.indexOf(v);a.splice(m,1),o=null}}}function f(v){if(!BP(v))throw new Error(tt(7));if(typeof v.type>"u")throw new Error(tt(8));if(l)throw new Error(tt(9));try{l=!0,s=i(s,v)}finally{l=!1}for(var y=o=a,p=0;p<y.length;p++){var m=y[p];m()}return v}function g(v){if(typeof v!="function")throw new Error(tt(10));i=v,f({type:Lu.REPLACE})}function _(){var v,y=h;return v={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(tt(11));function w(){m.next&&m.next(d())}w();var E=y(w);return{unsubscribe:E}}},v[e_]=function(){return this},v}return f({type:Lu.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:g},r[e_]=_,r}function zP(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Lu.INIT});if(typeof r>"u")throw new Error(tt(12));if(typeof n(void 0,{type:Lu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function WP(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{zP(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var d=!1,h={},f=0;f<s.length;f++){var g=s[f],_=n[g],v=l[g],y=_(v,u);if(typeof y>"u")throw u&&u.type,new Error(tt(14));h[g]=y,d=d||y!==v}return d=d||s.length!==Object.keys(l).length,d?h:l}}function Mu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function HP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(tt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Mu.apply(void 0,a)(i.dispatch),Zv(Zv({},i),{},{dispatch:s})}}}function X1(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var Y1=X1();Y1.withExtraArgument=X1;const t_=Y1;var J1=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qP=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Rs=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},KP=Object.defineProperty,GP=Object.defineProperties,QP=Object.getOwnPropertyDescriptors,n_=Object.getOwnPropertySymbols,XP=Object.prototype.hasOwnProperty,YP=Object.prototype.propertyIsEnumerable,r_=function(t,e,n){return e in t?KP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Rr=function(t,e){for(var n in e||(e={}))XP.call(e,n)&&r_(t,n,e[n]);if(n_)for(var r=0,i=n_(e);r<i.length;r++){var n=i[r];YP.call(e,n)&&r_(t,n,e[n])}return t},yh=function(t,e){return GP(t,QP(e))},JP=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},ZP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mu:Mu.apply(null,arguments)};function eN(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var tN=function(t){J1(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Rs([void 0],n[0].concat(this)))):new(e.bind.apply(e,Rs([void 0],n.concat(this))))},e}(Array),nN=function(t){J1(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Rs([void 0],n[0].concat(this)))):new(e.bind.apply(e,Rs([void 0],n.concat(this))))},e}(Array);function Gf(t){return qn(t)?G1(t,function(){}):t}function rN(t){return typeof t=="boolean"}function iN(){return function(e){return sN(e)}}function sN(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new tN;return n&&(rN(n)?r.push(t_):r.push(t_.withExtraArgument(n.extraArgument))),r}var oN=!0;function aN(t){var e=iN(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,g;if(typeof i=="function")g=i;else if(eN(i))g=WP(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var _=o;typeof _=="function"&&(_=_(e));var v=HP.apply(void 0,_),y=Mu;l&&(y=ZP(Rr({trace:!oN},typeof l=="object"&&l)));var p=new nN(v),m=p;Array.isArray(f)?m=Rs([v],f):typeof f=="function"&&(m=f(p));var w=y.apply(void 0,m);return Q1(g,d,w)}function Cr(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Rr(Rr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function Z1(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function lN(t){return typeof t=="function"}function uN(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?Z1(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(lN(t))l=function(){return Gf(t())};else{var u=Gf(t);l=function(){return u}}function d(h,f){h===void 0&&(h=l());var g=Rs([s[f.type]],o.filter(function(_){var v=_.matcher;return v(f)}).map(function(_){var v=_.reducer;return v}));return g.filter(function(_){return!!_}).length===0&&(g=[a]),g.reduce(function(_,v){if(v)if(jr(_)){var y=_,p=v(y,f);return p===void 0?_:p}else{if(qn(_))return G1(_,function(m){return v(m,f)});var p=v(_,f);if(p===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return _},h)}return d.getInitialState=l,d}function cN(t,e){return t+"/"+e}function Wm(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Gf(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(d){var h=r[d],f=cN(e,d),g,_;"reducer"in h?(g=h.reducer,_=h.prepare):g=h,s[d]=g,o[f]=g,a[d]=_?Cr(f,_):Cr(f)});function l(){var d=typeof t.extraReducers=="function"?Z1(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,g=d[1],_=g===void 0?[]:g,v=d[2],y=v===void 0?void 0:v,p=Rr(Rr({},f),o);return uN(n,function(m){for(var w in p)m.addCase(w,p[w]);for(var E=0,T=_;E<T.length;E++){var S=T[E];m.addMatcher(S.matcher,S.reducer)}y&&m.addDefaultCase(y)})}var u;return{name:e,reducer:function(d,h){return u||(u=l()),u(d,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var dN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hN=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=dN[Math.random()*64|0];return e},fN=["name","message","stack","code"],vh=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),i_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),pN=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=fN;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Cr(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:yh(Rr({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),s=Cr(e+"/pending",function(u,d,h){return{payload:void 0,meta:yh(Rr({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),o=Cr(e+"/rejected",function(u,d,h,f,g){return{payload:f,error:(r&&r.serializeError||pN)(u||"Rejected"),meta:yh(Rr({},g||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(d,h,f){var g=r!=null&&r.idGenerator?r.idGenerator(u):hN(),_=new a,v;function y(m){v=m,_.abort()}var p=function(){return JP(this,null,function(){var m,w,E,T,S,k,b;return qP(this,function(q){switch(q.label){case 0:return q.trys.push([0,4,,5]),T=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:h,extra:f}),gN(T)?[4,T]:[3,2];case 1:T=q.sent(),q.label=2;case 2:if(T===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(L,Re){return _.signal.addEventListener("abort",function(){return Re({name:"AbortError",message:v||"Aborted"})})}),d(s(g,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:g,arg:u},{getState:h,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:g,signal:_.signal,abort:y,rejectWithValue:function(L,Re){return new vh(L,Re)},fulfillWithValue:function(L,Re){return new i_(L,Re)}})).then(function(L){if(L instanceof vh)throw L;return L instanceof i_?i(L.payload,g,u,L.meta):i(L,g,u)})])];case 3:return E=q.sent(),[3,5];case 4:return k=q.sent(),E=k instanceof vh?o(null,g,u,k.payload,k.meta):o(k,g,u),[3,5];case 5:return b=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,b||d(E),[2,E]}})})}();return Object.assign(p,{abort:y,requestId:g,arg:u,unwrap:function(){return p.then(mN)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function mN(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function gN(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Hm="listenerMiddleware";Cr(Hm+"/add");Cr(Hm+"/removeAll");Cr(Hm+"/remove");var s_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);jP();const ex=Wm({name:"cartItemsSlice",initialState:{cartTotal:0,cartItemsList:[]},reducers:{addCartItem:(t,e)=>{t.cartItemsList.push(e.payload),t.cartTotal+=parseFloat(e.payload.price)},removeCartItem:(t,e)=>{const n=e.payload.docID,r=e.payload.size,i=t.cartItemsList.findIndex(s=>s.docID===n&&s.size===r);if(i!==-1){const s=t.cartItemsList.splice(i,1)[0];t.cartTotal-=parseFloat(s.price)}},clearCart:(t,e)=>{t.cartItemsList=[],t.cartTotal=0}}}),{addCartItem:tx,removeCartItem:yN,clearCart:vN}=ex.actions;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_N=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_N(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new wN;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EN=function(t){const e=nx(t);return rx.encodeByteArray(e,!0)},Vu=function(t){return EN(t).replace(/\./g,"")},ix=function(t){try{return rx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=()=>xN().__FIREBASE_DEFAULTS__,IN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ix(t[1]);return e&&JSON.parse(e)},Yc=()=>{try{return TN()||IN()||SN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sx=t=>{var e,n;return(n=(e=Yc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ox=t=>{const e=sx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ax=()=>{var t;return(t=Yc())===null||t===void 0?void 0:t.config},lx=t=>{var e;return(e=Yc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Vu(JSON.stringify(n)),Vu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function AN(){var t;const e=(t=Yc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NN(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bN(){try{return typeof indexedDB=="object"}catch{return!1}}function DN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jN,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,La.prototype.create)}}class La{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ON(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pn(i,a,r)}}function ON(t,e){return t.replace(LN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LN=/\{\$([^}]+)}/g;function MN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(o_(s)&&o_(o)){if(!Fu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VN(t,e){const n=new FN(t,e);return n.subscribe.bind(n)}class FN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$N(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_h),i.error===void 0&&(i.error=_h),i.complete===void 0&&(i.complete=_h);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zN(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(t){return t===Zr?void 0:t}function zN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const HN={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},qN=J.INFO,KN={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},GN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=GN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const QN=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function XN(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YN(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cx=new WeakMap,Qf=new WeakMap,dx=new WeakMap,wh=new WeakMap,Km=new WeakMap;function JN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cx.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function ZN(t){if(Qf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qf.set(t,e)}let Xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eb(t){Xf=t(Xf)}function tb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eh(this),e,...n);return dx.set(r,e.sort?e.sort():[e]),Ar(r)}:YN().includes(t)?function(...e){return t.apply(Eh(this),e),Ar(cx.get(this))}:function(...e){return Ar(t.apply(Eh(this),e))}}function nb(t){return typeof t=="function"?tb(t):(t instanceof IDBTransaction&&ZN(t),QN(t,XN())?new Proxy(t,Xf):t)}function Ar(t){if(t instanceof IDBRequest)return JN(t);if(wh.has(t))return wh.get(t);const e=nb(t);return e!==t&&(wh.set(t,e),Km.set(e,t)),e}const Eh=t=>Km.get(t);function rb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ar(o.result),l.oldVersion,l.newVersion,Ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ib=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],xh=new Map;function u_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xh.get(e))return xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ib.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return xh.set(e,s),s}eb(t=>({...t,get:(e,n,r)=>u_(e,n)||t.get(e,n,r),has:(e,n)=>!!u_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ab(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ab(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",c_="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new qm("@firebase/app"),lb="@firebase/app-compat",ub="@firebase/analytics-compat",cb="@firebase/analytics",db="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",pb="@firebase/auth-compat",mb="@firebase/database",gb="@firebase/database-compat",yb="@firebase/functions",vb="@firebase/functions-compat",_b="@firebase/installations",wb="@firebase/installations-compat",Eb="@firebase/messaging",xb="@firebase/messaging-compat",Tb="@firebase/performance",Ib="@firebase/performance-compat",Sb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Cb="@firebase/storage",Ab="@firebase/storage-compat",kb="@firebase/firestore",Pb="@firebase/firestore-compat",Nb="firebase",bb="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",Db={[Yf]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[ub]:"fire-analytics-compat",[hb]:"fire-app-check",[db]:"fire-app-check-compat",[fb]:"fire-auth",[pb]:"fire-auth-compat",[mb]:"fire-rtdb",[gb]:"fire-rtdb-compat",[yb]:"fire-fn",[vb]:"fire-fn-compat",[_b]:"fire-iid",[wb]:"fire-iid-compat",[Eb]:"fire-fcm",[xb]:"fire-fcm-compat",[Tb]:"fire-perf",[Ib]:"fire-perf-compat",[Sb]:"fire-rc",[Rb]:"fire-rc-compat",[Cb]:"fire-gcs",[Ab]:"fire-gcs-compat",[kb]:"fire-fst",[Pb]:"fire-fst-compat","fire-js":"fire-js",[Nb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,Zf=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vi(t){const e=t.name;if(Zf.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(const n of $u.values())jb(n,t);return!0}function Jc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},kr=new La("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=bb;function hx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=ax()),!n)throw kr.create("no-options");const s=$u.get(i);if(s){if(Fu(n,s.options)&&Fu(r,s.config))return s;throw kr.create("duplicate-app",{appName:i})}const o=new WN(i);for(const l of Zf.values())o.addComponent(l);const a=new Lb(n,r,o);return $u.set(i,a),a}function Gm(t=Jf){const e=$u.get(t);if(!e&&t===Jf&&ax())return hx();if(!e)throw kr.create("no-app",{appName:t});return e}function xn(t,e,n){var r;let i=(r=Db[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(a.join(" "));return}vi(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebase-heartbeat-database",Vb=1,da="firebase-heartbeat-store";let Th=null;function fx(){return Th||(Th=rb(Mb,Vb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(da)}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),Th}async function Fb(t){try{return await(await fx()).transaction(da).objectStore(da).get(px(t))}catch(e){if(e instanceof Pn)yi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function d_(t,e){try{const r=(await fx()).transaction(da,"readwrite");await r.objectStore(da).put(e,px(t)),await r.done}catch(n){if(n instanceof Pn)yi.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function px(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=1024,Ub=30*24*60*60*1e3;class Bb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=h_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Ub}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:n,unsentEntries:r}=zb(this._heartbeatsCache.heartbeats),i=Vu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function h_(){return new Date().toISOString().substring(0,10)}function zb(t,e=$b){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bN()?DN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Fb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f_(t){return Vu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){vi(new Or("platform-logger",e=>new ob(e),"PRIVATE")),vi(new Or("heartbeat",e=>new Bb(e),"PRIVATE")),xn(Yf,c_,t),xn(Yf,c_,"esm2017"),xn("fire-js","")}Hb("");var qb="firebase",Kb="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(qb,Kb,"app");function Qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gb=mx,gx=new La("auth","Firebase",mx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new qm("@firebase/auth");function Qb(t,...e){Uu.logLevel<=J.WARN&&Uu.warn(`Auth (${Pi}): ${t}`,...e)}function Ql(t,...e){Uu.logLevel<=J.ERROR&&Uu.error(`Auth (${Pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,...e){throw Xm(t,...e)}function Tn(t,...e){return Xm(t,...e)}function yx(t,e,n){const r=Object.assign(Object.assign({},Gb()),{[e]:n});return new La("auth","Firebase",r).create(e,{appName:t.name})}function Xb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gt(t,"argument-error"),yx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gx.create(t,...e)}function $(t,e,...n){if(!t)throw Xm(e,...n)}function Mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Kn(t,e){t||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Yb(){return p_()==="http:"||p_()==="https:"}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yb()||kN()||"connection"in navigator)?navigator.onLine:!0}function Zb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=CN()||PN()}get(){return Jb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){Kn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new Va(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qs(t,e,n,r,i={}){return _x(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ma(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),vx.fetch()(wx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function _x(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},e2),e);try{const i=new n2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Tl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Tl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yx(t,d,u);Gt(t,d)}}catch(i){if(i instanceof Pn)throw i;Gt(t,"network-request-failed",{message:String(i)})}}async function Fa(t,e,n,r,i={}){const s=await qs(t,e,n,r,i);return"mfaPendingCredential"in s&&Gt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ym(t.config,i):`${t.config.apiScheme}://${i}`}class n2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),t2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function i2(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s2(t,e=!1){const n=xe(t),r=await n.getIdToken(e),i=Jm(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Oo(Ih(i.auth_time)),issuedAtTime:Oo(Ih(i.iat)),expirationTime:Oo(Ih(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ih(t){return Number(t)*1e3}function Jm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{const i=ix(n);return i?JSON.parse(i):(Ql("Failed to decode base64 JWT payload"),null)}catch(i){return Ql("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function o2(t){const e=Jm(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&a2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ha(t,i2(n,{idToken:r}));$(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?d2(s.providerUserInfo):[],a=c2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ex(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function u2(t){const e=xe(t);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function d2(t){return t.map(e=>{var{providerId:n}=e,r=Qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e){const n=await _x(t,{},async()=>{const r=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return $(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await h2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fa;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ex(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ha(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s2(this,e)}reload(){return u2(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ha(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:E,isAnonymous:T,providerData:S,stsTokenManager:k}=n;$(w&&k,e,"internal-error");const b=fa.fromJSON(this.name,k);$(typeof w=="string",e,"internal-error"),nr(h,e.name),nr(f,e.name),$(typeof E=="boolean",e,"internal-error"),$(typeof T=="boolean",e,"internal-error"),nr(g,e.name),nr(_,e.name),nr(v,e.name),nr(y,e.name),nr(p,e.name),nr(m,e.name);const q=new li({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:T,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:b,createdAt:p,lastLoginAt:m});return S&&Array.isArray(S)&&(q.providerData=S.map(L=>Object.assign({},L))),y&&(q._redirectEventId=y),q}static async _fromIdTokenResponse(e,n,r=!1){const i=new fa;i.updateFromServerResponse(n);const s=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function Vn(t){Kn(t instanceof Function,"Expected a class definition");let e=m_.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xx.type="NONE";const g_=xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t,e,n){return`firebase:${t}:${e}:${n}`}class ds{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ds(Vn(g_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Vn(g_);const o=Xl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=li._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ds(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ds(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cx(e))return"Blackberry";if(Ax(e))return"Webos";if(Zm(e))return"Safari";if((e.includes("chrome/")||Ix(e))&&!e.includes("edge/"))return"Chrome";if(Rx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Tx(t=dt()){return/firefox\//i.test(t)}function Zm(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ix(t=dt()){return/crios\//i.test(t)}function Sx(t=dt()){return/iemobile/i.test(t)}function Rx(t=dt()){return/android/i.test(t)}function Cx(t=dt()){return/blackberry/i.test(t)}function Ax(t=dt()){return/webos/i.test(t)}function Zc(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f2(t=dt()){var e;return Zc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p2(){return NN()&&document.documentMode===10}function kx(t=dt()){return Zc(t)||Rx(t)||Ax(t)||Cx(t)||/windows phone/i.test(t)||Sx(t)}function m2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e=[]){let n;switch(t){case"Browser":n=y_(dt());break;case"Worker":n=`${y_(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pi}/${r}`}async function Nx(t,e){return qs(t,"GET","/v2/recaptchaConfig",Hs(t,e))}function v_(t){return t!==void 0&&t.enterprise!==void 0}class bx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Dx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",g2().appendChild(r)})}function y2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const v2="https://www.google.com/recaptcha/enterprise.js?render=",_2="recaptcha-enterprise",w2="NO_RECAPTCHA";class jx{constructor(e){this.type=_2,this.auth=zr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Nx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bx(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;v_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(w2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&v_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Dx(v2+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function zu(t,e,n,r=!1){const i=new jx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ds.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xe(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}async initializeRecaptchaConfig(){const e=await Nx(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new bx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new jx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new La("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await ds.create(this,[Vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Px(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Qb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zr(t){return xe(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=VN(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){const n=Jc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fu(s,e??{}))return i;Gt(i,"already-initialized")}return n.initialize({options:e})}function I2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S2(t,e,n){const r=zr(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ox(e),{host:o,port:a}=R2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||C2()}function Ox(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R2(t){const e=Ox(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:w_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:w_(o)}}}function w_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,n){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}async function A2(t,e){return qs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t,e){return Fa(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return Fa(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function P2(t,e){return Fa(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends eg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await zu(e,r,"signInWithPassword");return Sh(e,i)}else return Sh(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await zu(e,r,"signInWithPassword");return Sh(e,s)}else return Promise.reject(i)});case"emailLink":return k2(e,{email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return A2(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return P2(e,{idToken:n,email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t,e){return Fa(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="http://localhost";class _i extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new _i(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hs(e,n)}buildRequest(){const e={requestUri:N2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D2(t){const e=_o(wo(t)).link,n=e?_o(wo(e)).deep_link_id:null,r=_o(wo(t)).deep_link_id;return(r?_o(wo(r)).link:null)||r||n||e||t}class tg{constructor(e){var n,r,i,s,o,a;const l=_o(wo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=b2((i=l.mode)!==null&&i!==void 0?i:null);$(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=D2(e);try{return new tg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,n){return pa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tg.parseLink(n);return $(r,"argument-error"),pa._fromEmailAndCode(e,r.code,r.tenantId)}}Ks.PROVIDER_ID="password";Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends ng{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends $a{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _i._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jn.credential(n,r)}catch{return null}}}jn.GOOGLE_SIGN_IN_METHOD="google.com";jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends $a{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends $a{constructor(){super("twitter.com")}static credential(e,n){return _i._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t,e){return Fa(t,"POST","/v1/accounts:signUp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await li._fromIdTokenResponse(e,r,i),o=E_(r);return new wi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=E_(r);return new wi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function E_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Pn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wu(e,n,r,i)}}function Lx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wu._fromErrorAndOperation(t,s,e,r):s})}async function j2(t,e,n=!1){const r=await ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ha(t,Lx(r,i,e,t),n);$(s.idToken,r,"internal-error");const o=Jm(s.idToken);$(o,r,"internal-error");const{sub:a}=o;return $(t.uid===a,r,"user-mismatch"),wi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e,n=!1){const r="signIn",i=await Lx(t,r,e),s=await wi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function L2(t,e){return Mx(zr(t),e)}async function M2(t,e,n){var r;const i=zr(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await zu(i,s,"signUpPassword");o=Rh(i,u)}else o=Rh(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await zu(i,s,"signUpPassword");return Rh(i,d)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await wi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function V2(t,e,n){return L2(xe(t),Ks.credential(e,n))}function F2(t,e,n,r){return xe(t).onIdTokenChanged(e,n,r)}function $2(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}function U2(t,e,n,r){return xe(t).onAuthStateChanged(e,n,r)}function B2(t){return xe(t).signOut()}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){const t=dt();return Zm(t)||Zc(t)}const W2=1e3,H2=10;class Fx extends Vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z2()&&m2(),this.fallbackToPolling=kx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);p2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fx.type="LOCAL";const q2=Fx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends Vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$x.type="SESSION";const Ux=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await K2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=rg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function Q2(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function X2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J2(){return Bx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="firebaseLocalStorageDb",Z2=1,qu="firebaseLocalStorage",Wx="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(t,e){return t.transaction([qu],e?"readwrite":"readonly").objectStore(qu)}function eD(){const t=indexedDB.deleteDatabase(zx);return new Ua(t).toPromise()}function tp(){const t=indexedDB.open(zx,Z2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qu,{keyPath:Wx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qu)?e(r):(r.close(),await eD(),e(await tp()))})})}async function x_(t,e,n){const r=td(t,!0).put({[Wx]:e,value:n});return new Ua(r).toPromise()}async function tD(t,e){const n=td(t,!1).get(e),r=await new Ua(n).toPromise();return r===void 0?null:r.value}function T_(t,e){const n=td(t,!0).delete(e);return new Ua(n).toPromise()}const nD=800,rD=3;class Hx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(J2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new G2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await x_(e,Hu,"1"),await T_(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=td(i,!1).getAll();return new Ua(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hx.type="LOCAL";const iD=Hx;new Va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e){return e?Vn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sD(t){return Mx(t.auth,new ig(t),t.bypassAuthState)}function oD(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),O2(n,new ig(t),t.bypassAuthState)}async function aD(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),j2(n,new ig(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sD;case"linkViaPopup":case"linkViaRedirect":return aD;case"reauthViaPopup":case"reauthViaRedirect":return oD;default:Gt(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Va(2e3,1e4);class es extends Kx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lD.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="pendingRedirect",Yl=new Map;class cD extends Kx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yl.get(this.auth._key());if(!e){try{const r=await dD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yl.set(this.auth._key(),e)}return this.bypassAuthState||Yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dD(t,e){const n=Qx(e),r=Gx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function hD(t,e){return Gx(t)._set(Qx(e),"true")}function fD(t,e){Yl.set(t._key(),e)}function Gx(t){return Vn(t._redirectPersistence)}function Qx(t){return Xl(uD,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e,n){return mD(t,e,n)}async function mD(t,e,n){const r=zr(t);Xb(t,e,ng),await r._initializationPromise;const i=qx(r,n);return await hD(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function gD(t,e){return await zr(t)._initializationPromise,Xx(t,e,!1)}async function Xx(t,e,n=!1){const r=zr(t),i=qx(r,e),o=await new cD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=10*60*1e3;class vD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Yx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _D(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xD=/^https?/;async function TD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wD(t);for(const n of e)try{if(ID(n))return}catch{}Gt(t,"unauthorized-domain")}function ID(t){const e=ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xD.test(n))return!1;if(ED.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Va(3e4,6e4);function S_(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RD(t){return new Promise((e,n)=>{var r,i,s;function o(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),n(Tn(t,"network-request-failed"))},timeout:SD.get()})}if(!((i=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=In().gapi)===null||s===void 0)&&s.load)o();else{const a=y2("iframefcb");return In()[a]=()=>{gapi.load?o():n(Tn(t,"network-request-failed"))},Dx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jl=null,e})}let Jl=null;function CD(t){return Jl=Jl||RD(t),Jl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Va(5e3,15e3),kD="__/auth/iframe",PD="emulator/auth/iframe",ND={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DD(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,PD):`https://${t.config.authDomain}/${kD}`,r={apiKey:e.apiKey,appName:t.name,v:Pi},i=bD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ma(r).slice(1)}`}async function jD(t){const e=await CD(t),n=In().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:DD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ND,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tn(t,"network-request-failed"),a=In().setTimeout(()=>{s(o)},AD.get());function l(){In().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LD=500,MD=600,VD="_blank",FD="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $D(t,e,n,r=LD,i=MD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=dt().toLowerCase();n&&(a=Ix(u)?VD:n),Tx(u)&&(e=e||FD,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(f2(u)&&a!=="_self")return UD(e||"",a),new R_(null);const h=window.open(e||"",a,d);$(h,t,"popup-blocked");try{h.focus()}catch{}return new R_(h)}function UD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="__/auth/handler",zD="emulator/auth/handler",WD=encodeURIComponent("fac");async function C_(t,e,n,r,i,s){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pi,eventId:i};if(e instanceof ng){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof $a){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${WD}=${encodeURIComponent(l)}`:"";return`${HD(t)}?${Ma(a).slice(1)}${u}`}function HD({config:t}){return t.emulator?Ym(t,zD):`https://${t.authDomain}/${BD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ux,this._completeRedirectFn=Xx,this._overrideRedirectResult=fD}async _openPopup(e,n,r,i){var s;Kn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C_(e,n,r,ep(),i);return $D(e,o,rg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C_(e,n,r,ep(),i);return Q2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jD(e),r=new vD(e);return n.register("authEvent",i=>($(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ch,{type:Ch},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ch];o!==void 0&&n(!!o),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kx()||Zm()||Zc()}}const KD=qD;var A_="@firebase/auth",k_="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function XD(t){vi(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Px(t)},u=new x2(r,i,s,l);return I2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vi(new Or("auth-internal",e=>{const n=zr(e.getProvider("auth").getImmediate());return(r=>new GD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(A_,k_,QD(t)),xn(A_,k_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=5*60,JD=lx("authIdTokenMaxAge")||YD;let P_=null;const ZD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JD)return;const i=n==null?void 0:n.token;P_!==i&&(P_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ej(t=Gm()){const e=Jc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T2(t,{popupRedirectResolver:KD,persistence:[iD,q2,Ux]}),r=lx("authTokenSyncURL");if(r){const s=ZD(r);$2(n,s,()=>s(n.currentUser)),F2(n,o=>s(o))}const i=sx("auth");return i&&S2(n,`http://${i}`),n}XD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebasestorage.googleapis.com",Zx="storageBucket",tj=2*60*1e3,nj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se extends Pn{constructor(e,n,r=0){super(Ah(e),`Firebase Storage: ${n} (${Ah(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Se.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ah(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Ah(t){return"storage/"+t}function sg(){const t="An unknown error occurred, please check the error payload for server response.";return new Se(Te.UNKNOWN,t)}function rj(t){return new Se(Te.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ij(t){return new Se(Te.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Se(Te.UNAUTHENTICATED,t)}function oj(){return new Se(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aj(t){return new Se(Te.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lj(){return new Se(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uj(){return new Se(Te.CANCELED,"User canceled the upload/download.")}function cj(t){return new Se(Te.INVALID_URL,"Invalid URL '"+t+"'.")}function dj(t){return new Se(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hj(){return new Se(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zx+"' property when initializing the app?")}function fj(){return new Se(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pj(){return new Se(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mj(t){return new Se(Te.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function np(t){return new Se(Te.INVALID_ARGUMENT,t)}function eT(){return new Se(Te.APP_DELETED,"The Firebase app was deleted.")}function gj(t){return new Se(Te.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lo(t,e){return new Se(Te.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function uo(t){throw new Se(Te.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pt.makeFromUrl(e,n)}catch{return new Pt(e,"")}if(r.path==="")return r;throw dj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},v=n===Jx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",p=new RegExp(`^https?://${v}/${i}/${y}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:g,indices:_,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const T=w[E],S=T.regex.exec(e);if(S){const k=S[T.indices.bucket];let b=S[T.indices.path];b||(b=""),r=new Pt(k,b),T.postModify(r);break}}if(r==null)throw cj(e);return r}}class yj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(g,l())},y)}function f(){s&&clearTimeout(s)}function g(y,...p){if(u){f();return}if(y){f(),d.call(null,y,...p);return}if(l()||o){f(),d.call(null,y,...p);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let _=!1;function v(y){_||(_=!0,f(),!u&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function _j(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){return t!==void 0}function Ej(t){return typeof t=="object"&&!Array.isArray(t)}function og(t){return typeof t=="string"||t instanceof String}function N_(t){return ag()&&t instanceof Blob}function ag(){return typeof Blob<"u"&&!AN()}function b_(t,e,n,r){if(r<e)throw np(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw np(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ui||(ui={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Il(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ui.NO_ERROR,l=s.getStatus();if(!a||xj(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ui.ABORT;r(!1,new Il(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Il(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=sg();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?eT():uj();o(l)}else{const l=lj();o(l)}};this.canceled_?n(!1,new Il(!1,null,!0)):this.backoffId_=vj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_j(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Il{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ij(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Sj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Rj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Aj(t,e,n,r,i,s,o=!0){const a=tT(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Rj(u,e),Ij(u,n),Sj(u,s),Cj(u,r),new Tj(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Pj(...t){const e=kj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ag())return new Blob(t);throw new Se(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Nj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){if(typeof atob>"u")throw mj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kh{constructor(e,n){this.data=e,this.contentType=n||null}}function Dj(t,e){switch(t){case gn.RAW:return new kh(nT(e));case gn.BASE64:case gn.BASE64URL:return new kh(rT(t,e));case gn.DATA_URL:return new kh(Oj(e),Lj(e))}throw sg()}function nT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jj(t){let e;try{e=decodeURIComponent(t)}catch{throw Lo(gn.DATA_URL,"Malformed data URL.")}return nT(e)}function rT(t,e){switch(t){case gn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Lo(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Lo(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bj(e)}catch(i){throw i.message.includes("polyfill")?i:Lo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lo(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Mj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Oj(t){const e=new iT(t);return e.base64?rT(gn.BASE64,e.rest):jj(e.rest)}function Lj(t){return new iT(t).contentType}function Mj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){let r=0,i="";N_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(N_(this.data_)){const r=this.data_,i=Nj(r,e,n);return i===null?null:new dr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new dr(r,!0)}}static getBlob(...e){if(ag()){const n=e.map(r=>r instanceof dr?r.data_:r);return new dr(Pj.apply(null,n))}else{const n=e.map(o=>og(o)?Dj(gn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new dr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){let e;try{e=JSON.parse(t)}catch{return null}return Ej(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Fj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){return e}class ft{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$j}}let Sl=null;function Uj(t){return!og(t)||t.length<2?t:oT(t)}function aT(){if(Sl)return Sl;const t=[];t.push(new ft("bucket")),t.push(new ft("generation")),t.push(new ft("metageneration")),t.push(new ft("name","fullPath",!0));function e(s,o){return Uj(o)}const n=new ft("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ft("size");return i.xform=r,t.push(i),t.push(new ft("timeCreated")),t.push(new ft("updated")),t.push(new ft("md5Hash",null,!0)),t.push(new ft("cacheControl",null,!0)),t.push(new ft("contentDisposition",null,!0)),t.push(new ft("contentEncoding",null,!0)),t.push(new ft("contentLanguage",null,!0)),t.push(new ft("contentType",null,!0)),t.push(new ft("metadata","customMetadata",!0)),Sl=t,Sl}function Bj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Pt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Bj(r,t),r}function lT(t,e,n){const r=sT(e);return r===null?null:zj(t,r,n)}function Wj(t,e,n,r){const i=sT(e);if(i===null||!og(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),g=lg(f,n,r),_=tT({alt:"media",token:u});return g+_})[0]}function Hj(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class uT{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){if(!t)throw sg()}function qj(t,e){function n(r,i){const s=lT(t,i,e);return cT(s!==null),s}return n}function Kj(t,e){function n(r,i){const s=lT(t,i,e);return cT(s!==null),Wj(s,i,t.host,t._protocol)}return n}function dT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oj():i=sj():n.getStatus()===402?i=ij(t.bucket):n.getStatus()===403?i=aj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Gj(t){const e=dT(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rj(t.path)),s.serverResponse=i.serverResponse,s}return n}function Qj(t,e,n){const r=e.fullServerUrl(),i=lg(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new uT(i,s,Kj(t,n),o);return a.errorHandler=Gj(e),a}function Xj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Xj(null,e)),r}function Jj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Yj(e,r,i),d=Hj(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=dr.getBlob(h,r,f);if(g===null)throw fj();const _={name:u.fullPath},v=lg(s,t.host,t._protocol),y="POST",p=t.maxUploadRetryTime,m=new uT(v,y,qj(t,n),p);return m.urlParams=_,m.headers=o,m.body=g.uploadData(),m.errorHandler=dT(e),m}class Zj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ui.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ui.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ui.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw uo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eO extends Zj{initXhr(){this.xhr_.responseType="text"}}function hT(){return new eO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this._service=e,n instanceof Pt?this._location=n:this._location=Pt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ei(e,n)}get root(){const e=new Pt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oT(this._location.path)}get storage(){return this._service}get parent(){const e=Vj(this._location.path);if(e===null)return null;const n=new Pt(this._location.bucket,e);return new Ei(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gj(e)}}function tO(t,e,n){t._throwIfRoot("uploadBytes");const r=Jj(t.storage,t._location,aT(),new dr(e,!0),n);return t.storage.makeRequestWithTokens(r,hT).then(i=>({metadata:i,ref:t}))}function nO(t){t._throwIfRoot("getDownloadURL");const e=Qj(t.storage,t._location,aT());return t.storage.makeRequestWithTokens(e,hT).then(n=>{if(n===null)throw pj();return n})}function rO(t,e){const n=Fj(t._location.path,e),r=new Pt(t._location.bucket,n);return new Ei(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){return/^[A-Za-z]+:\/\//.test(t)}function sO(t,e){return new Ei(t,e)}function fT(t,e){if(t instanceof ug){const n=t;if(n._bucket==null)throw hj();const r=new Ei(n,n._bucket);return e!=null?fT(r,e):r}else return e!==void 0?rO(t,e):t}function oO(t,e){if(e&&iO(e)){if(t instanceof ug)return sO(t,e);throw np("To use ref(service, url), the first argument must be a Storage instance.")}else return fT(t,e)}function D_(t,e){const n=e==null?void 0:e[Zx];return n==null?null:Pt.makeFromBucketSpec(n,t)}function aO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ux(i,t.app.options.projectId))}class ug{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Jx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tj,this._maxUploadRetryTime=nj,this._requests=new Set,i!=null?this._bucket=Pt.makeFromBucketSpec(i,this._host):this._bucket=D_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pt.makeFromBucketSpec(this._url,e):this._bucket=D_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ei(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yj(eT());{const o=Aj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const j_="@firebase/storage",O_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="storage";function lO(t,e,n){return t=xe(t),tO(t,e,n)}function uO(t){return t=xe(t),nO(t)}function cO(t,e){return t=xe(t),oO(t,e)}function dO(t=Gm(),e){t=xe(t);const r=Jc(t,pT).getImmediate({identifier:e}),i=ox("storage");return i&&hO(r,...i),r}function hO(t,e,n,r={}){aO(t,e,n,r)}function fO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ug(n,r,i,e,Pi)}function pO(){vi(new Or(pT,fO,"PUBLIC").setMultipleInstances(!0)),xn(j_,O_,""),xn(j_,O_,"esm2017")}pO();var mO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,cg=cg||{},B=mO||self;function nd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ba(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gO(t){return Object.prototype.hasOwnProperty.call(t,Ph)&&t[Ph]||(t[Ph]=++yO)}var Ph="closure_uid_"+(1e9*Math.random()>>>0),yO=0;function vO(t,e,n){return t.call.apply(t.bind,arguments)}function _O(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function at(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?at=vO:at=_O,at.apply(null,arguments)}function Rl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function He(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Wr(){this.s=this.s,this.o=this.o}var wO=0;Wr.prototype.s=!1;Wr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wO!=0)&&gO(this)};Wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function L_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(nd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var EO=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",()=>{},e),B.removeEventListener("test",()=>{},e)}catch{}return t}();function ma(t){return/^[\s\xa0]*$/.test(t)}function rd(){var t=B.navigator;return t&&(t=t.userAgent)?t:""}function mn(t){return rd().indexOf(t)!=-1}function hg(t){return hg[" "](t),t}hg[" "]=function(){};function xO(t,e){var n=pL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TO=mn("Opera"),Cs=mn("Trident")||mn("MSIE"),gT=mn("Edge"),rp=gT||Cs,yT=mn("Gecko")&&!(rd().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge"))&&!(mn("Trident")||mn("MSIE"))&&!mn("Edge"),IO=rd().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge");function vT(){var t=B.document;return t?t.documentMode:void 0}var ip;e:{var Nh="",bh=function(){var t=rd();if(yT)return/rv:([^\);]+)(\)|;)/.exec(t);if(gT)return/Edge\/([\d\.]+)/.exec(t);if(Cs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IO)return/WebKit\/(\S+)/.exec(t);if(TO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(bh&&(Nh=bh?bh[1]:""),Cs){var Dh=vT();if(Dh!=null&&Dh>parseFloat(Nh)){ip=String(Dh);break e}}ip=Nh}var sp;if(B.document&&Cs){var M_=vT();sp=M_||parseInt(ip,10)||void 0}else sp=void 0;var SO=sp;function ga(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yT){e:{try{hg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ga.$.h.call(this)}}He(ga,lt);var RO={2:"touch",3:"pen",4:"mouse"};ga.prototype.h=function(){ga.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var za="closure_listenable_"+(1e6*Math.random()|0),CO=0;function AO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++CO,this.fa=this.ia=!1}function id(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function kO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _T(t){const e={};for(const n in t)e[n]=t[n];return e}const V_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<V_.length;s++)n=V_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sd(t){this.src=t,this.g={},this.h=0}sd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ap(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new AO(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function op(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=mT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(id(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ap(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var pg="closure_lm_"+(1e6*Math.random()|0),jh={};function ET(t,e,n,r,i){if(r&&r.once)return TT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ET(t,e[s],n,r,i);return null}return n=yg(n),t&&t[za]?t.O(e,n,Ba(r)?!!r.capture:!!r,i):xT(t,e,n,!1,r,i)}function xT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ba(i)?!!i.capture:!!i,a=gg(t);if(a||(t[pg]=a=new sd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=PO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ST(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function PO(){function t(n){return e.call(t.src,t.listener,n)}const e=NO;return t}function TT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TT(t,e[s],n,r,i);return null}return n=yg(n),t&&t[za]?t.P(e,n,Ba(r)?!!r.capture:!!r,i):xT(t,e,n,!0,r,i)}function IT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IT(t,e[s],n,r,i);else r=Ba(r)?!!r.capture:!!r,n=yg(n),t&&t[za]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ap(s,n,r,i),-1<n&&(id(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ap(e,n,r,i)),(n=-1<t?e[t]:null)&&mg(n))}function mg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[za])op(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ST(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gg(e))?(op(n,t),n.h==0&&(n.src=null,e[pg]=null)):id(t)}}}function ST(t){return t in jh?jh[t]:jh[t]="on"+t}function NO(t,e){if(t.fa)t=!0;else{e=new ga(e,this);var n=t.listener,r=t.la||t.src;t.ia&&mg(t),t=n.call(r,e)}return t}function gg(t){return t=t[pg],t instanceof sd?t:null}var Oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function yg(t){return typeof t=="function"?t:(t[Oh]||(t[Oh]=function(e){return t.handleEvent(e)}),t[Oh])}function ze(){Wr.call(this),this.i=new sd(this),this.S=this,this.J=null}He(ze,Wr);ze.prototype[za]=!0;ze.prototype.removeEventListener=function(t,e,n,r){IT(this,t,e,n,r)};function Xe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),wT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Cl(o,r,!0,e)&&i}if(o=e.g=t,i=Cl(o,r,!0,e)&&i,i=Cl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Cl(o,r,!1,e)&&i}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)id(n[r]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Cl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&op(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var vg=B.JSON.stringify;class bO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function DO(){var t=_g;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jO{constructor(){this.h=this.g=null}add(e,n){const r=RT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var RT=new bO(()=>new OO,t=>t.reset());class OO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function MO(t){B.setTimeout(()=>{throw t},0)}let ya,va=!1,_g=new jO,CT=()=>{const t=B.Promise.resolve(void 0);ya=()=>{t.then(VO)}};var VO=()=>{for(var t;t=DO();){try{t.h.call(t.g)}catch(n){MO(n)}var e=RT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}va=!1};function od(t,e){ze.call(this),this.h=t||1,this.g=e||B,this.j=at(this.qb,this),this.l=Date.now()}He(od,ze);N=od.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xe(this,"tick"),this.ga&&(wg(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){od.$.N.call(this),wg(this),delete this.g};function Eg(t,e,n){if(typeof t=="function")n&&(t=at(t,n));else if(t&&typeof t.handleEvent=="function")t=at(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function AT(t){t.g=Eg(()=>{t.g=null,t.i&&(t.i=!1,AT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class FO extends Wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AT(this)}N(){super.N(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(t){Wr.call(this),this.h=t,this.g={}}He(_a,Wr);var F_=[];function kT(t,e,n,r){Array.isArray(n)||(n&&(F_[0]=n.toString()),n=F_);for(var i=0;i<n.length;i++){var s=ET(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function PT(t){fg(t.g,function(e,n){this.g.hasOwnProperty(n)&&mg(e)},t),t.g={}}_a.prototype.N=function(){_a.$.N.call(this),PT(this)};_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ad(){this.g=!0}ad.prototype.Ea=function(){this.g=!1};function $O(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function UO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zO(t,n)+(r?" "+r:"")})}function BO(t,e){t.info(function(){return"TIMEOUT: "+e})}ad.prototype.info=function(){};function zO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return vg(n)}catch{return e}}var Ni={},$_=null;function ld(){return $_=$_||new ze}Ni.Ta="serverreachability";function NT(t){lt.call(this,Ni.Ta,t)}He(NT,lt);function wa(t){const e=ld();Xe(e,new NT(e))}Ni.STAT_EVENT="statevent";function bT(t,e){lt.call(this,Ni.STAT_EVENT,t),this.stat=e}He(bT,lt);function gt(t){const e=ld();Xe(e,new bT(e,t))}Ni.Ua="timingevent";function DT(t,e){lt.call(this,Ni.Ua,t),this.size=e}He(DT,lt);function Wa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}var ud={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xg(){}xg.prototype.h=null;function U_(t){return t.h||(t.h=t.i())}function OT(){}var Ha={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tg(){lt.call(this,"d")}He(Tg,lt);function Ig(){lt.call(this,"c")}He(Ig,lt);var lp;function cd(){}He(cd,xg);cd.prototype.g=function(){return new XMLHttpRequest};cd.prototype.i=function(){return{}};lp=new cd;function qa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _a(this),this.P=WO,t=rp?125:void 0,this.V=new od(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LT}function LT(){this.i=null,this.g="",this.h=!1}var WO=45e3,up={},Ku={};N=qa.prototype;N.setTimeout=function(t){this.P=t};function cp(t,e,n){t.L=1,t.v=hd(Gn(e)),t.s=n,t.S=!0,MT(t,null)}function MT(t,e){t.G=Date.now(),Ka(t),t.A=Gn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),HT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new LT,t.g=hI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new FO(at(t.Pa,t,t.g),t.O)),kT(t.U,t.g,"readystatechange",t.nb),e=t.I?_T(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wa(),$O(t.j,t.u,t.A,t.m,t.W,t.s)}N.nb=function(t){t=t.target;const e=this.M;e&&yn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const d=yn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||rp||this.g&&(this.h.h||this.g.ja()||H_(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?wa(3):wa(2)),dd(this);var n=this.g.da();this.ca=n;t:if(VT(this)){var r=H_(this.g);t="";var i=r.length,s=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Mo(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,UO(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ma(a)){var u=a;break t}}u=null}if(n=u)ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dp(this,n);else{this.i=!1,this.o=3,gt(12),ri(this),Mo(this);break e}}this.S?(FT(this,d,o),rp&&this.i&&d==3&&(kT(this.U,this.V,"tick",this.mb),this.V.start())):(ts(this.j,this.m,o,null),dp(this,o)),d==4&&ri(this),this.i&&!this.J&&(d==4?lI(this.l,this):(this.i=!1,Ka(this)))}else dL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,gt(12)):(this.o=0,gt(13)),ri(this),Mo(this)}}}catch{}finally{}};function VT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function FT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=HO(t,n),i==Ku){e==4&&(t.o=4,gt(14),r=!1),ts(t.j,t.m,null,"[Incomplete Response]");break}else if(i==up){t.o=4,gt(15),ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ts(t.j,t.m,i,null),dp(t,i);VT(t)&&i!=Ku&&i!=up&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pg(e),e.M=!0,gt(11))):(ts(t.j,t.m,n,"[Invalid Chunked Response]"),ri(t),Mo(t))}N.mb=function(){if(this.g){var t=yn(this.g),e=this.g.ja();this.C<e.length&&(dd(this),FT(this,t,e),this.i&&t!=4&&Ka(this))}};function HO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ku:(n=Number(e.substring(n,r)),isNaN(n)?up:(r+=1,r+n>e.length?Ku:(e=e.slice(r,r+n),t.C=r+n,e)))}N.cancel=function(){this.J=!0,ri(this)};function Ka(t){t.Y=Date.now()+t.P,$T(t,t.P)}function $T(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Wa(at(t.lb,t),e)}function dd(t){t.B&&(B.clearTimeout(t.B),t.B=null)}N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(BO(this.j,this.A),this.L!=2&&(wa(),gt(17)),ri(this),this.o=2,Mo(this)):$T(this,this.Y-t)};function Mo(t){t.l.H==0||t.J||lI(t.l,t)}function ri(t){dd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,wg(t.V),PT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function dp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hp(n.i,t))){if(!t.K&&hp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Xu(n),md(n);else break e;kg(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wa(at(n.ib,n),6e3));if(1>=GT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ii(n,11)}else if((t.K||n.g==t)&&Xu(n),!ma(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Sg(s,s.h),s.h=null))}if(r.F){const v=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ue(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=dI(r,r.J?r.pa:null,r.Y),o.K){QT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(dd(a),Ka(a)),r.g=o}else oI(r);0<n.j.length&&gd(n)}else u[0]!="stop"&&u[0]!="close"||ii(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ii(n,7):Ag(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}wa(4)}catch{}}function qO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(nd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function KO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(nd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function UT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(nd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KO(t),r=qO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var BT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ci){this.h=t.h,Gu(this,t.j),this.s=t.s,this.g=t.g,Qu(this,t.m),this.l=t.l;var e=t.i,n=new Ea;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),B_(this,n),this.o=t.o}else t&&(e=String(t).match(BT))?(this.h=!1,Gu(this,e[1]||"",!0),this.s=Eo(e[2]||""),this.g=Eo(e[3]||"",!0),Qu(this,e[4]),this.l=Eo(e[5]||"",!0),B_(this,e[6]||"",!0),this.o=Eo(e[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xo(e,z_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xo(e,z_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xo(n,n.charAt(0)=="/"?YO:XO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xo(n,ZO)),t.join("")};function Gn(t){return new ci(t)}function Gu(t,e,n){t.j=n?Eo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function B_(t,e,n){e instanceof Ea?(t.i=e,eL(t.i,t.h)):(n||(e=xo(e,JO)),t.i=new Ea(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function hd(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Eo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var z_=/[#\/\?@]/g,XO=/[#\?:]/g,YO=/[#\?]/g,JO=/[#\?@]/g,ZO=/#/g;function Ea(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hr(t){t.g||(t.g=new Map,t.h=0,t.i&&GO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Ea.prototype;N.add=function(t,e){Hr(this),this.i=null,t=Gs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function zT(t,e){Hr(t),e=Gs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WT(t,e){return Hr(t),e=Gs(t,e),t.g.has(e)}N.forEach=function(t,e){Hr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){Hr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};N.Z=function(t){Hr(this);let e=[];if(typeof t=="string")WT(this,t)&&(e=e.concat(this.g.get(Gs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Hr(this),this.i=null,t=Gs(this,t),WT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function HT(t,e,n){zT(t,e),0<n.length&&(t.i=null,t.g.set(Gs(t,e),dg(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Gs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eL(t,e){e&&!t.j&&(Hr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(zT(this,r),HT(this,i,n))},t)),t.j=e}var tL=class{constructor(t,e){this.g=t,this.map=e}};function qT(t){this.l=t||nL,B.PerformanceNavigationTiming?(t=B.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(B.g&&B.g.Ka&&B.g.Ka()&&B.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nL=10;function KT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function GT(t){return t.h?1:t.g?t.g.size:0}function hp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Sg(t,e){t.g?t.g.add(e):t.h=e}function QT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qT.prototype.cancel=function(){if(this.i=XT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function XT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return dg(t.i)}var rL=class{stringify(t){return B.JSON.stringify(t,void 0)}parse(t){return B.JSON.parse(t,void 0)}};function iL(){this.g=new rL}function sL(t,e,n){const r=n||"";try{UT(t,function(i,s){let o=i;Ba(i)&&(o=vg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oL(t,e){const n=new ad;if(B.Image){const r=new Image;r.onload=Rl(Al,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rl(Al,n,r,"TestLoadImage: error",!1,e),r.onabort=Rl(Al,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rl(Al,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Al(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ga(t){this.l=t.fc||null,this.j=t.ob||!1}He(Ga,xg);Ga.prototype.g=function(){return new fd(this.l,this.j)};Ga.prototype.i=function(t){return function(){return t}}({});function fd(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Rg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He(fd,ze);var Rg=0;N=fd.prototype;N.open=function(t,e){if(this.readyState!=Rg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xa(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||B).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=Rg};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof B.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function YT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qa(this):xa(this),this.readyState==3&&YT(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,Qa(this))};N.Ya=function(t){this.g&&(this.response=t,Qa(this))};N.ka=function(){this.g&&Qa(this)};function Qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xa(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aL=B.JSON.parse;function Ie(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JT,this.L=this.M=!1}He(Ie,ze);var JT="",lL=/^https?$/i,uL=["POST","PUT"];N=Ie.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lp.g(),this.C=this.u?U_(this.u):U_(lp),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){W_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=B.FormData&&t instanceof B.FormData,!(0<=mT(uL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tI(this),0<this.B&&((this.L=cL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Eg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){W_(this,s)}};function cL(t){return Cs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof cg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function W_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZT(t),pd(t)}function ZT(t){t.F||(t.F=!0,Xe(t,"complete"),Xe(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),pd(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pd(this,!0)),Ie.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?eI(this):this.kb())};N.kb=function(){eI(this)};function eI(t){if(t.h&&typeof cg<"u"&&(!t.C[1]||yn(t)!=4||t.da()!=2)){if(t.v&&yn(t)==4)Eg(t.La,0,t);else if(Xe(t,"readystatechange"),yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(BT)[1]||null;!i&&B.self&&B.self.location&&(i=B.self.location.protocol.slice(0,-1)),r=!lL.test(i?i.toLowerCase():"")}n=r}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var s=2<yn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ZT(t)}}finally{pd(t)}}}}function pd(t,e){if(t.g){tI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=r}catch{}}}function tI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function yn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aL(e)}};function H_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dL(t){const e={};t=(t.g&&2<=yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ma(t[r]))continue;var n=LO(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}kO(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function nI(t){let e="";return fg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Cg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ue(t,e,n))}function co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rI(t){this.Ga=0,this.j=[],this.l=new ad,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=co("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=co("baseRetryDelayMs",5e3,t),this.hb=co("retryDelaySeedMs",1e4,t),this.eb=co("forwardChannelMaxRetries",2,t),this.xa=co("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qT(t&&t.concurrentRequestLimit),this.Ja=new iL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=rI.prototype;N.ra=8;N.H=1;function Ag(t){if(iI(t),t.H==3){var e=t.W++,n=Gn(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),Xa(t,n),e=new qa(t,t.l,e),e.L=2,e.v=hd(Gn(n)),n=!1,B.navigator&&B.navigator.sendBeacon)try{n=B.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&B.Image&&(new Image().src=e.v,n=!0),n||(e.g=hI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ka(e)}cI(t)}function md(t){t.g&&(Pg(t),t.g.cancel(),t.g=null)}function iI(t){md(t),t.u&&(B.clearTimeout(t.u),t.u=null),Xu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&B.clearTimeout(t.m),t.m=null)}function gd(t){if(!KT(t.i)&&!t.m){t.m=!0;var e=t.Na;ya||CT(),va||(ya(),va=!0),_g.add(e,t),t.C=0}}function hL(t,e){return GT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wa(at(t.Na,t,e),uI(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new qa(this,this.l,t);let s=this.s;if(this.U&&(s?(s=_T(s),wT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sI(this,i,e),n=Gn(this.I),ue(n,"RID",t),ue(n,"CVER",22),this.F&&ue(n,"X-HTTP-Session-Id",this.F),Xa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(nI(s)))+"&"+e:this.o&&Cg(n,this.o,s)),Sg(this.i,i),this.bb&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.aa=!0,cp(i,n,null)):cp(i,n,e),this.H=2}}else this.H==3&&(t?q_(this,t):this.j.length==0||KT(this.i)||q_(this))};function q_(t,e){var n;e?n=e.m:n=t.W++;const r=Gn(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.V),Xa(t,r),t.o&&t.s&&Cg(r,t.o,t.s),n=new qa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Sg(t.i,n),cp(n,r,e)}function Xa(t,e){t.na&&fg(t.na,function(n,r){ue(e,r,n)}),t.h&&UT({},function(n,r){ue(e,r,n)})}function sI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?at(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{sL(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function oI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ya||CT(),va||(ya(),va=!0),_g.add(e,t),t.A=0}}function kg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wa(at(t.Ma,t),uI(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,aI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wa(at(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),md(this),aI(this))};function Pg(t){t.B!=null&&(B.clearTimeout(t.B),t.B=null)}function aI(t){t.g=new qa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Gn(t.wa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.V),ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ue(e,"TO",t.qa),ue(e,"TYPE","xmlhttp"),Xa(t,e),t.o&&t.s&&Cg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hd(Gn(e)),n.s=null,n.S=!0,MT(n,t)}N.ib=function(){this.v!=null&&(this.v=null,md(this),kg(this),gt(19))};function Xu(t){t.v!=null&&(B.clearTimeout(t.v),t.v=null)}function lI(t,e){var n=null;if(t.g==e){Xu(t),Pg(t),t.g=null;var r=2}else if(hp(t.i,e))n=e.F,QT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ld(),Xe(r,new DT(r,n)),gd(t)}else oI(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&hL(t,e)||r==2&&kg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ii(t,5);break;case 4:ii(t,10);break;case 3:ii(t,6);break;default:ii(t,2)}}}function uI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ii(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=at(t.pb,t);n||(n=new ci("//www.google.com/images/cleardot.gif"),B.location&&B.location.protocol=="http"||Gu(n,"https"),hd(n)),oL(n.toString(),r)}else gt(2);t.H=0,t.h&&t.h.za(e),cI(t),iI(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function cI(t){if(t.H=0,t.ma=[],t.h){const e=XT(t.i);(e.length!=0||t.j.length!=0)&&(L_(t.ma,e),L_(t.ma,t.j),t.i.i.length=0,dg(t.j),t.j.length=0),t.h.ya()}}function dI(t,e,n){var r=n instanceof ci?Gn(n):new ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qu(r,r.m);else{var i=B.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ci(null);r&&Gu(s,r),e&&(s.g=e),i&&Qu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ue(r,n,e),ue(r,"VER",t.ra),Xa(t,r),r}function hI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ie(new Ga({ob:!0})):new Ie(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function fI(){}N=fI.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Yu(){if(Cs&&!(10<=Number(SO)))throw Error("Environmental error: no available transport.")}Yu.prototype.g=function(t,e){return new Ot(t,e)};function Ot(t,e){ze.call(this),this.g=new rI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ma(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ma(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Qs(this)}He(Ot,ze);Ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dI(t,null,t.Y),gd(t)};Ot.prototype.close=function(){Ag(this.g)};Ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=vg(t),t=n);e.j.push(new tL(e.fb++,t)),e.H==3&&gd(e)};Ot.prototype.N=function(){this.g.h=null,delete this.j,Ag(this.g),delete this.g,Ot.$.N.call(this)};function pI(t){Tg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}He(pI,Tg);function mI(){Ig.call(this),this.status=1}He(mI,Ig);function Qs(t){this.g=t}He(Qs,fI);Qs.prototype.Ba=function(){Xe(this.g,"a")};Qs.prototype.Aa=function(t){Xe(this.g,new pI(t))};Qs.prototype.za=function(t){Xe(this.g,new mI)};Qs.prototype.ya=function(){Xe(this.g,"b")};function fL(){this.blockSize=-1}function on(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}He(on,fL);on.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Lh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}on.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Lh(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Lh(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Lh(this,r),i=0;break}}this.h=i,this.i+=e};on.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var pL={};function Ng(t){return-128<=t&&128>t?xO(t,function(e){return new te([e|0],0>e?-1:0)}):new te([t|0],0>t?-1:0)}function vn(t){if(isNaN(t)||!isFinite(t))return fs;if(0>t)return Ge(vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fp;return new te(e,0)}function gI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ge(gI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vn(Math.pow(e,8)),r=fs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vn(Math.pow(e,s)),r=r.R(s).add(vn(o))):(r=r.R(n),r=r.add(vn(o)))}return r}var fp=4294967296,fs=Ng(0),pp=Ng(1),K_=Ng(16777216);N=te.prototype;N.ea=function(){if(Ut(this))return-Ge(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fp+r)*e,e*=fp}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Fn(this))return"0";if(Ut(this))return"-"+Ge(this).toString(t);for(var e=vn(Math.pow(t,6)),n=this,r="";;){var i=Zu(n,e).g;n=Ju(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Fn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Fn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ut(t){return t.h==-1}N.X=function(t){return t=Ju(this,t),Ut(t)?-1:Fn(t)?0:1};function Ge(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new te(n,~t.h).add(pp)}N.abs=function(){return Ut(this)?Ge(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new te(n,n[n.length-1]&-2147483648?-1:0)};function Ju(t,e){return t.add(Ge(e))}N.R=function(t){if(Fn(this)||Fn(t))return fs;if(Ut(this))return Ut(t)?Ge(this).R(Ge(t)):Ge(Ge(this).R(t));if(Ut(t))return Ge(this.R(Ge(t)));if(0>this.X(K_)&&0>t.X(K_))return vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,kl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,kl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,kl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,kl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new te(n,0)};function kl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ho(t,e){this.g=t,this.h=e}function Zu(t,e){if(Fn(e))throw Error("division by zero");if(Fn(t))return new ho(fs,fs);if(Ut(t))return e=Zu(Ge(t),e),new ho(Ge(e.g),Ge(e.h));if(Ut(e))return e=Zu(t,Ge(e)),new ho(Ge(e.g),e.h);if(30<t.g.length){if(Ut(t)||Ut(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pp,r=e;0>=r.X(t);)n=G_(n),r=G_(r);var i=Fi(n,1),s=Fi(r,1);for(r=Fi(r,2),n=Fi(n,2);!Fn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Fi(r,1),n=Fi(n,1)}return e=Ju(t,i.R(e)),new ho(i,e)}for(i=fs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=vn(n),o=s.R(e);Ut(o)||0<o.X(t);)n-=r,s=vn(n),o=s.R(e);Fn(s)&&(s=pp),i=i.add(s),t=Ju(t,o)}return new ho(i,t)}N.gb=function(t){return Zu(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new te(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new te(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new te(n,this.h^t.h)};function G_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new te(n,t.h)}function Fi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new te(i,t.h)}Yu.prototype.createWebChannel=Yu.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;ud.NO_ERROR=0;ud.TIMEOUT=8;ud.HTTP_ERROR=6;jT.COMPLETE="complete";OT.EventType=Ha;Ha.OPEN="a";Ha.CLOSE="b";Ha.ERROR="c";Ha.MESSAGE="d";ze.prototype.listen=ze.prototype.O;Ie.prototype.listenOnce=Ie.prototype.P;Ie.prototype.getLastError=Ie.prototype.Sa;Ie.prototype.getLastErrorCode=Ie.prototype.Ia;Ie.prototype.getStatus=Ie.prototype.da;Ie.prototype.getResponseJson=Ie.prototype.Wa;Ie.prototype.getResponseText=Ie.prototype.ja;Ie.prototype.send=Ie.prototype.ha;Ie.prototype.setWithCredentials=Ie.prototype.Oa;on.prototype.digest=on.prototype.l;on.prototype.reset=on.prototype.reset;on.prototype.update=on.prototype.j;te.prototype.add=te.prototype.add;te.prototype.multiply=te.prototype.R;te.prototype.modulo=te.prototype.gb;te.prototype.compare=te.prototype.X;te.prototype.toNumber=te.prototype.ea;te.prototype.toString=te.prototype.toString;te.prototype.getBits=te.prototype.D;te.fromNumber=vn;te.fromString=gI;var mL=function(){return new Yu},gL=function(){return ld()},Mh=ud,yL=jT,vL=Ni,Q_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_L=Ga,Pl=OT,wL=Ie,EL=on,ps=te;const X_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new qm("@firebase/firestore");function Y_(){return xi.logLevel}function O(t,...e){if(xi.logLevel<=J.DEBUG){const n=e.map(bg);xi.debug(`Firestore (${Xs}): ${t}`,...n)}}function Qn(t,...e){if(xi.logLevel<=J.ERROR){const n=e.map(bg);xi.error(`Firestore (${Xs}): ${t}`,...n)}}function As(t,...e){if(xi.logLevel<=J.WARN){const n=e.map(bg);xi.warn(`Firestore (${Xs}): ${t}`,...n)}}function bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t="Unexpected state"){const e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function he(t,e){t||U()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}}class TL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IL{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new yI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new nt(e)}}class SL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new CL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Fe(0,0))}static max(){return new z(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ta.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends Ta{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const PL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Ta{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return PL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(ce.fromString(e))}static fromName(e){return new M(ce.fromString(e).popFirst(5))}static empty(){return new M(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ce(e.slice()))}}function NL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Lr(i,M.empty(),e)}function bL(t){return new Lr(t.readTime,t.key,-1)}class Lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Lr(z.min(),M.empty(),-1)}static max(){return new Lr(z.max(),M.empty(),-1)}}function DL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==jL)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new C((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dg.ae=-1;function yd(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function LL(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.comparator=e,this.root=n||Ke.EMPTY}insert(e,n){return new _e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nl(this.root,e,this.comparator,!0)}}class Nl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Ke.EMPTY,this.right=s??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ke.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Nt([])}unionWith(e){let n=new ut(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wI("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const ML=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(he(!!t),typeof t=="string"){let e=0;const n=ML.exec(t);if(he(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Og(t){const e=t.mapValue.fields.__previous_value__;return jg(e)?Og(e):e}function Ia(t){const e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Sa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jg(t)?4:FL(t)?9007199254740991:10:U()}function An(t,e){if(t===e)return!0;const n=Ii(t);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ia(t).isEqual(Ia(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mr(i.timestampValue),a=Mr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ti(i.bytesValue).isEqual(Ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?ec(o)===ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(J_(o)!==J_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!An(o[l],a[l])))return!1;return!0}(t,e);default:return U()}}function Ra(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function Ps(t,e){if(t===e)return 0;const n=Ii(t),r=Ii(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ne(s.integerValue||s.doubleValue),l=Ne(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e0(t.timestampValue,e.timestampValue);case 4:return e0(Ia(t),Ia(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ti(s),l=Ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Z(a[u],l[u]);if(d!==0)return d}return Z(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Z(Ne(s.latitude),Ne(o.latitude));return a!==0?a:Z(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Ps(a[u],l[u]);if(d)return d}return Z(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===bl.mapValue&&o===bl.mapValue)return 0;if(s===bl.mapValue)return 1;if(o===bl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Z(l[h],d[h]);if(f!==0)return f;const g=Ps(a[l[h]],u[d[h]]);if(g!==0)return g}return Z(l.length,d.length)}(t.mapValue,e.mapValue);default:throw U()}}function e0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=Mr(t),r=Mr(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Ns(t){return mp(t)}function mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mp(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function t0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gp(t){return!!t&&"integerValue"in t}function Lg(t){return!!t&&"arrayValue"in t}function n0(t){return!!t&&"nullValue"in t}function r0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zl(t){return!!t&&"mapValue"in t}function Vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xt(Vo(this.value))}}function EI(t){const e=[];return bi(t.fields,(n,r)=>{const i=new st([n]);if(Zl(r)){const s=EI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new it(e,0,z.min(),z.min(),z.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new it(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new it(e,2,n,z.min(),z.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,z.min(),z.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.position=e,this.inclusive=n}}function i0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Ps(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n="asc"){this.field=e,this.dir=n}}function $L(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{}class De extends xI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BL(e,n,r):n==="array-contains"?new HL(e,r):n==="in"?new qL(e,r):n==="not-in"?new KL(e,r):n==="array-contains-any"?new GL(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zL(e,r):new WL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ps(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(Ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class an extends xI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new an(e,n)}matches(e){return TI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function TI(t){return t.op==="and"}function II(t){return UL(t)&&TI(t)}function UL(t){for(const e of t.filters)if(e instanceof an)return!1;return!0}function yp(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+Ns(t.value);if(II(t))return t.filters.map(e=>yp(e)).join(",");{const e=t.filters.map(n=>yp(n)).join(",");return`${t.op}(${e})`}}function SI(t,e){return t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&SI(o,i.filters[a]),!0):!1}(t,e):void U()}function RI(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${Ns(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(RI).join(" ,")+"}"}(t):"Filter"}class BL extends De{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class zL extends De{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WL extends De{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class HL extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lg(n)&&Ra(n.arrayValue,this.value)}}class qL extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}}class KL extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}}class GL extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ra(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function o0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QL(t,e,n,r,i,s,o)}function Mg(t){const e=H(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ns(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ns(r)).join(",")),e.he=n}return e.he}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$L(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s0(t.startAt,e.startAt)&&s0(t.endAt,e.endAt)}function vp(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function XL(t,e,n,r,i,s,o,a){return new Za(t,e,n,r,i,s,o,a)}function Fg(t){return new Za(t)}function a0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $g(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function kI(t){return t.collectionGroup!==null}function ms(t){const e=H(t);if(e.Pe===null){e.Pe=[];const n=$g(e),r=AI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Fo(n)),e.Pe.push(new Fo(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Fo(st.keyField(),s))}}}return e.Pe}function Xn(t){const e=H(t);if(!e.Ie)if(e.limitType==="F")e.Ie=o0(e.path,e.collectionGroup,ms(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ms(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Fo(s.field,o))}const r=e.endAt?new tc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tc(e.startAt.position,e.startAt.inclusive):null;e.Ie=o0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function _p(t,e){e.getFirstInequalityField(),$g(t);const n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wp(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return Vg(Xn(t),Xn(e))&&t.limitType===e.limitType}function PI(t){return`${Mg(Xn(t))}|lt:${t.limitType}`}function Ep(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RI(i)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ns(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ns(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function _d(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ms(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=i0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ms(r),i)||r.endAt&&!function(o,a,l){const u=i0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ms(r),i))}(t,e)}function YL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NI(t){return(e,n)=>{let r=!1;for(const i of ms(t)){const s=JL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JL(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ps(l,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _I(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new _e(M.comparator);function Yn(){return ZL}const bI=new _e(M.comparator);function To(...t){let e=bI;for(const n of t)e=e.insert(n.key,n);return e}function DI(t){let e=bI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return $o()}function jI(){return $o()}function $o(){return new Ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const eM=new _e(M.comparator),tM=new ut(M.comparator);function K(...t){let e=tM;for(const n of t)e=e.add(n);return e}const nM=new ut(Z);function rM(){return nM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function LI(t){return{integerValue:""+t}}function iM(t,e){return LL(e)?LI(e):OI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function sM(t,e,n){return t instanceof nc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jg(s)&&(s=Og(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ca?VI(t,e):t instanceof Aa?FI(t,e):function(i,s){const o=MI(i,s),a=l0(o)+l0(i.Te);return gp(o)&&gp(i.Te)?LI(a):OI(i.serializer,a)}(t,e)}function oM(t,e,n){return t instanceof Ca?VI(t,e):t instanceof Aa?FI(t,e):n}function MI(t,e){return t instanceof rc?function(r){return gp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class nc extends wd{}class Ca extends wd{constructor(e){super(),this.elements=e}}function VI(t,e){const n=$I(e);for(const r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}class Aa extends wd{constructor(e){super(),this.elements=e}}function FI(t,e){let n=$I(e);for(const r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}class rc extends wd{constructor(e,n){super(),this.serializer=e,this.Te=n}}function l0(t){return Ne(t.integerValue||t.doubleValue)}function $I(t){return Lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ca&&i instanceof Ca||r instanceof Aa&&i instanceof Aa?ks(r.elements,i.elements,An):r instanceof rc&&i instanceof rc?An(r.Te,i.Te):r instanceof nc&&i instanceof nc}(t.transform,e.transform)}class lM{constructor(e,n){this.version=e,this.transformResults=n}}class Ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ht}static exists(e){return new Ht(void 0,e)}static updateTime(e){return new Ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function UI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ug(t.key,Ht.none()):new el(t.key,t.data,Ht.none());{const n=t.data,r=xt.empty();let i=new ut(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qr(t.key,r,new Nt(i.toArray()),Ht.none())}}function uM(t,e,n){t instanceof el?function(i,s,o){const a=i.value.clone(),l=c0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qr?function(i,s,o){if(!eu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=c0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(BI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Uo(t,e,n,r){return t instanceof el?function(s,o,a,l){if(!eu(s.precondition,o))return a;const u=s.value.clone(),d=d0(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qr?function(s,o,a,l){if(!eu(s.precondition,o))return a;const u=d0(s.fieldTransforms,l,o),d=o.data;return d.setAll(BI(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return eu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function cM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MI(r.transform,i||null);s!=null&&(n===null&&(n=xt.empty()),n.set(r.field,s))}return n||null}function u0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(s,o)=>aM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class el extends Ed{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qr extends Ed{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c0(t,e,n){const r=new Map;he(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oM(o,a,n[i]))}return r}function d0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sM(s,o,e))}return r}class Ug extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dM extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=UI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>u0(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>u0(n,r))}}class Bg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length);let i=function(){return eM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Bg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,X;function mM(t){switch(t){default:return U();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function zI(t){if(t===void 0)return Qn("GRPC error has no .code"),I.UNKNOWN;switch(t){case Pe.OK:return I.OK;case Pe.CANCELLED:return I.CANCELLED;case Pe.UNKNOWN:return I.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return I.INTERNAL;case Pe.UNAVAILABLE:return I.UNAVAILABLE;case Pe.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Pe.NOT_FOUND:return I.NOT_FOUND;case Pe.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Pe.ABORTED:return I.ABORTED;case Pe.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Pe.DATA_LOSS:return I.DATA_LOSS;default:return U()}}(X=Pe||(Pe={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Dl}static getOrCreateInstance(){return Dl===null&&(Dl=new zg),Dl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Dl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new ps([4294967295,4294967295],0);function h0(t){const e=gM().encode(t),n=new EL;return n.update(e),new Uint8Array(n.digest())}function f0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,s],0)]}class Wg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Io(`Invalid padding: ${n}`);if(r<0)throw new Io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Io(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=ps.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(yM)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=h0(e),[r,i]=f0(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=h0(e),[r,i]=f0(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xd(z.min(),i,new _e(Z),Yn(),K())}}class tl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tl(r,n,K(),K(),K())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class WI{constructor(e,n){this.targetId=e,this.pe=n}}class HI{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class p0{constructor(){this.ye=0,this.we=g0(),this.Se=ht.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=K(),n=K(),r=K();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new tl(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=g0()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class vM{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Yn(),this.$e=m0(),this.Ue=new _e(Z)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(vp(a))if(s===0){const l=new M(a.path);this.ze(i,l,it.newNoDocument(l,z.min()))}else he(s===1);else{const l=this.et(i);if(l!==s){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const d=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,d)}(n=zg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,g,_){var v,y,p,m,w,E;const T={localCacheCount:g,existenceFilterCount:_.count},S=_.unchangedNames;return S&&(T.bloomFilter={applied:h===0,hashCount:(v=S==null?void 0:S.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(m=(p=(y=S==null?void 0:S.bits)===null||y===void 0?void 0:y.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(E=(w=S==null?void 0:S.bits)===null||w===void 0?void 0:w.padding)!==null&&E!==void 0?E:0},f&&(T.bloomFilter.mightContain=f)),T}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Ti(s).toUint8Array()}catch(h){if(h instanceof wI)return As("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{u=new Wg(l,o,a)}catch(h){return As(h instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const d=h=>{const f=this.qe.rt();return u.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,d)?0:2,nt:d}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&vp(a.target)){const l=new M(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,it.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=K();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new xd(e,n,this.Ue,this.Ke,r);return this.Ke=Yn(),this.$e=m0(),this.Ue=new _e(Z),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new p0,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ut(Z),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new p0),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function m0(){return new _e(M.comparator)}function g0(){return new _e(M.comparator)}const _M=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),wM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EM=(()=>({and:"AND",or:"OR"}))();class xM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xp(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TM(t,e){return ic(t,e.toTimestamp())}function Sn(t){return he(!!t),z.fromTimestamp(function(n){const r=Mr(n);return new Fe(r.seconds,r.nanos)}(t))}function Hg(t,e){return function(r){return new ce(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function KI(t){const e=ce.fromString(t);return he(YI(e)),e}function Tp(t,e){return Hg(t.databaseId,e.path)}function Vh(t,e){const n=KI(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(GI(n))}function Ip(t,e){return Hg(t.databaseId,e)}function IM(t){const e=KI(t);return e.length===4?ce.emptyPath():GI(e)}function Sp(t){return new ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GI(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function y0(t,e,n){return{name:Tp(t,e),fields:n.value.mapValue.fields}}function SM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(he(d===void 0||typeof d=="string"),ht.fromBase64String(d||"")):(he(d===void 0||d instanceof Uint8Array),ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?I.UNKNOWN:zI(u.code);return new D(d,u.message||"")}(o);n=new HI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vh(t,r.document.name),s=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):z.min(),a=new xt({mapValue:{fields:r.document.fields}}),l=it.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new tu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vh(t,r.document),s=r.readTime?Sn(r.readTime):z.min(),o=it.newNoDocument(i,s),a=r.removedTargetIds||[];n=new tu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vh(t,r.document),s=r.removedTargetIds||[];n=new tu([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pM(i,s),a=r.targetId;n=new WI(a,o)}}return n}function RM(t,e){let n;if(e instanceof el)n={update:y0(t,e.key,e.value)};else if(e instanceof Ug)n={delete:Tp(t,e.key)};else if(e instanceof qr)n={update:y0(t,e.key,e.data),updateMask:OM(e.fieldMask)};else{if(!(e instanceof dM))return U();n={verify:Tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof nc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Aa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:U()}(t,e.precondition)),n}function CM(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Sn(i.updateTime):Sn(s);return o.isEqual(z.min())&&(o=Sn(s)),new lM(o,i.transformResults||[])}(n,e))):[]}function AM(t,e){return{documents:[Ip(t,e.path)]}}function kM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ip(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ip(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return XI(an.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:$i(h.field),direction:bM(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=xp(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function PM(t){let e=IM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){he(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=QI(h);return f instanceof an&&II(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Fo(Ui(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,yd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new tc(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new tc(g,f)}(n.endAt)),XL(e,i,o,s,a,"F",l,u)}function NM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ui(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ui(n.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ui(n.unaryFilter.field);return De.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ui(n.unaryFilter.field);return De.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return De.create(Ui(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>QI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function bM(t){return _M[t]}function DM(t){return wM[t]}function jM(t){return EM[t]}function $i(t){return{fieldPath:t.canonicalString()}}function Ui(t){return st.fromServerFormat(t.fieldPath)}function XI(t){return t instanceof De?function(n){if(n.op==="=="){if(r0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(n.field),op:DM(n.op),value:n.value}}}(t):t instanceof an?function(n){const r=n.getFilters().map(i=>XI(i));return r.length===1?r[0]:{compositeFilter:{op:jM(n.op),filters:r}}}(t):U()}function OM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,s=z.min(),o=z.min(),a=ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.ct=e}}function MM(t){const e=PM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.sn=new FM}addToCollectionParentIndex(e,n){return this.sn.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Lr.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class FM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new bs(0)}static On(){return new bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Uo(r.mutation,i,Nt.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){const i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=To();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yn();const o=$o(),a=function(){return $o()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof qr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Uo(d.mutation,u,d.mutation.getFieldMask(),Fe.now())):o.set(u.key,Nt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new UM(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$o();let i=new _e((o,a)=>o-a),s=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Nt.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||K()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=jI();d.forEach(f=>{if(!s.has(f)){const g=UI(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return M.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):C.resolve(si());let a=-1,l=s;return o.next(u=>C.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?C.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,K())).next(d=>({batchId:a,changes:DI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=To();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=To();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const l=function(d,h){return new Za(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,it.newInvalidDocument(u)))});let o=To();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Uo(u.mutation,l,Nt.empty(),Fe.now()),_d(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return C.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),C.resolve()}getNamedQuery(e,n){return C.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:MM(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.overlays=new _e(M.comparator),this.cr=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=si();return C.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const i=si(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return C.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _e((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=si(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=si(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return C.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fM(n,r));let s=this.cr.get(n);s===void 0&&(s=K(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.lr=new ut($e.hr),this.Pr=new ut($e.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new $e(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new $e(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new M(new ce([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new M(new ce([])),r=new $e(n,e),i=new $e(n,e+1);let s=K();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $e(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $e{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return M.comparator(e.key,n.key)||Z(e.mr,n.mr)}static Ir(e,n){return Z(e.mr,n.mr)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new ut($e.hr)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Z);return n.forEach(i=>{const s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),C.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new $e(new M(s),0);let a=new ut(Z);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},o),C.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return C.forEach(n.mutations,i=>{const s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new $e(n,0),i=this.pr.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.Dr=e,this.docs=function(){return new _e(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():it.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yn();const o=n.path,a=new M(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||DL(bL(d),r)<=0||(i.has(d.key)||_d(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}vr(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KM(this)}getSize(e){return C.resolve(this.size)}}class KM extends $M{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.persistence=e,this.Cr=new Ys(n=>Mg(n),Vg),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new qg,this.targetCount=0,this.Or=bs.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),C.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Ln(n),C.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.Nr={},this.overlays={},this.Br=new Dg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new GM(this),this.indexManager=new VM,this.remoteDocumentCache=function(i){return new qM(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new LM(n),this.Qr=new zM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new HM(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const i=new XM(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return C.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class XM extends OL{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Wr=new qg,this.Gr=null}static zr(e){return new Kg(e)}get jr(){if(this.Gr)return this.Gr;throw U()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),C.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.jr,r=>{const i=M.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return C.or([()=>C.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=K(),i=K();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(a0(n))return C.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wp(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=K(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,o,l.readTime)?this.$i(e,wp(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return a0(n)||i.isEqual(z.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Y_()<=J.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ep(n)),this.ji(e,o,n,NL(i,-1)))})}Gi(e,n){let r=new ut(NI(e));return n.forEach((i,s)=>{_d(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Y_()<=J.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Ep(n)),this.Ki.getDocumentsMatchingQuery(e,n,Lr.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new _e(Z),this.Yi=new Ys(s=>Mg(s),Vg),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BM(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function ZM(t,e,n,r){return new JM(t,e,n,r)}async function JI(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=K();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function eV(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let g=C.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(v=>{const y=u.docVersions.get(_);he(y!==null),v.version.compareTo(y)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=K();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZI(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function tV(t,e){const n=H(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.kr.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ht.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(v,y,p){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,g,d)&&a.push(n.kr.updateTargetData(s,g))});let l=Yn(),u=K();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(nV(s,o,e.documentUpdates).next(d=>{l=d.ns,u=d.rs})),!r.isEqual(z.min())){const d=n.kr.getLastRemoteSnapshotVersion(s).next(h=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function nV(t,e,n){let r=K(),i=K();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:o,rs:i}})}function rV(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iV(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Rp(t,e,n){const r=H(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ja(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function v0(t,e,n){const r=H(t);let i=z.min(),s=K();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,d){const h=H(l),f=h.Yi.get(d);return f!==void 0?C.resolve(h.Ji.get(f)):h.kr.getTargetData(u,d)}(r,o,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:K())).next(a=>(sV(r,YL(e),a),{documents:a,ss:s})))}function sV(t,e,n){let r=t.Zi.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class _0{constructor(){this.activeTargetIds=rM()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oV{constructor(){this.Hs=new _0,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new _0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=null;function Fh(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="WebChannelConnection";class cV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,s,o){const a=Fh(),l=this.Vo(n,r);O("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={};return this.mo(u,s,o),this.fo(n,l,u,i).then(d=>(O("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw As("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}po(n,r,i,s,o,a){return this.Ro(n,r,i,s,o)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Vo(n,r){const i=lV[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const s=Fh();return new Promise((o,a)=>{const l=new wL;l.setWithCredentials(!0),l.listenOnce(yL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mh.NO_ERROR:const d=l.getResponseJson();O(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Mh.TIMEOUT:O(et,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const h=l.getStatus();if(O(et,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(y){const p=y.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(p)>=0?p:I.UNKNOWN}(g.status);a(new D(_,g.message))}else a(new D(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{O(et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);O(et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}yo(e,n,r){const i=Fh(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mL(),a=gL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new _L({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");O(et,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const _=new uV({so:y=>{g?O(et,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(O(et,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),O(et,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},oo:()=>h.close()}),v=(y,p,m)=>{y.listen(p,w=>{try{m(w)}catch(E){setTimeout(()=>{throw E},0)}})};return v(h,Pl.EventType.OPEN,()=>{g||O(et,`RPC '${e}' stream ${i} transport opened.`)}),v(h,Pl.EventType.CLOSE,()=>{g||(g=!0,O(et,`RPC '${e}' stream ${i} transport closed`),_.Po())}),v(h,Pl.EventType.ERROR,y=>{g||(g=!0,As(et,`RPC '${e}' stream ${i} transport errored:`,y),_.Po(new D(I.UNAVAILABLE,"The operation could not be completed")))}),v(h,Pl.EventType.MESSAGE,y=>{var p;if(!g){const m=y.data[0];he(!!m);const w=m,E=w.error||((p=w[0])===null||p===void 0?void 0:p.error);if(E){O(et,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let S=function(q){const L=Pe[q];if(L!==void 0)return zI(L)}(T),k=E.message;S===void 0&&(S=I.INTERNAL,k="Unknown error status: "+T+" with message "+E.message),g=!0,_.Po(new D(S,k)),h.close()}else O(et,`RPC '${e}' stream ${i} received:`,m),_.Io(m)}}),v(a,vL.STAT_EVENT,y=>{y.stat===Q_.PROXY?O(et,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Q_.NOPROXY&&O(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.ho()},0),_}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return new xM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=s,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.No=r,this.Bo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new eS(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dV extends tS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=SM(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?Sn(o.readTime):z.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=Sp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vp(l)?{documents:AM(s,l)}:{query:kM(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qI(s,o.resumeToken);const u=xp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=ic(s,o.snapshotVersion.toTimestamp());const u=xp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=NM(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.jo(n)}}class hV extends tS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=CM(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.a_(r,n)}return he(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=Sp(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RM(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.po(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.l_=!0}}class pV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(Qn(n),this.E_=!1):O("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=s,this.w_.Ys(o=>{r.enqueueAndForget(async()=>{Di(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=H(l);u.p_.add(4),await nl(u),u.S_.set("Unknown"),u.p_.delete(4),await Id(u)}(this))})}),this.S_=new pV(r,i)}}async function Id(t){if(Di(t))for(const e of t.y_)await e(!0)}async function nl(t){for(const e of t.y_)await e(!1)}function nS(t,e){const n=H(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),Yg(n)?Xg(n):Js(n).$o()&&Qg(n,e))}function rS(t,e){const n=H(t),r=Js(n);n.g_.delete(e),r.$o()&&iS(n,e),n.g_.size===0&&(r.$o()?r.Go():Di(n)&&n.S_.set("Unknown"))}function Qg(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Js(t).r_(e)}function iS(t,e){t.b_.Be(e),Js(t).i_(e)}function Xg(t){t.b_=new vM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Js(t).start(),t.S_.d_()}function Yg(t){return Di(t)&&!Js(t).Ko()&&t.g_.size>0}function Di(t){return H(t).p_.size===0}function sS(t){t.b_=void 0}async function gV(t){t.g_.forEach((e,n)=>{Qg(t,e)})}async function yV(t,e){sS(t),Yg(t)?(t.S_.V_(e),Xg(t)):t.S_.set("Unknown")}async function vV(t,e,n){if(t.S_.set("Online"),e instanceof HI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.g_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.g_.delete(a),i.b_.removeTarget(a))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sc(t,r)}else if(e instanceof tu?t.b_.We(e):e instanceof WI?t.b_.Ze(e):t.b_.je(e),!n.isEqual(z.min()))try{const r=await ZI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.b_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.g_.get(u);d&&s.g_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.g_.get(l);if(!d)return;s.g_.set(l,d.withResumeToken(ht.EMPTY_BYTE_STRING,d.snapshotVersion)),iS(s,l);const h=new mr(d.target,l,u,d.sequenceNumber);Qg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await sc(t,r)}}async function sc(t,e,n){if(!Ja(e))throw e;t.p_.add(1),await nl(t),t.S_.set("Offline"),n||(n=()=>ZI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Id(t)})}function oS(t,e){return e().catch(n=>sc(t,n,e))}async function Sd(t){const e=H(t),n=Vr(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;_V(e);)try{const i=await rV(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,wV(e,i)}catch(i){await sc(e,i)}aS(e)&&lS(e)}function _V(t){return Di(t)&&t.f_.length<10}function wV(t,e){t.f_.push(e);const n=Vr(t);n.$o()&&n.o_&&n.__(e.mutations)}function aS(t){return Di(t)&&!Vr(t).Ko()&&t.f_.length>0}function lS(t){Vr(t).start()}async function EV(t){Vr(t).c_()}async function xV(t){const e=Vr(t);for(const n of t.f_)e.__(n.mutations)}async function TV(t,e,n){const r=t.f_.shift(),i=Bg.from(r,e,n);await oS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sd(t)}async function IV(t,e){e&&Vr(t).o_&&await async function(r,i){if(function(o){return mM(o)&&o!==I.ABORTED}(i.code)){const s=r.f_.shift();Vr(r).Wo(),await oS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sd(r)}}(t,e),aS(t)&&lS(t)}async function E0(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=Di(n);n.p_.add(3),await nl(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Id(n)}async function SV(t,e){const n=H(t);e?(n.p_.delete(2),await Id(n)):e||(n.p_.add(2),await nl(n),n.S_.set("Unknown"))}function Js(t){return t.D_||(t.D_=function(n,r,i){const s=H(n);return s.h_(),new dV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:gV.bind(null,t),uo:yV.bind(null,t),n_:vV.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),Yg(t)?Xg(t):t.S_.set("Unknown")):(await t.D_.stop(),sS(t))})),t.D_}function Vr(t){return t.v_||(t.v_=function(n,r,i){const s=H(n);return s.h_(),new hV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:EV.bind(null,t),uo:IV.bind(null,t),u_:xV.bind(null,t),a_:TV.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Sd(t)):(await t.v_.stop(),t.f_.length>0&&(O("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Jg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Ja(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=To(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new gs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.C_=new _e(M.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):U():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ds{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ds(e,n,gs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.M_=void 0,this.listeners=[]}}class CV{constructor(){this.queries=new Ys(e=>PI(e),vd),this.onlineState="Unknown",this.x_=new Set}}async function uS(t,e){const n=H(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new RV),i)try{s.M_=await n.onListen(r)}catch(o){const a=Zg(o,`Initialization of query '${Ep(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&ey(n)}async function cS(t,e){const n=H(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function AV(t,e){const n=H(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.N_(i)&&(r=!0);o.M_=i}}r&&ey(n)}function kV(t,e,n){const r=H(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ey(t){t.x_.forEach(e=>{e.next()})}class dS{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class PV{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=K(),this.mutatedKeys=K(),this.ta=NI(e),this.na=new gs(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new x0,i=n?n.na:this.na;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=_d(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let y=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),y=!0):this.oa(f,g)||(r.track({type:2,doc:g}),y=!0,(l&&this.ta(g,l)>0||u&&this.ta(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),y=!0):f&&!g&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(a=!0)),y&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{na:o,sa:r,zi:a,mutatedKeys:s}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const s=e.sa.F_();s.sort((u,d)=>function(f,g){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return _(f)-_(g)}(u.type,d.type)||this.ta(u.doc,d.doc)),this._a(r);const o=n?this.aa():[],a=this.ea.size===0&&this.current?1:0,l=a!==this.X_;return this.X_=a,s.length!==0||l?{snapshot:new Ds(this.query,e.na,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new x0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=K(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new fS(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new hS(r))}),n}la(e){this.Z_=e.ss,this.ea=K();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return Ds.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class NV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bV{constructor(e){this.key=e,this.Pa=!1}}class DV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new Ys(a=>PI(a),vd),this.Ea=new Map,this.da=new Set,this.Aa=new _e(M.comparator),this.Ra=new Map,this.Va=new qg,this.ma={},this.fa=new Map,this.ga=bs.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function jV(t,e){const n=WV(t);let r,i;const s=n.Ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ha();else{const o=await iV(n.localStore,Xn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await OV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&nS(n.remoteStore,o)}return i}async function OV(t,e,n,r,i){t.ya=(h,f,g)=>async function(v,y,p,m){let w=y.view.ia(p);w.zi&&(w=await v0(v.localStore,y.query,!1).then(({documents:S})=>y.view.ia(S,w)));const E=m&&m.targetChanges.get(y.targetId),T=y.view.applyChanges(w,v.isPrimaryClient,E);return I0(v,y.targetId,T.ua),T.snapshot}(t,h,f,g);const s=await v0(t.localStore,e,!0),o=new PV(e,s.ss),a=o.ia(s.documents),l=tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);I0(t,n,u.ua);const d=new NV(e,n,o);return t.Ta.set(e,d),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),u.snapshot}async function LV(t,e){const n=H(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(s=>!vd(s,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rS(n.remoteStore,r.targetId),Cp(n,r.targetId)}).catch(Ya)):(Cp(n,r.targetId),await Rp(n.localStore,r.targetId,!0))}async function MV(t,e,n){const r=HV(t);try{const i=await function(o,a){const l=H(o),u=Fe.now(),d=a.reduce((g,_)=>g.add(_.key),K());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Yn(),v=K();return l.Xi.getEntries(g,d).next(y=>{_=y,_.forEach((p,m)=>{m.isValidDocument()||(v=v.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(y=>{h=y;const p=[];for(const m of a){const w=cM(m,h.get(m.key).overlayedDocument);w!=null&&p.push(new qr(m.key,w,EI(w.value.mapValue),Ht.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,p,a)}).next(y=>{f=y;const p=y.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,y.batchId,p)})}).then(()=>({batchId:f.batchId,changes:DI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ma[o.currentUser.toKey()];u||(u=new _e(Z)),u=u.insert(a,l),o.ma[o.currentUser.toKey()]=u}(r,i.batchId,n),await rl(r,i.changes),await Sd(r.remoteStore)}catch(i){const s=Zg(i,"Failed to persist write");n.reject(s)}}async function pS(t,e){const n=H(t);try{const r=await tV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ra.get(s);o&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Pa=!0:i.modifiedDocuments.size>0?he(o.Pa):i.removedDocuments.size>0&&(he(o.Pa),o.Pa=!1))}),await rl(n,r,e)}catch(r){await Ya(r)}}function T0(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((s,o)=>{const a=o.view.O_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=H(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.listeners)f.O_(a)&&(u=!0)}),u&&ey(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VV(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),s=i&&i.key;if(s){let o=new _e(M.comparator);o=o.insert(s,it.newNoDocument(s,z.min()));const a=K().add(s),l=new xd(z.min(),new Map,new _e(Z),o,a);await pS(r,l),r.Aa=r.Aa.remove(s),r.Ra.delete(e),ty(r)}else await Rp(r.localStore,e,!1).then(()=>Cp(r,e,n)).catch(Ya)}async function FV(t,e){const n=H(t),r=e.batch.batchId;try{const i=await eV(n.localStore,e);gS(n,r,null),mS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rl(n,i)}catch(i){await Ya(i)}}async function $V(t,e,n){const r=H(t);try{const i=await function(o,a){const l=H(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(he(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);gS(r,e,n),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rl(r,i)}catch(i){await Ya(i)}}function mS(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function gS(t,e,n){const r=H(t);let i=r.ma[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function Cp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||yS(t,r)})}function yS(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(rS(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),ty(t))}function I0(t,e,n){for(const r of n)r instanceof hS?(t.Va.addReference(r.key,e),UV(t,r)):r instanceof fS?(O("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||yS(t,r.key)):U()}function UV(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(O("SyncEngine","New document in limbo: "+n),t.da.add(r),ty(t))}function ty(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new M(ce.fromString(e)),r=t.ga.next();t.Ra.set(r,new bV(n)),t.Aa=t.Aa.insert(n,r),nS(t.remoteStore,new mr(Xn(Fg(n.path)),r,"TargetPurposeLimboResolution",Dg.ae))}}async function rl(t,e,n){const r=H(t),i=[],s=[],o=[];r.Ta.isEmpty()||(r.Ta.forEach((a,l)=>{o.push(r.ya(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=Gg.qi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ia.n_(i),await async function(l,u){const d=H(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(u,f=>C.forEach(f.Li,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>C.forEach(f.ki,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Ja(h))throw h;O("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.Ji.get(f),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.Ji=d.Ji.insert(f,v)}}}(r.localStore,s))}async function BV(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await JI(n.localStore,e);n.currentUser=e,function(s,o){s.fa.forEach(a=>{a.forEach(l=>{l.reject(new D(I.CANCELLED,o))})}),s.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rl(n,r.ts)}}function zV(t,e){const n=H(t),r=n.Ra.get(e);if(r&&r.Pa)return K().add(r.key);{let i=K();const s=n.Ea.get(e);if(!s)return i;for(const o of s){const a=n.Ta.get(o);i=i.unionWith(a.view.ra)}return i}}function WV(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VV.bind(null,e),e.Ia.n_=AV.bind(null,e.eventManager),e.Ia.wa=kV.bind(null,e.eventManager),e}function HV(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$V.bind(null,e),e}class S0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZM(this.persistence,new YM,e.initialUser,this.serializer)}createPersistence(e){return new QM(Kg.zr,this.serializer)}createSharedClientState(e){return new oV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,this.syncEngine),await SV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CV}()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=function(s){return new cV(s)}(e.databaseInfo);return function(s,o,a,l){return new fV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new mV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>T0(this.syncEngine,n,0),function(){return w0.v()?new w0:new aV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new DV(i,s,o,a,l,u);return d&&(h.pa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=H(n);O("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await nl(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=vI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{O("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uh(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function R0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QV(t);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>E0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>E0(e.remoteStore,s)),t._onlineComponents=e}function GV(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function QV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GV(n))throw n;As("Error using user provided cache. Falling back to memory cache: "+n),await Uh(t,new S0)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await Uh(t,new S0);return t._offlineComponents}async function _S(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await R0(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await R0(t,new qV))),t._onlineComponents}function XV(t){return _S(t).then(e=>e.syncEngine)}async function wS(t){const e=await _S(t),n=e.eventManager;return n.onListen=jV.bind(null,e.syncEngine),n.onUnlisten=LV.bind(null,e.syncEngine),n}function YV(t,e,n={}){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new vS({next:f=>{o.enqueueAndForget(()=>cS(s,h));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new D(I.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new D(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new dS(Fg(a.path),d,{includeMetadataChanges:!0,U_:!0});return uS(s,h)}(await wS(t),t.asyncQueue,e,n,r)),r.promise}function JV(t,e,n={}){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new vS({next:f=>{o.enqueueAndForget(()=>cS(s,h)),f.fromCache&&l.source==="server"?u.reject(new D(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new dS(a,d,{includeMetadataChanges:!0,U_:!0});return uS(s,h)}(await wS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZV(t,e,n,r){if(e===!0&&r===!0)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A0(t){if(!M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rd(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xL;switch(r.type){case"firstParty":return new RL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=C0.get(n);r&&(O("ComponentProvider","Removing Datastore"),C0.delete(n),r.terminate())}(this),Promise.resolve()}}function eF(t,e,n,r={}){var i;const s=(t=ln(t,Cd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=nt.MOCK_USER;else{a=ux(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nt(u)}t._authCredentials=new TL(new yI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}}class Pr extends Zs{constructor(e,n,r){super(e,n,Fg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new M(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function tF(t,e,...n){if(t=xe(t),xS("collection","path",e),t instanceof Cd){const r=ce.fromString(e,...n);return k0(r),new Pr(t,null,r)}{if(!(t instanceof vt||t instanceof Pr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return k0(r),new Pr(t.firestore,null,r)}}function Zn(t,e,...n){if(t=xe(t),arguments.length===1&&(e=vI.V()),xS("doc","path",e),t instanceof Cd){const r=ce.fromString(e,...n);return A0(r),new vt(t,null,new M(r))}{if(!(t instanceof vt||t instanceof Pr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return A0(r),new vt(t.firestore,t instanceof Pr?t.converter:null,new M(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new eS(this,"async_queue_retry"),this.Za=()=>{const n=$h();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=$h();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=$h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new Un;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!Ja(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=Jg.createAndSchedule(this,e,n,r,s=>this.nu(s));return this.za.push(i),i}Xa(){this.ja&&U()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}class ji extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new nF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TS(this),this._firestoreClient.terminate()}}function rF(t,e){const n=typeof t=="object"?t:Gm(),r=typeof t=="string"?t:e||"(default)",i=Jc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ox("firestore");s&&eF(i,...s)}return i}function ny(t){return t._firestoreClient||TS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TS(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new VL(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ES(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new KV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(ht.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=/^__.*__$/;class sF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new el(e,this.data,n,this.fieldTransforms)}}class IS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class sy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._u(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return oc(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(SS(this.au)&&iF.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class oF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}Au(e,n,r,i=!1){return new sy({au:e,methodName:n,du:r,path:st.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(t){const e=t._freezeSettings(),n=Td(t._databaseId);return new oF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RS(t,e,n,r,i,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,i);oy("Data must be an object, but it was:",o,r);const a=CS(r,o);let l,u;if(s.merge)l=new Nt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Ap(e,h,n);if(!o.contains(f))throw new D(I.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kS(d,f)||d.push(f)}l=new Nt(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new sF(new xt(a),l,u)}class Pd extends ry{_toFieldTransform(e){if(e.au!==2)throw e.au===1?e.Tu(`${this._methodName}() can only appear at the top level of your update data`):e.Tu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function aF(t,e,n,r){const i=t.Au(1,e,n);oy("Data must be an object, but it was:",i,r);const s=[],o=xt.empty();bi(r,(l,u)=>{const d=ay(e,l,n);u=xe(u);const h=i.Pu(d);if(u instanceof Pd)s.push(d);else{const f=il(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Nt(s);return new IS(o,a,i.fieldTransforms)}function lF(t,e,n,r,i,s){const o=t.Au(1,e,n),a=[Ap(e,r,n)],l=[i];if(s.length%2!=0)throw new D(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Ap(e,s[f])),l.push(s[f+1]);const u=[],d=xt.empty();for(let f=a.length-1;f>=0;--f)if(!kS(u,a[f])){const g=a[f];let _=l[f];_=xe(_);const v=o.Pu(g);if(_ instanceof Pd)u.push(g);else{const y=il(_,v);y!=null&&(u.push(g),d.set(g,y))}}const h=new Nt(u);return new IS(d,h,o.fieldTransforms)}function uF(t,e,n,r=!1){return il(n,t.Au(r?4:3,e))}function il(t,e){if(AS(t=xe(t)))return oy("Unsupported field value:",e,t),CS(t,e);if(t instanceof ry)return function(r,i){if(!SS(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=il(a,i.Iu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Fe.fromDate(r);return{timestampValue:ic(i.serializer,s)}}if(r instanceof Fe){const s=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ic(i.serializer,s)}}if(r instanceof iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof js)return{bytesValue:qI(i.serializer,r._byteString)};if(r instanceof vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${Rd(r)}`)}(t,e)}function CS(t,e){const n={};return _I(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(t,(r,i)=>{const s=il(i,e.cu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function AS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof iy||t instanceof js||t instanceof vt||t instanceof ry)}function oy(t,e,n){if(!AS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rd(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function Ap(t,e,n){if((e=xe(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return ay(t,e);throw oc("Field path arguments must be of type string or ",t,!1,void 0,n)}const cF=new RegExp("[~\\*/\\[\\]]");function ay(t,e,n){if(e.search(cF)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ad(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new D(I.INVALID_ARGUMENT,a+t+l)}function kS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dF extends PS{data(){return super.data()}}function ly(t,e){return typeof e=="string"?ay(t,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class fF extends uy{}function N0(t,e,...n){let r=[];e instanceof uy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof cy).length,a=s.filter(l=>l instanceof Nd).length;if(o>1||o>0&&a>0)throw new D(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nd extends fF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nd(e,n,r)}_apply(e){const n=this._parse(e);return NS(e._query,n),new Zs(e.firestore,e.converter,_p(e._query,n))}_parse(e){const n=kd(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new D(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){j0(h,d);const g=[];for(const _ of h)g.push(D0(l,s,_));f={arrayValue:{values:g}}}else f=D0(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||j0(h,d),f=uF(a,o,h,d==="in"||d==="not-in");return De.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function b0(t,e,n){const r=e,i=ly("where",t);return Nd._create(i,r,n)}class cy extends uy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)NS(o,l),o=_p(o,l)}(e._query,n),new Zs(e.firestore,e.converter,_p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function D0(t,e,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new D(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&n.indexOf("/")!==-1)throw new D(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ce.fromString(n));if(!M.isDocumentKey(r))throw new D(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t0(t,new M(r))}if(n instanceof vt)return t0(t,n._key);throw new D(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(n)}.`)}function j0(t,e){if(!Array.isArray(t)||t.length===0)throw new D(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NS(t,e){if(e.isInequality()){const r=$g(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new D(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=AI(t);s!==null&&pF(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pF(t,e,n){if(!n.isEqual(e))throw new D(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class mF{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new iy(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Og(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ce.fromString(e);he(YI(r));const i=new Sa(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DS extends PS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nu extends DS{data(e={}){return super.data(e)}}class gF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new So(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nu(this._firestore,this._userDataWriter,r.key,r,new So(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new nu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new So(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new nu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new So(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:yF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){t=ln(t,vt);const e=ln(t.firestore,ji);return YV(ny(e),t._key).then(n=>wF(e,t,n))}class jS extends mF{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function O0(t){t=ln(t,Zs);const e=ln(t.firestore,ji),n=ny(e),r=new jS(e);return hF(t._query),JV(n,t._query).then(i=>new gF(e,r,t,i))}function OS(t,e,n){t=ln(t,vt);const r=ln(t.firestore,ji),i=bS(t.converter,e,n);return Dd(r,[RS(kd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ht.none())])}function bd(t,e,n,...r){t=ln(t,vt);const i=ln(t.firestore,ji),s=kd(i);let o;return o=typeof(e=xe(e))=="string"||e instanceof Ad?lF(s,"updateDoc",t._key,e,n,r):aF(s,"updateDoc",t._key,e),Dd(i,[o.toMutation(t._key,Ht.exists(!0))])}function vF(t){return Dd(ln(t.firestore,ji),[new Ug(t._key,Ht.none())])}function _F(t,e){const n=ln(t.firestore,ji),r=Zn(t),i=bS(t.converter,e);return Dd(n,[RS(kd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ht.exists(!1))]).then(()=>r)}function Dd(t,e){return function(r,i){const s=new Un;return r.asyncQueue.enqueueAndForget(async()=>MV(await XV(r),i,s)),s.promise}(ny(t),e)}function wF(t,e,n){const r=n.docs.get(e._key),i=new jS(t);return new DS(t,i,e._key,r,new So(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xs=i})(Pi),vi(new Or("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ji(new IL(r.getProvider("auth-internal")),new AL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xn(X_,"4.0.0",e),xn(X_,"4.0.0","esm2017")})();const EF={apiKey:"AIzaSyAJdzKrM2d4n2oCyWlyM44Rmo07mVhajDU",authDomain:"swiftshop-db.firebaseapp.com",projectId:"swiftshop-db",storageBucket:"swiftshop-db.appspot.com",messagingSenderId:"127152835913",appId:"1:127152835913:web:9dd912b386da2343141e98",measurementId:"G-8EK1MYVLHG"},LS=hx(EF),MS=new jn;MS.setCustomParameters({prompt:"select_account"});const xF=dO(LS),un=ej(),TF=()=>{pD(un,MS)},er=rF(LS),VS=async(t,e={})=>{if(!t)return;const n=Zn(er,"users",t.uid);if(!(await Kr(n)).exists()){const{displayName:i,email:s,photoURL:o}=t,a=new Date,l=!1,u=[],d={};try{await OS(n,{displayName:i,email:s,createdAt:a,isAdmin:l,cart:u,reviews:d,photoURL:o,...e})}catch(h){console.log("error creating the user",h.message)}}return n},IF=async(t,e)=>{if(!(!t||!e))return await M2(un,t,e)},SF=async(t,e)=>{if(!(!t||!e))return await V2(un,t,e)},RF=t=>{t&&U2(un,t)},kp=async()=>{const t=Zn(er,"users",un.currentUser.uid),e=await Kr(t);if(e.exists)try{return e.data()}catch(n){console.log("error creating the user",n.message)}},FS=async t=>{const e=Zn(er,"users",un.currentUser.uid);try{const n=await Kr(e);if(n.exists()){const i=n.data().cart.concat(t);await bd(e,{cart:i}),console.log("Cart update successful")}else console.log("User document not found")}catch(n){console.error("Error updating cart:",n)}},$S=async t=>{const n=document.getElementById("imageInput").files[0];if(n)try{const r=cO(xF,`productImages/${t}/${n.name}`);await lO(r,n);const i=await uO(r),s=Zn(er,"products",t);(await Kr(s)).exists()&&await OS(s,{productImage:i},{merge:!0}),console.log("Image uploaded successfully.")}catch(r){console.error("Error uploading image:",r)}},CF=async t=>{try{const e=tF(er,"products"),n=N0(e,b0("name","==",t.name)),r=N0(e,b0("productImage","==",t.productImage)),i=await O0(n),s=await O0(r);if(!i.empty||!s.empty){console.warn("Product with the same name or productImage already exists.");return}const a=(await _F(e,t)).id;return $S(a),a}catch(e){throw console.error("Error creating product:",e),e}},US=async(t,e)=>{const n=Zn(er,"products",e);try{(await Kr(n)).exists()?(await bd(n,t),console.log("Cart update successful")):console.log("User document not found")}catch(r){console.error("Error updating cart:",r)}},AF=async t=>{const e=Zn(er,"products",t);try{(await Kr(e)).exists()?(await vF(e),console.log("Product removed successfully")):console.log("Product not found")}catch(n){console.error("Error removing product:",n)}},kF=async(t,e)=>{const n=Zn(er,"users",un.currentUser.uid);try{const r=await Kr(n);if(r.exists()){const s=r.data().cart.filter(o=>o.docId!==t&&o.size!==e);await bd(n,{cart:s}),console.log("Item removed from cart successfully")}else console.log("User document not found")}catch(r){console.error("Error removing item from cart:",r)}},PF=async()=>{const t=Zn(er,"users",un.currentUser.uid);try{(await Kr(t)).exists()?(await bd(t,{cart:[]}),console.log("Cart update successful")):console.log("User document not found")}catch(e){console.error("Error updating cart:",e)}},NF=async()=>await B2(un),BS=Wm({name:"userSlice",initialState:{currentUser:null},reducers:{setCurrentUser:(t,e)=>{t.currentUser=e.payload},addUserCartItem:(t,e)=>{t.currentUser.cart.push(e.payload)},removeFromUserCart:(t,e)=>{const n=e.payload.docID,r=e.payload.size,i=t.currentUser.cart.findIndex(s=>s.docID===n&&s.size===r);i!==-1&&t.currentUser.cart.splice(i,1)[0]},clearUserCart:(t,e)=>{t.currentUser.cart=[]}}}),{setCurrentUser:ac,addUserCartItem:zS,removeFromUserCart:bF,clearUserCart:DF}=BS.actions,dy=({product:t})=>{const{name:e,productImage:n,price:r,count:i,size:s,description:o}=t,a=Cn(h=>h.USER.currentUser),l=zs(),u=h=>{h.preventDefault(),a?(FS(t),l(zS(t))):l(tx(t))},d=h=>{h.preventDefault(),a?(kF(t.docID,s),l(bF(t))):l(yN(t))};return c.jsxs("div",{className:"d-flex mb-3 mt-3 w-100",children:[c.jsx("img",{className:"me-3",style:{width:"120px"},src:n,alt:"productImage"}),c.jsx("div",{className:"d-flex justify-content-between",children:c.jsxs("div",{className:"me-3 d-flex flex-column",children:[c.jsx("h4",{className:"text-capitalize mb-0 fst-italic",children:e}),c.jsxs("p",{className:"fs-5 mt-1",children:["$",r]}),c.jsx("p",{className:"text-uppercase fw-bold",children:s}),c.jsxs("div",{className:"d-flex align-items-center flex-fill",children:[c.jsx("button",{className:"button-17 p-0 me-2",onClick:d,style:{width:"30px",height:"auto"},children:c.jsx("span",{className:"fs-4",children:"-"})}),c.jsxs("p",{className:"m-0 fs-6",children:["Quantity: ",i]}),c.jsx("button",{className:"button-17 p-0 ms-2",onClick:u,style:{width:"30px",height:"auto"},children:c.jsx("span",{className:"fs-4",children:"+"})})]})]})})]})};function hy(t,e,n){return t.filter(r=>r.docID===e&&r.size===n).length}function fy(t){const e=new Map;return t.forEach(r=>{const i=`${r.docID}-${r.size}`;e.set(i,r)}),Array.from(e.values())}function WS(t){let e=0;for(let n=0;n<t.userRatings.length;n++)e+=t.userRatings[n].rating;return e=e/t.userRatings.length,e}function HS(t){const e=Math.floor(Date.now()/1e3),n=2*7*24*60*60;return t.dateCreated.seconds>e-n}const jF=t=>{let e=null;if(t.seconds){const l=t.seconds*1e3;e=new Date(l)}else e=t;const r=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],i=e.getDate(),s=e.getFullYear();return`${r} ${i}, ${s}`};const OF={google:"google-sign-in",inverted:"inverted",small:"small"},ot=({children:t,buttonType:e,...n})=>c.jsx("button",{style:{borderRadius:"40px"},className:`button-container ${OF[e]}`,...n,children:t}),LF=()=>{const t=Cn(e=>e.CART.cartItemsList);return c.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-between overflow-auto p-0",children:[c.jsx("div",{style:{flex:1,overflowY:"auto"},className:"w-100 d-flex",children:t&&c.jsx("div",{className:"d-flex flex-column m-auto",children:fy(t).map((e,n)=>{const r=hy(t,e.docID,e.size);return c.jsx("div",{style:{width:"100%"},children:c.jsx(dy,{product:{...e,count:r}})},n)})})||c.jsx("div",{children:"Nothing in your cart yet!"})}),t.length>0&&c.jsx(se,{to:"/payment",className:"w-100 mb-4 d-flex justify-content-center pt-4",style:{borderTop:"solid 1px #d9d9d9"},children:c.jsx(ot,{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",to:"/payment",children:"Checkout"})})||c.jsx("div",{className:"w-100 mb-4 d-flex justify-content-center pt-4",children:c.jsx(ot,{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",children:"Nothing in your cart yet!"})})]})},MF=()=>{const t=Cn(r=>r.USER.currentUser),[e,n]=x.useState(t.cart);return x.useEffect(()=>{n(t.cart)},[t.cart]),c.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-between overflow-auto p-0",children:[c.jsx("div",{style:{flex:1,overflowY:"auto"},className:"w-100 d-flex",children:e&&c.jsx("div",{className:"d-flex flex-column m-auto",children:fy(e).map((r,i)=>{const s=hy(e,r.docID,r.size);return c.jsx("div",{style:{width:"100%"},children:c.jsx(dy,{product:{...r,count:s}})},i)})})||c.jsx("div",{children:"Nothing in your cart yet!"})}),e.length>0&&c.jsx(se,{to:"/payment",className:"w-100 mb-4 d-flex justify-content-center pt-4",style:{borderTop:"solid 1px #d9d9d9"},children:c.jsx(ot,{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",to:"/payment",children:"Checkout"})})||c.jsx("div",{className:"w-100 mb-4 ",children:c.jsx(ot,{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",children:"Nothing in your cart yet!"})})]})},qS=Wm({name:"currentURLSlice",initialState:{currentURL:""},reducers:{updateURL:(t,e)=>{t.currentURL=e.payload}}}),{updateURL:VF}=qS.actions;const FF=()=>{const t=Bs(),e=Br(),n=Cn(a=>a.CART.cartItemsList),r=Cn(a=>a.USER.currentUser),i=zs(),s=async()=>{await NF(),i(ac(null))},o=()=>{if(r&&r.cart.length>0)return c.jsx("span",{className:"position-absolute translate-middle badge rounded-pill bg-danger",children:r.cart.length});if(n.length>0)return c.jsx("span",{className:"position-absolute translate-middle badge rounded-pill bg-danger",children:n.length})};return c.jsx("nav",{className:"navbar fixed-top bg-body-tertiary p-0",style:{borderBottom:"solid 1px #d9d9d9"},children:c.jsxs("div",{className:"w-100",children:[c.jsx("div",{style:{backgroundColor:"#eeeeee",height:"35px"},children:c.jsxs("div",{className:"container d-flex justify-content-between align-items-center h-100",children:[c.jsx("div",{children:"$ USD · EN"}),c.jsx("div",{className:" fs-5",children:"We donate $1 from every purchase"}),c.jsx("div",{children:r?c.jsxs("div",{className:"dropstart",children:[c.jsx("a",{className:"dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:r.displayName}),c.jsxs("ul",{className:"dropdown-menu dropdown-menu-dark","aria-labelledby":"dropdownMenuButton1",children:[c.jsx("li",{className:"text-center fs-5 p-2",children:r.isAdmin?c.jsx(se,{className:"dropdown-item text-primary fw-bold",style:{cursor:"pointer"},to:"/admin/products",children:"Admin"}):null}),c.jsx("li",{className:"p-2 text-center fs-5 ",children:c.jsx("a",{className:"dropdown-item text-danger fw-bold",onClick:s,style:{cursor:"pointer"},children:"Sign Out"})})]})]}):c.jsx("a",{style:{cursor:"pointer"},onClick:()=>{i(VF(window.location.pathname)),t("/signin",{state:e.state})},children:"Log in"})})]})}),c.jsxs("div",{className:"pb-1 pt-1 d-flex justify-content-between m-auto container",children:[c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx(se,{className:"navbar-brand",to:"/",children:c.jsx("img",{src:"../../../src/assets/images/logos/logo.png",alt:"Logo",height:"45"})}),c.jsx(se,{className:"fs-4 ms-4",to:"/all",children:c.jsx("p",{className:"fs-5",children:"All"})}),c.jsx(se,{className:"fs-4 ms-4",to:"/themes",children:c.jsx("p",{className:"fs-5",children:"Themes"})}),c.jsx(se,{className:"fs-4 ms-4",to:"/seasonal",children:c.jsx("p",{className:"fs-5",children:"Seasonal"})}),c.jsx(se,{className:"fs-4 ms-4",to:"/mens",children:c.jsx("p",{className:"fs-5",children:"Mens"})}),c.jsx(se,{className:"fs-4 ms-4",to:"/womens",children:c.jsx("p",{className:"fs-5",children:"Womens"})})]}),c.jsx("div",{className:"d-flex",children:c.jsx("div",{className:"d-flex align-items-center",children:c.jsxs("a",{style:{cursor:"pointer"},"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight",role:"button",children:[c.jsx("img",{src:AP,alt:"cartImg",style:{width:35},className:"position-relative"}),o()]})})}),c.jsxs("div",{className:"offcanvas offcanvas-end",tabIndex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel",children:[c.jsxs("div",{className:"offcanvas-header",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("h4",{id:"offcanvasRightLabel",children:"Cart"}),c.jsx("button",{type:"button",className:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),r?c.jsx(MF,{}):c.jsx(LF,{})]})]})]})})};var KS="https://js.stripe.com/v3",$F=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,L0="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",UF=function(){for(var e=document.querySelectorAll('script[src^="'.concat(KS,'"]')),n=0;n<e.length;n++){var r=e[n];if($F.test(r.src))return r}return null},BF=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(KS).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},zF=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:n})},Ol=null,WF=function(e){return Ol!==null||(Ol=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(L0),window.Stripe){n(window.Stripe);return}try{var i=UF();i&&e?console.warn(L0):i||(i=BF(e)),i.addEventListener("load",function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(s){r(s);return}})),Ol},HF=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return zF(i,r),i},GS=Promise.resolve().then(function(){return WF(null)}),QS=!1;GS.catch(function(t){QS||console.warn(t)});var qF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];QS=!0;var i=Date.now();return GS.then(function(s){return HF(s,n,i)})},XS={exports:{}},KF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GF=KF,QF=GF;function YS(){}function JS(){}JS.resetWarningCache=YS;var XF=function(){function t(r,i,s,o,a,l){if(l!==QF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JS,resetWarningCache:YS};return n.PropTypes=n,n};XS.exports=XF();var YF=XS.exports;const Ae=Dp(YF);function M0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ru(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(e){return typeof e}:ru=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function ZS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iu(t,e){return JF(t)||ZF(t,e)||e4(t,e)||t4()}function JF(t){if(Array.isArray(t))return t}function ZF(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function e4(t,e){if(t){if(typeof t=="string")return F0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F0(t,e)}}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pp=function(e){var n=Q.useRef(e);return Q.useEffect(function(){n.current=e},[e]),n.current},Os=function(e){return e!==null&&ru(e)==="object"},n4=function(e){return Os(e)&&typeof e.then=="function"},r4=function(e){return Os(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},$0="[object Object]",i4=function t(e,n){if(!Os(e)||!Os(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===$0,o=Object.prototype.toString.call(n)===$0;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var g=e,_=n,v=function(p){return t(g[p],_[p])};return f.every(v)},eR=function(e,n,r){return Os(e)?Object.keys(e).reduce(function(i,s){var o=!Os(n)||!i4(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?V0(V0({},i||{}),{},ZS({},s,e[s])):i},null):null},s4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",U0=function(e){if(e===null||r4(e))return e;throw new Error(s4)},o4=function(e){if(n4(e))return{tag:"async",stripePromise:Promise.resolve(e).then(U0)};var n=U0(e);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},py=Q.createContext(null);py.displayName="ElementsContext";var a4=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},my=Q.createContext(null);my.displayName="CartElementContext";var l4=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},tR=function(e){var n=e.stripe,r=e.options,i=e.children,s=Q.useMemo(function(){return o4(n)},[n]),o=Q.useState(null),a=iu(o,2),l=a[0],u=a[1],d=Q.useState(null),h=iu(d,2),f=h[0],g=h[1],_=Q.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),v=iu(_,2),y=v[0],p=v[1];Q.useEffect(function(){var E=!0,T=function(k){p(function(b){return b.stripe?b:{stripe:k,elements:k.elements(r)}})};return s.tag==="async"&&!y.stripe?s.stripePromise.then(function(S){S&&E&&T(S)}):s.tag==="sync"&&!y.stripe&&T(s.stripe),function(){E=!1}},[s,y,r]);var m=Pp(n);Q.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var w=Pp(r);return Q.useEffect(function(){if(y.elements){var E=eR(r,w,["clientSecret","fonts"]);E&&y.elements.update(E)}},[r,w,y.elements]),Q.useEffect(function(){var E=y.stripe;!E||!E._registerWrapper||!E.registerAppInfo||(E._registerWrapper({name:"react-stripe-js",version:"2.1.1"}),E.registerAppInfo({name:"react-stripe-js",version:"2.1.1",url:"https://stripe.com/docs/stripe-js/react"}))},[y.stripe]),Q.createElement(py.Provider,{value:y},Q.createElement(my.Provider,{value:{cart:l,setCart:u,cartState:f,setCartState:g}},i))};tR.propTypes={stripe:Ae.any,options:Ae.object};var lc=function(e){var n=Q.useContext(py);return a4(n,e)},B0=function(e){var n=Q.useContext(my);return l4(n,e)},u4=function(){var e=lc("calls useElements()"),n=e.elements;return n},c4=function(){var e=lc("calls useStripe()"),n=e.stripe;return n};Ae.func.isRequired;var pt=function(e,n,r){var i=!!r,s=Q.useRef(r);Q.useEffect(function(){s.current=r},[r]),Q.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},d4=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Oe=function(e,n){var r="".concat(d4(e),"Element"),i=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,g=l.onBlur,_=l.onFocus,v=l.onReady,y=l.onChange,p=l.onEscape,m=l.onClick,w=l.onLoadError,E=l.onLoaderStart,T=l.onNetworksChange,S=l.onCheckout,k=l.onLineItemClick,b=l.onConfirm,q=l.onCancel,L=l.onShippingAddressChange,Re=l.onShippingRateChange,Nn=lc("mounts <".concat(r,">")),Xt=Nn.elements,Gr=Q.useState(null),Mi=iu(Gr,2),we=Mi[0],cn=Mi[1],P=Q.useRef(null),V=Q.useRef(null),W=B0("mounts <".concat(r,">")),ie=W.setCart,fe=W.setCartState;pt(we,"blur",g),pt(we,"focus",_),pt(we,"escape",p),pt(we,"click",m),pt(we,"loaderror",w),pt(we,"loaderstart",E),pt(we,"networkschange",T),pt(we,"lineitemclick",k),pt(we,"confirm",b),pt(we,"cancel",q),pt(we,"shippingaddresschange",L),pt(we,"shippingratechange",Re);var F;e==="cart"?F=function(Iy){fe(Iy),v&&v(Iy)}:v&&(e==="expressCheckout"?F=v:F=function(){v(we)}),pt(we,"ready",F);var oe=e==="cart"?function(Ce){fe(Ce),y&&y(Ce)}:y;pt(we,"change",oe);var Qr=e==="cart"?function(Ce){fe(Ce),S&&S(Ce)}:S;pt(we,"checkout",Qr),Q.useLayoutEffect(function(){if(P.current===null&&Xt&&V.current!==null){var Ce=Xt.create(e,f);e==="cart"&&ie&&ie(Ce),P.current=Ce,cn(Ce),Ce.mount(V.current)}},[Xt,f,ie]);var dn=Pp(f);return Q.useEffect(function(){if(P.current){var Ce=eR(f,dn,["paymentRequest"]);Ce&&P.current.update(Ce)}},[f,dn]),Q.useLayoutEffect(function(){return function(){if(P.current&&typeof P.current.destroy=="function")try{P.current.destroy(),P.current=null}catch{}}},[]),Q.createElement("div",{id:u,className:d,ref:V})},s=function(l){lc("mounts <".concat(r,">")),B0("mounts <".concat(r,">"));var u=l.id,d=l.className;return Q.createElement("div",{id:u,className:d})},o=n?s:i;return o.propTypes={id:Ae.string,className:Ae.string,onChange:Ae.func,onBlur:Ae.func,onFocus:Ae.func,onReady:Ae.func,onEscape:Ae.func,onClick:Ae.func,onLoadError:Ae.func,onLoaderStart:Ae.func,onNetworksChange:Ae.func,onCheckout:Ae.func,onLineItemClick:Ae.func,onConfirm:Ae.func,onCancel:Ae.func,onShippingAddressChange:Ae.func,onShippingRateChange:Ae.func,options:Ae.object},o.displayName=r,o.__elementType=e,o},Le=typeof window>"u";Oe("auBankAccount",Le);Oe("card",Le);Oe("cardNumber",Le);Oe("cardExpiry",Le);Oe("cardCvc",Le);Oe("fpxBank",Le);Oe("iban",Le);Oe("idealBank",Le);Oe("p24Bank",Le);Oe("epsBank",Le);var h4=Oe("payment",Le);Oe("expressCheckout",Le);Oe("paymentRequestButton",Le);var f4=Oe("linkAuthentication",Le),p4=Oe("address",Le);Oe("shippingAddress",Le);Oe("cart",Le);Oe("paymentMethodMessaging",Le);Oe("affirmMessage",Le);Oe("afterpayClearpayMessage",Le);function m4(){const t=c4(),e=u4(),n=Bs(),[r,i]=x.useState(null),[s,o]=x.useState(!1),a=zs(),l=Cn(d=>d.USER.currentUser),u=async d=>{if(d.preventDefault(),!t||!e)return;o(!0);const{error:h,paymentIntent:f}=await t.confirmPayment({elements:e,confirmParams:{return_url:`${window.location.origin}/completion`},redirect:"if_required"});h?i(h.message):f&&f.status==="succeeded"?(i("Payment status: "+f.status+"🎉"),l?(PF(),a(DF())):a(vN()),n("completion")):i("Unexpected state"),o(!1)};return c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"fw-bold",children:"Contact info"}),c.jsx("form",{className:"mt-3 mb-4",children:c.jsx(f4,{})}),c.jsx("h3",{className:"fw-bold",children:"Shipping"}),c.jsx("form",{className:"mt-3 mb-4",children:c.jsx(p4,{options:{mode:"shipping"}})}),c.jsx("h3",{className:"fw-bold",children:"Payment"}),c.jsxs("form",{id:"payment-form",onSubmit:u,className:"mt-3",children:[c.jsx(h4,{}),c.jsx("div",{className:"mt-4",children:c.jsx(ot,{disabled:s,id:"submit",children:c.jsx("span",{id:"button-text",children:s?"Processing ... ":"Pay now"})})}),r&&c.jsx("div",{id:"payment-message",children:r})]})]})}function g4(t){const[e,n]=x.useState(null),[r,i]=x.useState(""),[s,o]=x.useState(null),[a,l]=x.useState(null);let u=Cn(g=>g.CART.cartItemsList);const d=Cn(g=>g.USER.currentUser);d&&(u=d.cart),x.useEffect(()=>{fetch("/config").then(async g=>{const{publishableKey:_}=await g.json();n(qF(_))})},[]),x.useEffect(()=>{u.length>0&&fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItemsList:u})}).then(async g=>{const{clientSecret:_,cartTotal:v,intentId:y}=await g.json(),p=parseFloat((v/100).toFixed(2));l(y),o(p),i(_)})},[]),x.useEffect(()=>{a&&r&&u.length>0&&fetch("/update-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItemsList:u,intentId:a})}).then(async g=>{const{cartTotal:_,clientSecret:v}=await g.json(),y=parseFloat((_/100).toFixed(2));i(v),o(y)})},[u,r,a]),x.useEffect(()=>{},[u]);const h=()=>fy(u).map((g,_)=>{const v=hy(u,g.docID,g.size);return c.jsx("div",{children:c.jsx(dy,{product:{...g,count:v}})},_)}),f="auto";return c.jsxs("section",{className:"container d-flex justify-content-center  mt-5",children:[c.jsx("div",{className:"p-5",children:e&&r&&c.jsx(tR,{stripe:e,options:{clientSecret:r,loader:f},children:c.jsx(m4,{})})}),c.jsx("div",{className:"vr"}),c.jsxs("div",{className:"p-5 d-flex flex-column",children:[c.jsxs("div",{className:"flex-fill",children:[c.jsx("h3",{className:"fw-bold",children:"Cart"}),u&&h()]}),c.jsxs("h3",{className:"pt-3",children:["Total: $",s&&u.length!=0&&s]})]})]})}const y4="/swiftshop/heroBackground_1-a2520b7e.jpg",gy="/swiftshop/star-solid-daded7bc.svg";const kn=({product:t})=>{const{name:e,productImage:n,price:r,size:i,userRatings:s}=t,[o,a]=x.useState();return x.useEffect(()=>{s.length>0&&a(WS(t))},[]),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"image-container",children:[c.jsx("img",{className:"product__image",src:n,alt:"productImage"}),c.jsx("div",{className:"product__overlay",children:c.jsxs("div",{className:"p-2 d-flex",children:[o?c.jsxs("div",{style:{minWidth:"4rem",backgroundColor:"#eee"},className:"product__text-bubble d-flex align-items-center justify-content-center",children:[c.jsx("div",{className:"text-dark pe-1",children:o.toFixed(1)}),c.jsx("img",{src:gy,style:{width:14,height:14},className:"h-100"})]}):null,t.featured?c.jsx("div",{className:"product__text-bubble",children:"Featured"}):null,HS(t)?c.jsx("div",{className:"product__text-bubble",children:"Just Added"}):null]})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-capitalize mt-1 fs-5",children:e}),c.jsxs("div",{className:"fs-5",style:{lineHeight:".9"},children:["$",r]})]})]})};const v4="/swiftshop/themes_category-e8414852.jpg",_4="/swiftshop/truck-fast-solid-cfd44358.svg",w4="/swiftshop/plane-solid-2e752f1e.svg",E4="/swiftshop/summer_category-393875e5.jpg";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Np=function(){return Np=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Np.apply(this,arguments)};function x4(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var ys="",Bo=null,su=null,nR=null;function yy(){ys="",Bo!==null&&Bo.disconnect(),su!==null&&(window.clearTimeout(su),su=null)}function z0(t){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return e.includes(t.tagName)&&!t.hasAttribute("disabled")||n.includes(t.tagName)&&t.hasAttribute("href")}function W0(){var t=null;if(ys==="#")t=document.body;else{var e=ys.replace("#","");t=document.getElementById(e),t===null&&ys==="#top"&&(t=document.body)}if(t!==null){nR(t);var n=t.getAttribute("tabindex");return n===null&&!z0(t)&&t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),n===null&&!z0(t)&&(t.blur(),t.removeAttribute("tabindex")),yy(),!0}return!1}function T4(t){window.setTimeout(function(){W0()===!1&&(Bo===null&&(Bo=new MutationObserver(W0)),Bo.observe(document,{attributes:!0,childList:!0,subtree:!0}),su=window.setTimeout(function(){yy()},t||1e4))},0)}function rR(t){return Q.forwardRef(function(e,n){var r="";typeof e.to=="string"&&e.to.includes("#")?r="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(r=e.to.hash);var i={};t===P1&&(i.isActive=function(a,l){return a&&a.isExact&&l.hash===r});function s(a){yy(),ys=e.elementId?"#"+e.elementId:r,e.onClick&&e.onClick(a),ys!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(nR=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},T4(e.timeout))}var o=x4(e,["scroll","smooth","timeout","elementId"]);return Q.createElement(t,Np({},i,o,{onClick:s,ref:n}),e.children)})}var H0=rR(se);rR(P1);const I4="/swiftshop/winter_category-4c4f58c8.jpg",S4=()=>{const[t,e]=x.useState(),[n,r]=x.useState(null),i=Bs(),[s,o]=x.useState(null);x.useEffect(()=>{const d=un.onAuthStateChanged(h=>{o(h)});return console.log(s),()=>{d()}},[]),x.useEffect(()=>{fetch("/products-data").then(async d=>{const{productsDataInfo:h}=await d.json();e(h)})},[]);const a=()=>t?t.sort((d,h)=>h.dateCreated.seconds-d.dateCreated.seconds).map((d,h)=>{if(!(h>3))return c.jsx("a",{style:{cursor:"pointer"},onClick:()=>i(`/product/${d.docID}`,{state:d}),children:c.jsx(kn,{product:d})},h)}):c.jsx("div",{children:"No Product Information Yet"}),l=()=>t?t.filter(d=>(n==null&&d.featured==!0&&r(d),d.featured==!0)).map((d,h)=>c.jsx("a",{style:{cursor:"pointer"},onClick:()=>i(`/product/${d.docID}`,{state:d}),children:c.jsx(kn,{product:d})},h)):c.jsx("div",{children:"No Product Information Yet"}),u=()=>{if(n)return c.jsxs("div",{className:"w-100",children:[c.jsxs("div",{className:"image-container w-100",children:[c.jsx("img",{src:y4,style:{height:"88vh",objectFit:"cover"},className:"w-100"}),c.jsx("div",{className:"d-flex overlay",children:c.jsxs("div",{style:{width:"30%"},className:"text-center mb-5 justify-self-center",children:[c.jsx("h1",{className:"text-white mb-5",style:{fontFamily:"merriweather"},children:"Bring Your Wardrobe to Life With Our Stunning Collection"}),c.jsxs("div",{className:"d-flex justify-content-evenly m-auto gap-3",style:{width:"70%"},children:[c.jsx(ot,{buttonType:"google",children:"Shop Now"}),c.jsx(ot,{buttonType:"inverted",children:c.jsx("span",{style:{fontSize:"90%"},children:"Learn More"})})]}),c.jsx("div",{className:"mt-5",children:c.jsx("span",{className:"text-white fs-4",children:"⭐⭐⭐⭐⭐ Over 1000+ 5 star reviews"})})]})})]}),c.jsx("section",{style:{backgroundColor:"#eeeeee"},children:c.jsx("div",{className:"container",style:{paddingTop:"30px",paddingBottom:"30px"},children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col d-flex",children:[c.jsx("div",{className:"me-3",children:c.jsx("img",{src:_4,alt:"truckFast",style:{width:"35px"}})}),c.jsxs("div",{children:[c.jsx("div",{className:"fs-4 fw-bold mb-2",children:"Free shipping"}),c.jsx("div",{className:"fs-4",children:"Spend over $50 to recieve free shipping on all orders. Learn more"})]})]}),c.jsxs("div",{className:"col d-flex",children:[c.jsx("div",{className:"me-3",children:c.jsx("img",{src:w4,alt:"planeSolid",style:{width:"35px"}})}),c.jsxs("div",{children:[c.jsx("div",{className:"fs-4 fw-bold mb-2",children:"Fast Orders, Swift Delivery"}),c.jsx("div",{className:"fs-4",children:"Swift Shop Express delivers speedy service for quick satisfaction."})]})]}),c.jsxs("div",{className:"col d-flex",children:[c.jsx("div",{className:"me-3",children:c.jsx("img",{src:gy,alt:"starSolid",style:{width:"35px"}})}),c.jsxs("div",{children:[c.jsx("div",{className:"fs-4 fw-bold mb-2",children:"Elevating Satisfaction"}),c.jsx("div",{className:"fs-4",children:"Satisfaction with quality products and stellar service. Discover joy today."})]})]})]})})})]})};return l(),c.jsxs("div",{className:"d-flex flex-column align-items-center",style:{width:"100vw"},children:[u(),c.jsxs("div",{className:"m-5 d-flex flex-column container align-items-center",children:[c.jsxs("div",{style:{gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:"10px",display:"grid",paddingTop:100,paddingBottom:100},children:[c.jsx("div",{style:{gridColumn:"span 1 / span 1",gridRow:"span 1 / span 1"},className:"h-full",children:c.jsxs("div",{className:"pt-0 pb-0 w-100 h-100",style:{borderRadius:"3px",borderWidth:"1px",borderColor:"transparent",color:"#161625",overflow:"hidden",alignItems:"flex-end",flexWrap:"wrap",flexDirection:"row",position:"relative",display:"flex",backgroundColor:"#eeeeee"},children:[c.jsx("div",{className:"w-100",style:{position:"relative"},children:c.jsx("img",{src:v4,alt:"",className:"w-100"})}),c.jsx("div",{className:"w-100",style:{paddingTop:"1rem",padding:"1rem",zIndex:"1"},children:c.jsxs("div",{style:{maxWidth:"65ch"},children:[c.jsx("h2",{className:"mb-2",style:{fontFamily:"merriweather"},children:"Themes"}),c.jsx("div",{className:"mb-2",children:c.jsx("p",{className:"fs-5",children:"Find what style fits you"})}),c.jsx(se,{to:"themes",children:c.jsx(ot,{children:"Shop themes"})})]})})]})}),c.jsx("div",{style:{gridColumn:"span 1 / span 1",gridRow:"span 1 / span 1"},className:"h-full",children:c.jsxs("div",{className:"pt-0 pb-0 w-100 h-100",style:{borderRadius:"3px",borderWidth:"1px",borderColor:"transparent",color:"#161625",overflow:"hidden",alignItems:"flex-end",flexWrap:"wrap",flexDirection:"row",position:"relative",display:"flex",backgroundColor:"#eeeeee"},children:[c.jsx("div",{className:"w-100",style:{position:"relative"},children:c.jsx("img",{src:I4,alt:"",className:"w-100"})}),c.jsx("div",{className:"w-100",style:{paddingTop:"1rem",padding:"1rem",zIndex:"1"},children:c.jsxs("div",{style:{maxWidth:"65ch"},children:[c.jsx("h2",{className:"mb-2",style:{fontFamily:"merriweather"},children:"Winter"}),c.jsx("div",{className:"mb-2",children:c.jsx("p",{className:"fs-5",children:"Stay warm with our winter collection"})}),c.jsx(H0,{smooth:!0,to:"/seasonal#winter",children:c.jsx(ot,{children:"Shop winter"})})]})})]})}),c.jsx("div",{style:{gridColumn:"span 1 / span 1",gridRow:"span 1 / span 1"},className:"h-full",children:c.jsxs("div",{className:"pt-0 pb-0 w-100 h-100",style:{borderRadius:"3px",borderWidth:"1px",borderColor:"transparent",overflow:"hidden",alignItems:"flex-end",flexWrap:"wrap",flexDirection:"row",position:"relative",display:"flex",backgroundColor:"#eeeeee"},children:[c.jsx("div",{className:"w-100",style:{position:"relative"},children:c.jsx("img",{style:{objectFit:"cover"},src:E4,alt:"",className:"w-100 product__feature__overlay-img"})}),c.jsx("div",{className:"w-100",style:{paddingTop:"1rem",padding:"1rem",zIndex:"1"},children:c.jsxs("div",{style:{maxWidth:"65ch"},children:[c.jsx("h2",{className:"mb-2",style:{fontFamily:"merriweather"},children:"Summer"}),c.jsx("div",{className:"mb-2",children:c.jsx("p",{className:"fs-5",children:"Perfect for hot summer days"})}),c.jsx(H0,{smooth:!0,to:"/seasonal#summer",children:c.jsx(ot,{children:"Shop summer"})})]})})]})})]}),c.jsx("div",{style:{height:200,width:"100vw",backgroundColor:"#eee",marginBottom:60,paddingBottom:".5rem",paddingTop:".5rem",clipPath:"polygon(0 0, 100% 30%, 100% 100%, 0 70%)",borderTop:"1rem solid #161625",borderBottom:"1rem solid #161625"},children:c.jsxs("div",{className:"container d-flex flex-column justify-content-center align-items-center h-100 position-relative p-0",children:[c.jsx("h1",{style:{fontSize:"3rem",color:"#161625",marginTop:30},className:"position-absolute top-0 start-0",children:"Get Outside."}),c.jsx("h1",{style:{fontSize:"3rem",color:"#161625"},className:"position-absolute top-50 start-50 translate-middle",children:"Look Amazing."}),c.jsx("h1",{style:{fontSize:"3rem",color:"#161625",marginBottom:30},className:"position-absolute bottom-0 end-0",children:"Be innovative."})]})}),c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("h4",{className:"fw-bold ms-3 fs-3 mb-4",style:{fontFamily:"merriweather"},children:"Featured"}),c.jsx("div",{className:"grid grid-cols-4",children:l()})]}),c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("h4",{className:"fw-bold ms-3 fs-3 mb-4",style:{fontFamily:"merriweather"},children:"New"}),c.jsx("div",{className:"grid grid-cols-4 ",children:a()})]})]})]})};function bp(t,e){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bp(t,e)}function vy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,bp(t,e)}var R4=Array.isArray;const _y=R4;var C4=typeof global=="object"&&global&&global.Object===Object&&global;const A4=C4;var k4=typeof self=="object"&&self&&self.Object===Object&&self,P4=A4||k4||Function("return this")();const wy=P4;var N4=wy.Symbol;const Ls=N4;var iR=Object.prototype,b4=iR.hasOwnProperty,D4=iR.toString,fo=Ls?Ls.toStringTag:void 0;function j4(t){var e=b4.call(t,fo),n=t[fo];try{t[fo]=void 0;var r=!0}catch{}var i=D4.call(t);return r&&(e?t[fo]=n:delete t[fo]),i}var O4=Object.prototype,L4=O4.toString;function M4(t){return L4.call(t)}var V4="[object Null]",F4="[object Undefined]",q0=Ls?Ls.toStringTag:void 0;function sR(t){return t==null?t===void 0?F4:V4:q0&&q0 in Object(t)?j4(t):M4(t)}function $4(t){return t!=null&&typeof t=="object"}var U4="[object Symbol]";function jd(t){return typeof t=="symbol"||$4(t)&&sR(t)==U4}var B4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z4=/^\w*$/;function W4(t,e){if(_y(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||jd(t)?!0:z4.test(t)||!B4.test(t)||e!=null&&t in Object(e)}function uc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var H4="[object AsyncFunction]",q4="[object Function]",K4="[object GeneratorFunction]",G4="[object Proxy]";function Q4(t){if(!uc(t))return!1;var e=sR(t);return e==q4||e==K4||e==H4||e==G4}var X4=wy["__core-js_shared__"];const Bh=X4;var K0=function(){var t=/[^.]+$/.exec(Bh&&Bh.keys&&Bh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Y4(t){return!!K0&&K0 in t}var J4=Function.prototype,Z4=J4.toString;function e$(t){if(t!=null){try{return Z4.call(t)}catch{}try{return t+""}catch{}}return""}var t$=/[\\^$.*+?()[\]{}|]/g,n$=/^\[object .+?Constructor\]$/,r$=Function.prototype,i$=Object.prototype,s$=r$.toString,o$=i$.hasOwnProperty,a$=RegExp("^"+s$.call(o$).replace(t$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l$(t){if(!uc(t)||Y4(t))return!1;var e=Q4(t)?a$:n$;return e.test(e$(t))}function u$(t,e){return t==null?void 0:t[e]}function Ey(t,e){var n=u$(t,e);return l$(n)?n:void 0}var c$=Ey(Object,"create");const ka=c$;function d$(){this.__data__=ka?ka(null):{},this.size=0}function h$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var f$="__lodash_hash_undefined__",p$=Object.prototype,m$=p$.hasOwnProperty;function g$(t){var e=this.__data__;if(ka){var n=e[t];return n===f$?void 0:n}return m$.call(e,t)?e[t]:void 0}var y$=Object.prototype,v$=y$.hasOwnProperty;function _$(t){var e=this.__data__;return ka?e[t]!==void 0:v$.call(e,t)}var w$="__lodash_hash_undefined__";function E$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ka&&e===void 0?w$:e,this}function Si(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Si.prototype.clear=d$;Si.prototype.delete=h$;Si.prototype.get=g$;Si.prototype.has=_$;Si.prototype.set=E$;function x$(){this.__data__=[],this.size=0}function T$(t,e){return t===e||t!==t&&e!==e}function Od(t,e){for(var n=t.length;n--;)if(T$(t[n][0],e))return n;return-1}var I$=Array.prototype,S$=I$.splice;function R$(t){var e=this.__data__,n=Od(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():S$.call(e,n,1),--this.size,!0}function C$(t){var e=this.__data__,n=Od(e,t);return n<0?void 0:e[n][1]}function A$(t){return Od(this.__data__,t)>-1}function k$(t,e){var n=this.__data__,r=Od(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eo.prototype.clear=x$;eo.prototype.delete=R$;eo.prototype.get=C$;eo.prototype.has=A$;eo.prototype.set=k$;var P$=Ey(wy,"Map");const N$=P$;function b$(){this.size=0,this.__data__={hash:new Si,map:new(N$||eo),string:new Si}}function D$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ld(t,e){var n=t.__data__;return D$(e)?n[typeof e=="string"?"string":"hash"]:n.map}function j$(t){var e=Ld(this,t).delete(t);return this.size-=e?1:0,e}function O$(t){return Ld(this,t).get(t)}function L$(t){return Ld(this,t).has(t)}function M$(t,e){var n=Ld(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Oi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oi.prototype.clear=b$;Oi.prototype.delete=j$;Oi.prototype.get=O$;Oi.prototype.has=L$;Oi.prototype.set=M$;var V$="Expected a function";function xy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(V$);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(xy.Cache||Oi),n}xy.Cache=Oi;var F$=500;function $$(t){var e=xy(t,function(r){return n.size===F$&&n.clear(),r}),n=e.cache;return e}var U$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B$=/\\(\\)?/g,z$=$$(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(U$,function(n,r,i,s){e.push(i?s.replace(B$,"$1"):r||n)}),e});const W$=z$;function H$(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var q$=1/0,G0=Ls?Ls.prototype:void 0,Q0=G0?G0.toString:void 0;function oR(t){if(typeof t=="string")return t;if(_y(t))return H$(t,oR)+"";if(jd(t))return Q0?Q0.call(t):"";var e=t+"";return e=="0"&&1/t==-q$?"-0":e}function K$(t){return t==null?"":oR(t)}function aR(t,e){return _y(t)?t:W4(t,e)?[t]:W$(K$(t))}var G$=1/0;function lR(t){if(typeof t=="string"||jd(t))return t;var e=t+"";return e=="0"&&1/t==-G$?"-0":e}function uR(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Q$(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function X$(t,e){e=aR(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lR(e[n++])];return n&&n==r?t:void 0}function Y$(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function J$(t,e){return e.length<2?t:X$(t,Y$(e,0,-1))}function Z$(t,e,n){e=aR(e,t),t=J$(t,e);var r=t==null?t:t[lR(Q$(e))];return r==null?void 0:uR(r,t,n)}function Ty(t){return t}var X0=Math.max;function eU(t,e,n){return e=X0(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=X0(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),uR(t,this,a)}}function tU(t){return function(){return t}}var nU=function(){try{var t=Ey(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Y0=nU;var rU=Y0?function(t,e){return Y0(t,"toString",{configurable:!0,enumerable:!1,value:tU(e),writable:!0})}:Ty;const iU=rU;var sU=800,oU=16,aU=Date.now;function lU(t){var e=0,n=0;return function(){var r=aU(),i=oU-(r-n);if(n=r,i>0){if(++e>=sU)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uU=lU(iU);const cU=uU;function dU(t,e){return cU(eU(t,e,Ty),t+"")}var hU=dU(Z$);const ns=hU;function fU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pU(t){return t===void 0}var mU=/\s/;function gU(t){for(var e=t.length;e--&&mU.test(t.charAt(e)););return e}var yU=/^\s+/;function vU(t){return t&&t.slice(0,gU(t)+1).replace(yU,"")}var J0=0/0,_U=/^[-+]0x[0-9a-f]+$/i,wU=/^0b[01]+$/i,EU=/^0o[0-7]+$/i,xU=parseInt;function TU(t){if(typeof t=="number")return t;if(jd(t))return J0;if(uc(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uc(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vU(t);var n=wU.test(t);return n||EU.test(t)?xU(t.slice(2),n?2:8):_U.test(t)?J0:+t}var Z0=1/0,IU=17976931348623157e292;function SU(t){if(!t)return t===0?t:0;if(t=TU(t),t===Z0||t===-Z0){var e=t<0?-1:1;return e*IU}return t===t?t:0}function RU(t){var e=SU(t),n=e%1;return e===e?n?e-n:e:0}function CU(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function AU(t){return typeof t=="function"?t:Ty}var kU=function(e){return"default"+(e[0].toUpperCase()+e.slice(1))},PU=function(e,n,r,i){i===void 0&&(i=!1);var s=n[e];if(s!==void 0)return s;if(i){var o=n[kU(e)];if(o!==void 0)return o;if(r){var a=r[e];if(a!==void 0)return a}}if(e==="checked")return!1;if(e==="value")return n.multiple?[]:""},NU=function(t){vy(e,t);function e(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n=t.call.apply(t,[this].concat(i))||this;var o=n.constructor,a=o.autoControlledProps,l=o.getAutoControlledStateFromProps,u=ns(fU(n),"getInitialAutoControlledState",n.props)||{},d=a.reduce(function(h,f){return h[f]=PU(f,n.props,u,!0),h},{});return n.state=Sr({},u,d,{autoControlledProps:a,getAutoControlledStateFromProps:l}),n}return e.getDerivedStateFromProps=function(r,i){var s=i.autoControlledProps,o=i.getAutoControlledStateFromProps,a=s.reduce(function(u,d){var h=!pU(r[d]);return h&&(u[d]=r[d]),u},{});if(o){var l=o(r,Sr({},i,a),i);return Sr({},a,l)}return a},e.getAutoControlledStateFromProps=function(){return null},e}(Q.Component),cc=function(e,n){return e&&n};function cR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=cR(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function dR(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=cR(t))&&(r&&(r+=" "),r+=e);return r}var bU=function(e,n){var r=e.handledProps,i=r===void 0?[]:r;return Object.keys(n).reduce(function(s,o){return o==="childKey"||i.indexOf(o)===-1&&(s[o]=n[o]),s},{})};const hR=bU;function fR(t,e,n){var r=t.defaultProps,i=r===void 0?{}:r;if(e.as&&e.as!==i.as)return e.as;if(n){var s=n();if(s)return s}return e.href?"a":i.as||"div"}var ew=function(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"},dc={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(var Ll=0;Ll<24;Ll+=1)dc[112+Ll]="F"+(Ll+1);for(var zh=0;zh<26;zh+=1){var Wh=zh+65;dc[Wh]=[String.fromCharCode(Wh+32),String.fromCharCode(Wh)]}var A={codes:dc,getCode:function(e){return ew(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var n=ew(e);if(n&&e.key)return e.key;var r=dc[n?e.keyCode||e.which:e];return Array.isArray(r)&&(n?r=r[e.shiftKey?1:0]:r=r[0]),r},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};A.Spacebar=A[" "];A.Digit0=A[0];A.Digit1=A[1];A.Digit2=A[2];A.Digit3=A[3];A.Digit4=A[4];A.Digit5=A[5];A.Digit6=A[6];A.Digit7=A[7];A.Digit8=A[8];A.Digit9=A[9];A.Tilde=A["~"];A.GraveAccent=A["`"];A.ExclamationPoint=A["!"];A.AtSign=A["@"];A.PoundSign=A["#"];A.PercentSign=A["%"];A.Caret=A["^"];A.Ampersand=A["&"];A.PlusSign=A["+"];A.MinusSign=A["-"];A.EqualsSign=A["="];A.DivisionSign=A["/"];A.MultiplicationSign=A["*"];A.Comma=A[","];A.Decimal=A["."];A.Colon=A[":"];A.Semicolon=A[";"];A.Pipe=A["|"];A.BackSlash=A["\\"];A.QuestionMark=A["?"];A.SingleQuote=A["'"];A.DoubleQuote=A['"'];A.LeftCurlyBrace=A["{"];A.RightCurlyBrace=A["}"];A.LeftParenthesis=A["("];A.RightParenthesis=A[")"];A.LeftAngleBracket=A["<"];A.RightAngleBracket=A[">"];A.LeftSquareBracket=A["["];A.RightSquareBracket=A["]"];var DU=A;const Hh=Dp(DU);var jU=9007199254740991,qh=4294967295,OU=Math.min;function LU(t,e){if(t=RU(t),t<1||t>jU)return[];var n=qh,r=OU(t,qh);e=AU(e),t-=qh;for(var i=CU(r,e);++n<t;)e(n);return i}var sl=function(t){vy(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.handleClick=function(a){ns(r.props,"onClick",a,r.props)},r.handleKeyUp=function(a){switch(ns(r.props,"onKeyUp",a,r.props),Hh.getCode(a)){case Hh.Enter:case Hh.Spacebar:a.preventDefault(),ns(r.props,"onClick",a,r.props);break}},r.handleMouseEnter=function(a){ns(r.props,"onMouseEnter",a,r.props)},r}var n=e.prototype;return n.render=function(){var i=this.props,s=i.active,o=i.className,a=i.selected,l=dR(cc(s,"active"),cc(a,"selected"),"icon",o),u=hR(e,this.props),d=fR(e,this.props);return Q.createElement(d,Sr({},u,{className:l,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,role:"radio"}))},e}(x.Component);sl.handledProps=["active","as","className","index","onClick","onKeyUp","onMouseEnter","selected"];sl.propTypes={};sl.defaultProps={as:"i"};var Li=function(t){vy(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.handleIconClick=function(a,l){var u=l.index,d=r.props,h=d.clearable,f=d.disabled,g=d.maxRating,_=d.onRate,v=r.state.rating;if(!f){var y=u+1;h==="auto"&&g===1?y=+!v:h===!0&&y===v&&(y=0),r.setState({rating:y,isSelecting:!1}),_&&_(a,Sr({},r.props,{rating:y}))}},r.handleIconMouseEnter=function(a,l){var u=l.index;r.props.disabled||r.setState({selectedIndex:u,isSelecting:!0})},r.handleMouseLeave=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];ns.apply(void 0,[r.props,"onMouseLeave"].concat(l)),!r.props.disabled&&r.setState({selectedIndex:-1,isSelecting:!1})},r}var n=e.prototype;return n.render=function(){var i=this,s=this.props,o=s.className,a=s.disabled,l=s.icon,u=s.maxRating,d=s.size,h=this.state,f=h.rating,g=h.selectedIndex,_=h.isSelecting,v=dR("ui",l,d,cc(a,"disabled"),cc(_&&!a&&g>=0,"selected"),"rating",o),y=hR(e,this.props),p=fR(e,this.props);return Q.createElement(p,Sr({},y,{className:v,role:"radiogroup",onMouseLeave:this.handleMouseLeave,tabIndex:a?0:-1}),LU(u,function(m){return Q.createElement(sl,{tabIndex:a?-1:0,active:f>=m+1,"aria-checked":f===m+1,"aria-posinset":m+1,"aria-setsize":u,index:m,key:m,onClick:i.handleIconClick,onMouseEnter:i.handleIconMouseEnter,selected:g>=m&&_})}))},e}(NU);Li.handledProps=["as","className","clearable","defaultRating","disabled","icon","maxRating","onRate","rating","size"];Li.propTypes={};Li.autoControlledProps=["rating"];Li.defaultProps={clearable:"auto",maxRating:1};Li.Icon=sl;function tw({userRating:t,size:e}){return c.jsx("div",{className:"mt-1",children:c.jsx(Li,{icon:"star",maxRating:5,rating:t,disabled:!0,className:e})})}const MU={title:"",rating:3,reviewDescription:"",dateReviewed:new Date},VU=()=>{const t=Br(),e=Bs(),n=zs(),[r,i]=x.useState(),[s,o]=x.useState(t.state),[a,l]=x.useState(MU),{title:u,rating:d,reviewDescription:h}=a,[f,g]=x.useState(0),[_,v]=x.useState(!1),y=Cn(F=>F.USER.currentUser),[p,m]=x.useState(null);let{name:w,productImage:E,price:T,sizes:S,description:k,featured:b,userRatings:q,docID:L,season:Re,theme:Nn}=s;x.useEffect(()=>{window.scrollTo(0,0)},[]),x.useEffect(()=>{fetch("/products-data").then(async F=>{const{productsDataInfo:oe}=await F.json();m(oe)})},[]);const Xt=()=>p?p.filter(F=>F.name!=w&&(F.season==Re||F.theme==Nn)).map((F,oe)=>{if(!(oe>3))return c.jsx(se,{reloadDocument:!0,to:`/product/${F.docID}`,onClick:()=>e(`/product/${F.docID}`,{state:F,replace:!0}),children:c.jsx(kn,{product:F})},oe)}):c.jsx("div",{children:"No Product Information Yet"});x.useEffect(()=>{if(q.length>0){if(y)for(let F=0;F<q.length;F++)q[F].userEmail===y.email&&v(!0);g(WS(s))}},[]),x.useEffect(()=>{S.s!=0?i("s"):S.m!=0?i("m"):S.l!=0?i("l"):S.xl!=0&&i("xl")},[]),x.useEffect(()=>{y&&l({...a,userEmail:y.email,displayName:y.displayName})},[y]);const Gr=F=>{const{name:oe,value:Qr}=F.target;l({...a,[oe]:Qr})},Mi=F=>{i(F)},we=F=>{F.preventDefault();const oe={...t.state,size:r};y?(FS(oe),n(zS(oe))):n(tx(oe))},cn=F=>c.jsx("button",{onClick:()=>Mi(F),type:"button",className:`text-center button-17 ${S[F]!=0?"":"disabled text-danger"} `,children:F.toUpperCase()}),P=async()=>{const F=[...q,a],oe={...s,userRatings:F};o(oe),await US({userRatings:F},L)},V=(F,{rating:oe})=>l({...a,rating:oe}),W=()=>c.jsx("div",{className:"accordion accordian-flush mt-4",id:"accordionExample",children:c.jsxs("div",{children:[c.jsx("h5",{id:"headingOne",className:"text-end",children:c.jsx("a",{className:"text-end","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne",style:{cursor:"pointer",textDecoration:"underline"},children:"Write a review"})}),c.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:c.jsxs("div",{className:"accordion-body",children:[c.jsxs("div",{className:"group mt-3 mb-4",children:[c.jsx("input",{className:"form-input-review",label:"Title",type:"text",required:!0,onChange:Gr,name:"title",value:u}),c.jsx("label",{className:`${u?"shrink":""} form-input-label`,children:"Title"})]}),c.jsxs("div",{className:"mb-3 d-flex align-items-center",children:[c.jsx("label",{htmlFor:"exampleFormControlInput3",className:"form-label fs-5 me-2",children:"Rating"}),c.jsx(Li,{icon:"star",defaultRating:3,maxRating:5,onRate:V,className:"fs-5"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label fs-5",children:"Description"}),c.jsx("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",name:"reviewDescription",value:h,onChange:Gr})]}),c.jsx(ot,{onClick:P,"data-bs-toggle":"collapse","data-bs-target":"#collapseOne",children:"Submit Review"})]})})]})}),ie=()=>{if(y){if(!_)return W()}else return c.jsx(se,{to:"/signin",children:c.jsx("h5",{className:"mt-3 text-end",style:{textDecoration:"underline"},children:"Write a review"})})},fe=()=>{if(s.userRatings.length>0)return s.userRatings.map((F,oe)=>c.jsxs("div",{className:"pb-0",style:{paddingTop:"24px",marginTop:"24px",borderTop:"solid 1px #ECECEC"},children:[c.jsx("h5",{className:"d-flex",style:{marginBottom:".5em"},children:c.jsx(tw,{userRating:F.rating})}),c.jsxs("div",{children:[c.jsx("div",{className:"fst-italic",style:{fontSize:"16px"},children:F.title}),c.jsx("span",{className:"fs-5 fw-bold",children:F.displayName}),c.jsx("span",{children:" on "}),c.jsx("span",{className:"fs-5 fw-bold",children:jF(F.dateReviewed)}),c.jsx("p",{className:"card-text pt-3",children:F.reviewDescription})]})]},oe))};return c.jsxs("section",{className:"container d-flex flex-column justify-content-center",style:{marginTop:"120px"},children:[c.jsxs("div",{className:"d-flex",children:[c.jsx("div",{className:"p-5 text-center",children:c.jsxs("div",{className:"image-container",children:[c.jsx("img",{className:"product__image",src:E,alt:"productImage"}),c.jsx("div",{className:"product__overlay",children:c.jsxs("div",{className:"p-2 d-flex",children:[f?c.jsxs("div",{style:{minWidth:"4rem",backgroundColor:"#eee"},className:"product__text-bubble d-flex align-items-center justify-content-center",children:[c.jsx("div",{className:"text-dark pe-1",children:f.toFixed(1)}),c.jsx("img",{src:gy,style:{width:14,height:14},className:"h-100"})]}):null,b?c.jsx("div",{className:"product__text-bubble",children:"Featured"}):null,HS(s)?c.jsx("div",{className:"product__text-bubble",children:"New"}):null]})})]})}),c.jsx("div",{className:"vr"}),c.jsxs("div",{className:"p-5 d-flex flex-column",children:[c.jsx("h2",{className:"text-capitalize fst-italic me-2",children:w}),c.jsxs("h4",{className:"mt-2 mb-2 pb-4 fs-5",style:{borderBottom:"solid 1px #d9d9d9"},children:["$",T]}),c.jsxs("p",{className:"m-1 mt-4 fs-5",children:["Size: ",r&&r.toUpperCase()]}),c.jsxs("div",{className:"d-flex mt-2",style:{gap:".5rem"},children:[cn("s"),cn("m"),cn("l"),cn("xl")]}),c.jsx("div",{className:"mt-3 mb-5 w-100",children:c.jsxs(ot,{onClick:we,buttonType:"google",children:["Add To Cart - $",T]})}),c.jsx("p",{className:"mb-1 fw-bold",children:"Description: "}),c.jsx("h3",{className:"fs-5",style:{minWidth:"33vw"},children:k})]})]}),c.jsxs("div",{style:{border:"solid .1rem #ECECEC",borderRadius:1,padding:"24px",margin:"100px 0"},children:[c.jsx("h4",{style:{fontFamily:"merriweather"},className:"mb-3",children:"Customer Reviews"}),f?c.jsx(tw,{userRating:f}):null,c.jsxs("div",{className:"fs-4",children:["Based on ",s.userRatings.length," ",s.userRatings.length==1?"Review":"Reviews"]}),c.jsx("div",{className:"fs-5",children:ie()}),fe()]}),c.jsxs("div",{style:{paddingBottom:100},className:" h-100",children:[c.jsx("h4",{className:"fw-bold fs-3 mb-4",style:{fontFamily:"merriweather"},children:"Check these out"}),c.jsx("div",{className:"grid grid-cols-4",children:Xt()})]})]})},FU=()=>c.jsx("div",{className:"mt-5 pt-5 d-flex",children:c.jsx("div",{className:"card",style:{width:"40rem"},children:c.jsxs("div",{className:"card-body",children:[c.jsx("h2",{className:"card-title",children:"Order placed, thanks!"}),c.jsx("h5",{className:"card-subtitle mb-2 text-muted",children:"Confirmation will be sent to your email."})]})})});const zt=({label:t,...e})=>c.jsxs("div",{className:"group",children:[c.jsx("input",{className:"form-input",...e}),t&&c.jsx("label",{className:`${e.value?"shrink":""} form-input-label`,children:t})]});const nw={displayName:"",email:"",password:"",confirmPassword:""},$U=()=>{const[t,e]=x.useState(nw),{displayName:n,email:r,password:i,confirmPassword:s}=t,o=()=>{e(nw)},a=async u=>{if(u.preventDefault(),i!==s){alert("Passwords do not match!");return}try{const{user:d}=await IF(r,i);await VS(d,{displayName:n}),loadFromLogin(!0),o()}catch(d){d.code==="auth/email-already-in-use"&&alert("Cannot create user, email already in use"),console.log("user creation encoutered an error",d)}},l=u=>{const{name:d,value:h}=u.target;e({...t,[d]:h})};return c.jsxs("div",{className:"sign-up-container",children:[c.jsx("h2",{children:"Don't have an account?"}),c.jsx("span",{children:"Sign up with your email and password"}),c.jsxs("form",{onSubmit:a,autoComplete:"off",children:[c.jsx(zt,{label:"Display Name",type:"text",required:!0,onChange:l,name:"displayName",value:n}),c.jsx(zt,{label:"Email",type:"email",required:!0,onChange:l,name:"email",value:r}),c.jsx(zt,{label:"Password",type:"password",required:!0,onChange:l,name:"password",value:i}),c.jsx(zt,{label:"Confirm Password",type:"password",required:!0,onChange:l,name:"confirmPassword",value:s}),c.jsx(ot,{type:"submit",children:"Sign Up"})]})]})};const rw={email:"",password:""},UU=({loadFromLogin:t})=>{const e=Br(),n=Bs(),r=zs();let i=Cn(f=>f.URL.currentURL);const[s,o]=x.useState(rw),{email:a,password:l}=s;i==""&&(i="/"),x.useEffect(()=>{(async()=>{const g=await gD(un);if(g){t(!0),await VS(g.user);const{displayName:_,email:v,reviews:y,cart:p,photoURL:m,isAdmin:w}=await kp();r(ac({displayName:_,email:v,reviews:y,cart:p,photoURL:m,isAdmin:w})),t(!1),n(`${i}`,{state:e.state})}})()},[]);const u=()=>{o(rw)},d=async f=>{f.preventDefault();try{await SF(a,l).then(async g=>{t(!0),console.log(g.user);const{displayName:_,email:v,reviews:y,cart:p,photoURL:m,isAdmin:w}=await kp();r(ac({displayName:_,email:v,reviews:y,cart:p,photoURL:m,isAdmin:w})),t(!1),n(`${i}`,{state:e.state})}),u()}catch(g){switch(g.code){case"auth/wrong-password":alert("incorrect password for email");break;case"auth/user-not-found":alert("no user associated with this email");break;default:console.log(g)}}},h=f=>{const{name:g,value:_}=f.target;o({...s,[g]:_})};return c.jsxs("div",{className:"sign-up-container",children:[c.jsx("h2",{children:"Already have an account?"}),c.jsx("span",{children:"Sign in with your email and password"}),c.jsxs("form",{onSubmit:d,autoComplete:"off",children:[c.jsx(zt,{label:"Email",type:"email",required:!0,onChange:h,name:"email",value:a}),c.jsx(zt,{label:"Password",type:"password",required:!0,onChange:h,name:"password",value:l}),c.jsxs("div",{className:"buttons-container",children:[c.jsx(ot,{type:"submit",children:"Sign In"}),c.jsx(ot,{buttonType:"google",type:"button",onClick:TF,children:"Google Sign In"})]})]})]})};var pR={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.cssValue=Ms.parseLengthAndUnit=void 0;var BU={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function mR(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return BU[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}Ms.parseLengthAndUnit=mR;function zU(t){var e=mR(t);return"".concat(e.value).concat(e.unit)}Ms.cssValue=zU;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.createAnimation=void 0;var WU=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r};Md.createAnimation=WU;var hc=Rn&&Rn.__assign||function(){return hc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hc.apply(this,arguments)},HU=Rn&&Rn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),qU=Rn&&Rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KU=Rn&&Rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&HU(e,t,n);return qU(e,t),e},GU=Rn&&Rn.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(pR,"__esModule",{value:!0});var QU=KU(x),iw=Ms,XU=Md,YU=(0,XU.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function JU(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?35:u,h=GU(t,["loading","color","speedMultiplier","cssOverride","size"]),f=hc({background:"transparent !important",width:(0,iw.cssValue)(d),height:(0,iw.cssValue)(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(YU," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?QU.createElement("span",hc({style:f},h)):null}var ZU=pR.default=JU;const e3=()=>{const[t,e]=x.useState(!1),n=r=>{e(r)};return c.jsx("div",{style:{height:"100vh"},className:"d-flex justify-content-center align-items-center w-100",children:t?c.jsx("div",{className:"align-items-center",children:c.jsx(ZU,{})}):c.jsxs("div",{className:"sign-in-container container",style:{display:"flex",maxWidth:"900px",width:"80%",justifyContent:"space-between",margin:"30px auto"},children:[c.jsx(UU,{loadFromLogin:n}),c.jsx("div",{className:"vr vr-signin"}),c.jsx($U,{loadFromLogin:n})]})})},t3=({modalId:t})=>c.jsxs("div",{className:"edit-button",children:[c.jsx("p",{children:c.jsx("a",{className:"btn btn-outline-danger","data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample",children:"Remove Item"})}),c.jsx("div",{className:"collapse",id:"collapseExample",children:c.jsxs("div",{className:"card card-body d-flex align-items-centered",children:["Are you sure you want to delete?",c.jsxs("div",{className:"d-flex align-items-centered justify-content-centered",children:[c.jsx("button",{onClick:async()=>await AF(t),children:"Yes"}),c.jsx("button",{href:"#collapseExample","data-bs-toggle":"collapse","aria-expanded":"false","aria-controls":"collapseExample",children:"No"})]})]})})]}),n3=({product:t,toggleChangeMade:e})=>{const[n,r]=x.useState(t),{name:i,price:s,description:o,featured:a,docID:l,sizes:u}=n,[d,h]=x.useState(u),f=`exampleModal-${l}`,g=y=>{const{name:p,value:m}=y.target;r({...n,[p]:m})},_=(y,p)=>{const{value:m}=p.target;h({...d,[y]:parseInt(m)})};x.useEffect(()=>{r({...n,sizes:{...d}})},[d]);const v=async y=>{y.preventDefault();try{await US(n,l),e()}catch(p){p.code==="auth/email-already-in-use"&&alert("Cannot create user, email already in use"),console.log("user creation encoutered an error",p)}};return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-outline-secondary edit-button me-3","data-bs-toggle":"modal","data-bs-target":`#${f}`,children:"Edit"}),c.jsx("div",{className:"modal fade",id:f,tabIndex:"-1","aria-labelledby":`${f}-label`,"aria-hidden":"true",children:c.jsx("div",{className:"modal-dialog",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title text-capitalize",id:`${f}-label`,children:i}),c.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),c.jsx("div",{className:"modal-body",children:c.jsxs("form",{id:`updateProductForm${f}`,onSubmit:v,children:[c.jsx(zt,{label:"Name",type:"text",required:!0,onChange:g,name:"name",value:i}),c.jsx(zt,{label:"Price",type:"number",autoComplete:"off",required:!0,onChange:g,name:"price",value:s}),c.jsx("div",{className:"",children:c.jsx(zt,{label:"Description",type:"text",required:!0,onChange:g,name:"description",value:o})}),c.jsxs("label",{children:["Featured:",c.jsx("input",{type:"checkbox",checked:a,onChange:()=>r({...n,featured:!a})})]}),c.jsx("div",{className:"group",children:Object.keys(d).map(y=>c.jsxs("div",{className:"mb-3",children:[c.jsxs("label",{htmlFor:`sizeInput_${y}`,className:"form-label",children:["Size ",y.toUpperCase()]}),c.jsx("input",{type:"number",className:"form-control form-input-control",id:`sizeInput_${y}`,value:parseInt(d[y]),onChange:p=>_(y,p)})]},y))})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"submit",form:`updateProductForm${f}`,"data-bs-dismiss":"modal","data-bs-target":`#${f}`,className:"btn btn-primary",children:"Save changes"})]})]})})})]})};const r3=({product:t,toggleChangeMade:e})=>{const{name:n,productImage:r,price:i,sizes:s,description:o,featured:a,docID:l}=t;return x.useEffect(()=>{},[t]),c.jsxs("div",{className:"mt-4 text-center d-flex edit-button-container",style:{minWidth:"700px",height:200},children:[c.jsx("img",{src:r,alt:"productImage"}),c.jsxs("div",{className:"d-flex flex-column align-items-start ps-4",children:[c.jsx("h4",{className:"text-capitalize fw-bold",children:n}),c.jsxs("p",{className:"fs-4 mb-2",children:["$",i]}),a?c.jsx("h6",{className:"fw-bold text-warning bg-dark p-2",children:"FEATURED"}):null,c.jsx("p",{className:"text-start",children:o}),c.jsxs("div",{className:"d-flex",children:[c.jsx(n3,{product:t,toggleChangeMade:e}),c.jsx(t3,{modalId:l})]})]}),c.jsxs("ul",{className:"list-group list-group-flush fs-5 flex-fill ps-5 ms-5",style:{minWidth:"30%"},children:[c.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[c.jsx("p",{className:"mb-0",children:"S"})," ",c.jsx("p",{children:s.s})]}),c.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[c.jsx("p",{className:"mb-0",children:"M"})," ",c.jsx("p",{children:s.m})]}),c.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[c.jsx("p",{className:"mb-0",children:"L"})," ",c.jsx("p",{children:s.l})]}),c.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[c.jsx("p",{className:"mb-0",children:"XL"})," ",c.jsx("p",{children:s.xl})]})]})]})},i3=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!1);x.useEffect(()=>{fetch("/products-data").then(async o=>{const{productsDataInfo:a}=await o.json();e(a)})},[n]);const i=()=>{r(!n)},s=()=>t?t.map((o,a)=>c.jsx("div",{children:c.jsx(r3,{product:o,toggleChangeMade:i})},a)):c.jsx("div",{children:"No Product Information Yet"});return c.jsxs("div",{style:{marginTop:"150px"},children:[c.jsx(se,{className:"btn btn-primary",to:"new",children:"Create New Product"}),c.jsx("div",{children:s()})]})},sw={name:"",price:0,description:"",sizes:{s:0,m:0,l:0,xl:0},theme:"light",season:"summer",gender:"M",productImage:"",userRatings:[],featured:!1,dateCreated:new Date},s3=()=>{const[t,e]=x.useState(sw),{name:n,price:r,description:i,season:s,theme:o,gender:a,productImage:l,featured:u}=t,[d,h]=x.useState(sw.sizes),f=v=>{const{name:y,value:p}=v.target,m=y==="price"?parseFloat(p):p;e({...t,[y]:m})},g=(v,y)=>{const{value:p}=y.target;h({...d,[v]:parseInt(p)})};x.useEffect(()=>{e({...t,sizes:{...d}})},[d]);const _=async v=>{v.preventDefault();try{await CF(t)}catch(y){y.code==="auth/email-already-in-use"&&alert("Cannot create user, email already in use"),console.log("user creation encoutered an error",y)}};return c.jsxs("div",{className:"mt-5 pt-5",style:{paddingTop:"300px"},children:[c.jsx("h1",{children:"New Product"}),c.jsx("div",{className:"modal-body",children:c.jsxs("form",{id:"AdminProductNewForm",onSubmit:_,children:[c.jsx(zt,{label:"Name",type:"text",required:!0,onChange:f,name:"name",value:n}),c.jsx(zt,{label:"Price",type:"number",autoComplete:"off",required:!0,onChange:f,name:"price",value:r}),c.jsx(zt,{label:"Description",type:"text",required:!0,onChange:f,name:"description",value:i}),c.jsx("div",{children:c.jsxs("label",{children:["Select Season:",c.jsxs("select",{value:s,onChange:f,name:"season",children:[c.jsx("option",{value:"summer",children:"Summer"}),c.jsx("option",{value:"winter",children:"Winter"})]})]})}),c.jsx("div",{children:c.jsxs("label",{children:["Select Theme:",c.jsxs("select",{value:o,onChange:f,name:"theme",children:[c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"dark",children:"Dark"})]})]})}),c.jsx("div",{children:c.jsxs("label",{children:["Select Gender:",c.jsxs("select",{value:a,onChange:f,name:"gender",children:[c.jsx("option",{value:"M",children:"Male"}),c.jsx("option",{value:"F",children:"Female"})]})]})}),c.jsxs("label",{children:["Featured:",c.jsx("input",{type:"checkbox",onChange:()=>e({...t,featured:!u})})]}),c.jsx("div",{className:"group",children:Object.keys(d).map(v=>c.jsxs("div",{className:"mb-3",children:[c.jsxs("label",{htmlFor:`sizeInput_${v}`,className:"form-label",children:["Size ",v.toUpperCase()]}),c.jsx("input",{type:"number",className:"form-control form-input-control",id:`sizeInput_${v}`,value:parseInt(d[v]),onChange:y=>g(v,y)})]},v))}),c.jsx("div",{children:c.jsx("input",{type:"file",accept:".png",id:"imageInput",onChange:$S})}),c.jsx("div",{children:l&&c.jsx("div",{children:c.jsx("img",{src:l,alt:"Uploaded",style:{maxWidth:"200px"}})})}),c.jsx("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})})]})},o3=()=>{const[t,e]=x.useState(),[n,r]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{fetch("/products-data").then(async u=>{const{productsDataInfo:d}=await u.json();e(d)})},[]);const o=u=>{r(u)},a=()=>{if(t){let u=[...t];return n==="featured"?u=u.sort((d,h)=>h.featured-d.featured):n==="new"?u=u.sort((d,h)=>h.dateCreated.seconds-d.dateCreated.seconds):n==="lowToHigh"?u=u.sort((d,h)=>d.price-h.price):n==="highToLow"&&(u=u.sort((d,h)=>h.price-d.price)),u.filter(d=>i?d.sizes[i]!=0:d).map((d,h)=>c.jsx(se,{to:`/product/${d.docID}`,state:d,children:c.jsx(kn,{product:d})},h))}},l=()=>{s(null),r(null),document.querySelectorAll('[name="flexRadioDefault"]').forEach(u=>u.checked=!1),document.querySelectorAll('[name="flexRadioDefault2"]').forEach(u=>u.checked=!1)};return c.jsx("div",{className:"d-flex flex-column mt-5",children:c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"150px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"All"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!n&&!i?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:l,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLink",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onChange:()=>o("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onChange:()=>o("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3",onChange:()=>o("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault4",onChange:()=>o("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault21",onChange:()=>s("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault22",onChange:()=>s("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault23",onChange:()=>s("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault24",onChange:()=>s("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:a()})]})})},a3=()=>{const[t,e]=x.useState(),[n,r]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{fetch("/products-data").then(async u=>{const{productsDataInfo:d}=await u.json();e(d)})},[]);const o=u=>{r(u)},a=()=>{if(t){let u=[...t];return n==="featured"?u=u.sort((d,h)=>h.featured-d.featured):n==="new"?u=u.sort((d,h)=>h.dateCreated.seconds-d.dateCreated.seconds):n==="lowToHigh"?u=u.sort((d,h)=>d.price-h.price):n==="highToLow"&&(u=u.sort((d,h)=>h.price-d.price)),u.filter(d=>i?d.gender==="M"&&d.sizes[i]!=0:d.gender==="M").map((d,h)=>c.jsx(se,{to:`/product/${d.docID}`,state:d,children:c.jsx(kn,{product:d})},h))}},l=()=>{s(null),r(null),document.querySelectorAll('[name="flexRadioDefault"]').forEach(u=>u.checked=!1),document.querySelectorAll('[name="flexRadioDefault2"]').forEach(u=>u.checked=!1)};return c.jsx("div",{className:"d-flex flex-column mt-5",children:c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"150px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"Mens"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!n&&!i?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:l,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLink",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onChange:()=>o("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onChange:()=>o("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3",onChange:()=>o("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault4",onChange:()=>o("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault21",onChange:()=>s("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault22",onChange:()=>s("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault23",onChange:()=>s("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault24",onChange:()=>s("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:a()})]})})},l3=()=>{const[t,e]=x.useState(),[n,r]=x.useState(null),[i,s]=x.useState(null),[o,a]=x.useState(null),[l,u]=x.useState(null);x.useEffect(()=>{fetch("/products-data").then(async y=>{const{productsDataInfo:p}=await y.json();e(p)})},[]);const d=y=>{r(y)},h=y=>{a(y)},f=()=>{if(t){let y=[...t];return n==="featured"?y=y.sort((p,m)=>m.featured-p.featured):n==="new"?y=y.sort((p,m)=>m.dateCreated.seconds-p.dateCreated.seconds):n==="lowToHigh"?y=y.sort((p,m)=>p.price-m.price):n==="highToLow"&&(y=y.sort((p,m)=>m.price-p.price)),y.filter(p=>i?p.season==="winter"&&p.sizes[i]!=0:p.season==="winter").map((p,m)=>c.jsx(se,{to:`/product/${p.docID}`,state:p,children:c.jsx(kn,{product:p})},m))}},g=()=>{s(null),r(null),document.querySelectorAll('[name="flexRadioDefault"]').forEach(y=>y.checked=!1),document.querySelectorAll('[name="flexRadioDefault2"]').forEach(y=>y.checked=!1)},_=()=>{u(null),a(null),document.querySelectorAll('[name="flexRadioDefaultdark"]').forEach(y=>y.checked=!1),document.querySelectorAll('[name="flexRadioDefault2dark"]').forEach(y=>y.checked=!1)},v=()=>{if(t){let y=[...t];return o==="featured"?y=y.sort((p,m)=>m.featured-p.featured):o==="new"?y=y.sort((p,m)=>m.dateCreated.seconds-p.dateCreated.seconds):o==="lowToHigh"?y=y.sort((p,m)=>p.price-m.price):o==="highToLow"&&(y=y.sort((p,m)=>m.price-p.price)),y.filter(p=>l?p.season==="summer"&&p.sizes[l]!=0:p.season==="summer").map((p,m)=>c.jsx(se,{to:`/product/${p.docID}`,state:p,children:c.jsx(kn,{product:p})},m))}};return c.jsxs("div",{className:"d-flex flex-column mt-5",children:[c.jsxs("div",{style:{paddingBottom:100},id:"winter",children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"150px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"Winter"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!n&&!i?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:g,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLink",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onChange:()=>d("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onChange:()=>d("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3",onChange:()=>d("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault4",onChange:()=>d("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault21",onChange:()=>s("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault22",onChange:()=>s("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault23",onChange:()=>s("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault24",onChange:()=>s("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:f()})]}),c.jsxs("div",{style:{paddingBottom:100},id:"summer",children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"60px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"Summer"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!o&&!l?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:_,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLinkdark","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLinkdark",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefaultdark",id:"flexRadioDefault1dark",onChange:()=>h("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1dark",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefaultdark",id:"flexRadioDefault2dark",onChange:()=>h("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2dark",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",dark:!0,id:"flexRadioDefault3dark",onChange:()=>h("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3dark",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefaultdark",id:"flexRadioDefault4dark",onChange:()=>h("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4dark",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2dark","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2dark",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault21dark",onChange:()=>u("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21dark",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault22dark",onChange:()=>u("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22dark",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault23dark",onChange:()=>u("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23dark",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault24dark",onChange:()=>u("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24dark",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:v()})]})]})},u3=()=>{const[t,e]=x.useState(),[n,r]=x.useState(null),[i,s]=x.useState(null),[o,a]=x.useState(null),[l,u]=x.useState(null);x.useEffect(()=>{fetch("/products-data").then(async y=>{const{productsDataInfo:p}=await y.json();e(p)})},[]);const d=y=>{r(y)},h=y=>{a(y)},f=()=>{if(t){let y=[...t];return n==="featured"?y=y.sort((p,m)=>m.featured-p.featured):n==="new"?y=y.sort((p,m)=>m.dateCreated.seconds-p.dateCreated.seconds):n==="lowToHigh"?y=y.sort((p,m)=>p.price-m.price):n==="highToLow"&&(y=y.sort((p,m)=>m.price-p.price)),y.filter(p=>i?p.theme==="light"&&p.sizes[i]!=0:p.theme==="light").map((p,m)=>c.jsx(se,{to:`/product/${p.docID}`,state:p,children:c.jsx(kn,{product:p})},m))}},g=()=>{s(null),r(null),document.querySelectorAll('[name="flexRadioDefault"]').forEach(y=>y.checked=!1),document.querySelectorAll('[name="flexRadioDefault2"]').forEach(y=>y.checked=!1)},_=()=>{u(null),a(null),document.querySelectorAll('[name="flexRadioDefaultdark"]').forEach(y=>y.checked=!1),document.querySelectorAll('[name="flexRadioDefault2dark"]').forEach(y=>y.checked=!1)},v=()=>{if(t){let y=[...t];return o==="featured"?y=y.sort((p,m)=>m.featured-p.featured):o==="new"?y=y.sort((p,m)=>m.dateCreated.seconds-p.dateCreated.seconds):o==="lowToHigh"?y=y.sort((p,m)=>p.price-m.price):o==="highToLow"&&(y=y.sort((p,m)=>m.price-p.price)),y.filter(p=>l?p.theme==="dark"&&p.sizes[l]!=0:p.theme==="dark").map((p,m)=>c.jsx(se,{to:`/product/${p.docID}`,state:p,children:c.jsx(kn,{product:p})},m))}};return c.jsxs("div",{className:"d-flex flex-column mt-5",children:[c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"150px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"Light"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!n&&!i?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:g,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLink",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onChange:()=>d("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onChange:()=>d("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3",onChange:()=>d("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault4",onChange:()=>d("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault21",onChange:()=>s("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault22",onChange:()=>s("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault23",onChange:()=>s("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault24",onChange:()=>s("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:f()})]}),c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"60px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"Dark"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!o&&!l?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:_,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLinkdark","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLinkdark",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefaultdark",id:"flexRadioDefault1dark",onChange:()=>h("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1dark",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefaultdark",id:"flexRadioDefault2dark",onChange:()=>h("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2dark",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",dark:!0,id:"flexRadioDefault3dark",onChange:()=>h("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3dark",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefaultdark",id:"flexRadioDefault4dark",onChange:()=>h("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4dark",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2dark","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2dark",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault21dark",onChange:()=>u("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21dark",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault22dark",onChange:()=>u("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22dark",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault23dark",onChange:()=>u("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23dark",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2dark",id:"flexRadioDefault24dark",onChange:()=>u("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24dark",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:v()})]})]})},c3=()=>{const[t,e]=x.useState(),[n,r]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{fetch("/products-data").then(async u=>{const{productsDataInfo:d}=await u.json();e(d)})},[]);const o=u=>{r(u)},a=()=>{if(t){let u=[...t];return n==="featured"?u=u.sort((d,h)=>h.featured-d.featured):n==="new"?u=u.sort((d,h)=>h.dateCreated.seconds-d.dateCreated.seconds):n==="lowToHigh"?u=u.sort((d,h)=>d.price-h.price):n==="highToLow"&&(u=u.sort((d,h)=>h.price-d.price)),u.filter(d=>i?d.gender==="F"&&d.sizes[i]!=0:d.gender==="F").map((d,h)=>c.jsx(se,{to:`/product/${d.docID}`,state:d,children:c.jsx(kn,{product:d})},h))}},l=()=>{s(null),r(null),document.querySelectorAll('[name="flexRadioDefault"]').forEach(u=>u.checked=!1),document.querySelectorAll('[name="flexRadioDefault2"]').forEach(u=>u.checked=!1)};return c.jsx("div",{className:"d-flex flex-column mt-5",children:c.jsxs("div",{style:{paddingBottom:100},children:[c.jsx("div",{className:"pb-4 mb-3",style:{fontFamily:"merriweather",backgroundColor:"#eee",minWidth:"100vw",paddingTop:"150px"},children:c.jsx("div",{className:"fw-bold container",style:{fontFamily:"merriweather",fontSize:"2.4rem"},children:"Womens"})}),c.jsxs("div",{className:"container mb-5 pb-3 p-0 d-flex gap-2",style:{borderBottom:"solid 1px #d9d9d9"},children:[c.jsx("button",{className:`dropdown-button-container ${!n&&!i?"d-none":""}`,style:{backgroundColor:"#d9d9d9"},onClick:l,children:"X Clear All"}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Sort"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2",style:{width:"250px"},"aria-labelledby":"dropdownMenuLink",children:[c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",onChange:()=>o("featured")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault1",children:"Featured"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",onChange:()=>o("new")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault2",children:"New"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3",onChange:()=>o("lowToHigh")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault3",children:"Price, low to high"})]}),c.jsxs("div",{className:"p-2 d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input m-0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault4",onChange:()=>o("highToLow")}),c.jsx("label",{style:{cursor:"pointer"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault4",children:"Price, high to low"})]})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{className:"dropdown-button-container dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink2","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Availability"}),c.jsxs("div",{className:"dropdown-menu p-0 mt-2","aria-labelledby":"dropdownMenuLink2",children:[c.jsxs("div",{className:" d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input p-2 ms-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault21",onChange:()=>s("s")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault21",children:"s"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault22",onChange:()=>s("m")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault22",children:"m"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault23",onChange:()=>s("l")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault23",children:"l"})]}),c.jsxs("div",{className:"d-flex align-items-center gap-2 dropdown-button-item",children:[c.jsx("input",{className:"form-check-input ms-2 p-2",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault24",onChange:()=>s("xl")}),c.jsx("label",{style:{cursor:"pointer",padding:"3px 3px 3px 0"},className:"form-check-label fs-5 w-100",htmlFor:"flexRadioDefault24",children:"xl"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-4 container p-0",children:a()})]})})},d3=()=>c.jsxs("div",{style:{height:350,width:"100vw",backgroundColor:"#eee",borderTop:"solid 1px #d9d9d9",color:"#161625",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[c.jsx("div",{className:"container d-flex flex-column",style:{height:"70%"},children:c.jsxs("div",{style:{paddingTop:"2rem",paddingBottom:"2rem",gap:"3rem",display:"flex",flexGrow:1,justifyContent:"space-between"},className:"flex-wrap",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"fw-bold mb-3",children:"Save 10%"}),c.jsx("div",{className:"fs-5",children:"Keep up to date on our new collections."}),c.jsx("form",{className:"fs-5",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("input",{type:"email",placeholder:"Enter your email address",className:"form-control mb-3 mt-2",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),c.jsx(ot,{type:"submit",buttonType:"small",children:"Submit"})]})})]}),c.jsx("div",{}),c.jsx("div",{}),c.jsxs("div",{children:[c.jsx("h5",{className:"fw-bold mb-3",children:c.jsx(se,{to:"all",children:"Shop"})}),c.jsx("div",{className:"fs-5",children:c.jsx(se,{to:"themes",children:"Themes"})}),c.jsx("div",{className:"fs-5",children:c.jsx(se,{to:"seasonal",children:"Seasonal"})}),c.jsx("div",{className:"fs-5",children:c.jsx(se,{to:"mens",children:"Mens"})}),c.jsx("div",{className:"fs-5",children:c.jsx(se,{to:"womens",children:"Womens"})})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"fw-bold mb-3",children:"Brand"}),c.jsx("div",{className:"fs-5",children:"About Us"}),c.jsx("div",{className:"fs-5",children:"Contact"})]})]})}),c.jsx("div",{style:{borderTop:"solid 1px #d9d9d9"},className:"container",children:c.jsxs("div",{className:" d-flex flex-wrap flex-column",style:{gap:"1rem",paddingTop:".5rem",paddingBottom:".5rem",height:"100%"},children:[c.jsxs("div",{className:"d-flex justify-content-end fs-5 ",children:[c.jsx("div",{className:"me-3 text-decoration-underline",children:"Terms of Service"}),c.jsx("div",{className:"text-decoration-underline",children:"Privacy Policy"})]}),c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("div",{className:"text-secondary flex-fill d-flex align-items-center",children:c.jsx("div",{className:"ms-4",children:"$ USD · EN"})}),c.jsx("div",{children:"Copyright 2023. All rights reserved."})]})]})})]});function h3(){const t=zs();return x.useEffect(()=>{RF(async e=>{if(e){const{displayName:n,email:r,reviews:i,cart:s,photoURL:o,isAdmin:a}=await kp();t(ac({displayName:n,email:r,reviews:i,cart:s,photoURL:o,isAdmin:a}))}})},[]),c.jsxs("main",{className:"bg-light",children:[c.jsx(FF,{}),c.jsx("div",{className:" d-flex flex-column align-items-center",children:c.jsxs(Ak,{children:[c.jsx(Ct,{path:"/",element:c.jsx(S4,{})}),c.jsx(Ct,{path:"payment",element:c.jsx(g4,{})}),c.jsx(Ct,{path:"product/:docID",element:c.jsx(VU,{})}),c.jsx(Ct,{path:"signin",element:c.jsx(e3,{})}),c.jsx(Ct,{path:"all",element:c.jsx(o3,{})}),c.jsx(Ct,{path:"mens",element:c.jsx(a3,{})}),c.jsx(Ct,{path:"womens",element:c.jsx(c3,{})}),c.jsx(Ct,{path:"seasonal",element:c.jsx(l3,{})}),c.jsx(Ct,{path:"themes",element:c.jsx(u3,{})}),c.jsx(Ct,{path:"payment/completion",element:c.jsx(FU,{})}),c.jsx(Ct,{path:"admin/products",element:c.jsx(i3,{})}),c.jsx(Ct,{path:"admin/products/new",element:c.jsx(s3,{})})]})}),c.jsx(d3,{})]})}const f3=aN({reducer:{CART:ex.reducer,USER:BS.reducer,URL:qS.reducer}});Kh.createRoot(document.getElementById("root")).render(c.jsx(jk,{children:c.jsx(SP,{store:f3,children:c.jsx(h3,{})})}));
